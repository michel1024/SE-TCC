{"version":3,"sources":["../node_modules/@pnp/common/util.js","../node_modules/@pnp/common/collections.js","../node_modules/@pnp/common/libconfig.js","../node_modules/tslib/tslib.es6.js","../node_modules/@pnp/common/safe-global.js","../node_modules/@pnp/common/net.js","../node_modules/@pnp/common/spfxcontextinterface.js","../node_modules/@pnp/common/storage.js","../node_modules/@pnp/common/index.js","../node_modules/@pnp/sp/splibconfig.js","../node_modules/@pnp/sp/rest.js","../node_modules/@pnp/odata/batch.js","../node_modules/@pnp/odata/caching.js","../node_modules/@pnp/odata/add-prop.js","../node_modules/@pnp/odata/invokable-extensions.js","../node_modules/@pnp/odata/invokable-binder.js","../node_modules/@pnp/odata/parsers.js","../node_modules/@pnp/odata/queryable.js","../node_modules/@pnp/logging/logger.js","../node_modules/@pnp/logging/listeners.js","../node_modules/@pnp/logging/index.js","../node_modules/@pnp/odata/pipeline.js","../node_modules/@pnp/odata/pipeline-binder.js","../node_modules/@pnp/odata/request-builders.js","../node_modules/@pnp/odata/index.js","../node_modules/@pnp/sp/utils/metadata.js","../node_modules/@pnp/sp/utils/extractweburl.js","../node_modules/@pnp/sp/telemetry.js","../node_modules/@pnp/sp/sphttpclient.js","../node_modules/@pnp/sp/utils/toabsoluteurl.js","../node_modules/@pnp/sp/operations.js","../node_modules/@pnp/sp/sharepointqueryable.js","../node_modules/@pnp/sp/odata.js","../node_modules/@pnp/sp/decorators.js","../node_modules/@pnp/sp/utils/escapeQueryStrValue.js","../node_modules/@pnp/sp/utils/toResourcePath.js","../node_modules/@pnp/sp/lists/types.js","../node_modules/@pnp/sp/items/types.js","../node_modules/@pnp/sp/items/list.js","../node_modules/@pnp/sp/items/index.js","../node_modules/@pnp/sp/batch.js","../node_modules/@pnp/sp/sites/types.js","../node_modules/@pnp/sp/sites/index.js","../node_modules/@pnp/sp/webs/types.js","../node_modules/@pnp/sp/lists/web.js","../node_modules/@pnp/sp/lists/index.js","../node_modules/@pnp/sp/webs/index.js","../node_modules/@pnp/sp/types.js","../node_modules/@pnp/sp/utils/objectToSPKeyValueCollection.js","../node_modules/@pnp/sp/utils/file-names.js","../node_modules/@pnp/sp/index.js","../node_modules/@pnp/sp/presets/core.js","Utilities/utils.ts","Template/IniciativasTemplate.ts","BusinessLogic/HistoricoBL.ts","Controller/PuntajeController.ts","Controller/IniciativasController.ts","../node_modules/@pnp/sp/files/types.js","../node_modules/@pnp/sp/appcatalog/types.js","../node_modules/@pnp/sp/appcatalog/web.js","../node_modules/@pnp/sp/appcatalog/index.js","../node_modules/@pnp/sp/attachments/types.js","../node_modules/@pnp/sp/attachments/item.js","../node_modules/@pnp/sp/attachments/index.js","../node_modules/@pnp/sp/clientside-pages/funcs.js","../node_modules/@pnp/sp/files/web.js","../node_modules/@pnp/sp/comments/types.js","../node_modules/@pnp/sp/comments/item.js","../node_modules/@pnp/sp/clientside-pages/types.js","../node_modules/@pnp/sp/clientside-pages/web.js","../node_modules/@pnp/sp/clientside-pages/index.js","../node_modules/@pnp/sp/folders/types.js","../node_modules/@pnp/sp/column-defaults/list.js","../node_modules/@pnp/sp/column-defaults/folder.js","../node_modules/@pnp/sp/column-defaults/index.js","../node_modules/@pnp/sp/comments/index.js","../node_modules/@pnp/sp/content-types/types.js","../node_modules/@pnp/sp/content-types/web.js","../node_modules/@pnp/sp/content-types/item.js","../node_modules/@pnp/sp/content-types/list.js","../node_modules/@pnp/sp/content-types/index.js","../node_modules/@pnp/sp/features/types.js","../node_modules/@pnp/sp/features/site.js","../node_modules/@pnp/sp/features/web.js","../node_modules/@pnp/sp/features/index.js","../node_modules/@pnp/sp/fields/types.js","../node_modules/@pnp/sp/fields/web.js","../node_modules/@pnp/sp/fields/list.js","../node_modules/@pnp/sp/fields/index.js","../node_modules/@pnp/sp/files/folder.js","../node_modules/@pnp/sp/files/item.js","../node_modules/@pnp/sp/files/index.js","../node_modules/@pnp/sp/folders/item.js","../node_modules/@pnp/sp/folders/list.js","../node_modules/@pnp/sp/folders/web.js","../node_modules/@pnp/sp/folders/index.js","../node_modules/@pnp/sp/forms/types.js","../node_modules/@pnp/sp/forms/list.js","../node_modules/@pnp/sp/forms/index.js","../node_modules/@pnp/sp/hubsites/types.js","../node_modules/@pnp/sp/hubsites/site.js","../node_modules/@pnp/sp/hubsites/web.js","../node_modules/@pnp/sp/hubsites/index.js","../node_modules/@pnp/sp/navigation/types.js","../node_modules/@pnp/sp/navigation/web.js","../node_modules/@pnp/sp/navigation/index.js","../node_modules/@pnp/sp/profiles/types.js","../node_modules/@pnp/sp/profiles/index.js","../node_modules/@pnp/sp/regional-settings/types.js","../node_modules/@pnp/sp/regional-settings/funcs.js","../node_modules/@pnp/sp/regional-settings/web.js","../node_modules/@pnp/sp/user-custom-actions/types.js","../node_modules/@pnp/sp/regional-settings/user-custom-actions.js","../node_modules/@pnp/sp/regional-settings/list.js","../node_modules/@pnp/sp/regional-settings/field.js","../node_modules/@pnp/sp/regional-settings/content-type.js","../node_modules/@pnp/sp/regional-settings/index.js","../node_modules/@pnp/sp/related-items/types.js","../node_modules/@pnp/sp/related-items/index.js","../node_modules/@pnp/sp/search/query.js","../node_modules/@pnp/sp/search/suggest.js","../node_modules/@pnp/sp/search/types.js","../node_modules/@pnp/sp/search/index.js","../node_modules/@pnp/sp/site-users/types.js","../node_modules/@pnp/sp/site-groups/types.js","../node_modules/@pnp/sp/security/types.js","../node_modules/@pnp/sp/security/funcs.js","../node_modules/@pnp/sp/security/item.js","../node_modules/@pnp/sp/security/list.js","../node_modules/@pnp/sp/security/web.js","../node_modules/@pnp/sp/security/index.js","../node_modules/@pnp/sp/sharing/types.js","../node_modules/@pnp/sp/sharing/funcs.js","../node_modules/@pnp/sp/sharing/file.js","../node_modules/@pnp/sp/sharing/folder.js","../node_modules/@pnp/sp/sharing/item.js","../node_modules/@pnp/sp/sharing/web.js","../node_modules/@pnp/sp/sharing/index.js","../node_modules/@pnp/sp/site-designs/types.js","../node_modules/@pnp/sp/site-designs/web.js","../node_modules/@pnp/sp/site-designs/index.js","../node_modules/@pnp/sp/site-groups/web.js","../node_modules/@pnp/sp/site-groups/index.js","../node_modules/@pnp/sp/site-scripts/types.js","../node_modules/@pnp/sp/site-scripts/web.js","../node_modules/@pnp/sp/site-scripts/list.js","../node_modules/@pnp/sp/site-scripts/index.js","../node_modules/@pnp/sp/site-users/web.js","../node_modules/@pnp/sp/site-users/index.js","../node_modules/@pnp/sp/social/types.js","../node_modules/@pnp/sp/social/index.js","../node_modules/@pnp/sp/sputilities/types.js","../node_modules/@pnp/sp/sputilities/index.js","../node_modules/@pnp/sp/subscriptions/types.js","../node_modules/@pnp/sp/subscriptions/list.js","../node_modules/@pnp/sp/subscriptions/index.js","../node_modules/@pnp/sp/taxonomy/types.js","../node_modules/@pnp/sp/taxonomy/index.js","../node_modules/@pnp/sp/user-custom-actions/list.js","../node_modules/@pnp/sp/user-custom-actions/web.js","../node_modules/@pnp/sp/user-custom-actions/site.js","../node_modules/@pnp/sp/user-custom-actions/index.js","../node_modules/@pnp/sp/views/types.js","../node_modules/@pnp/sp/views/list.js","../node_modules/@pnp/sp/views/index.js","../node_modules/@pnp/sp/webparts/types.js","../node_modules/@pnp/sp/webparts/file.js","../node_modules/@pnp/sp/webparts/index.js","../node_modules/@pnp/sp/presets/all.js","Utilities/PeoplePicker.ts","Template/registro.ts","Controller/ComiteValoracionController.ts","Controller/PromoteController.ts","BusinessLogic/PromoteBL.ts","BusinessLogic/IniciativasBL.ts","Template/ComiteValoracionTemplate.ts","BusinessLogic/ComiteValoracionBL.ts","Iniciativas.ts"],"names":["getCtxCallback","context","method","params","_i","arguments","length","apply","dateAdd","date","interval","units","ret","Date","toString","toLowerCase","setFullYear","getFullYear","setMonth","getMonth","setDate","getDate","setTime","getTime","undefined","combine","paths","filter","path","stringIsNullOrEmpty","map","replace","join","getRandomString","chars","text","Array","i","charAt","Math","floor","random","getGUID","d","now","c","r","isFunc","f","objectDefinedNotNull","obj","isArray","array","constructor","assign","target","source","noOverwrite","check","o","v","Object","getOwnPropertyNames","reduce","t","isUrlAbsolute","url","test","s","sanitizeGuid","guid","matches","exec","jsS","JSON","stringify","hOP","p","hasOwnProperty","call","getHashCode","hash","chr","charCodeAt","objectEntries","entries","keys","k","objectToMap","Map","mergeMaps","maps","forEach","set","setup","config","RuntimeConfig","RuntimeConfigImpl","_v","prototype","get","key","defineProperty","enumerable","configurable","_runtimeConfig","extendStatics","b","setPrototypeOf","__proto__","__extends","__","create","__assign","n","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","y","g","verb","Symbol","iterator","op","TypeError","pop","push","__exportStar","m","exports","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","default","__importDefault","safeGlobal","global","window","mergeHeaders","temp","Request","headers","name","append","mergeOptions","getADALResource","u","URL","protocol","hostname","FetchClient","fetch","options","BearerTokenFetchClient","_super","_token","_this","token","Headers","SPFxAdalClient","_a","getToken","resource","provider","aadTokenProviderFactory","getTokenProvider","PnPClientStorageWrapper","store","defaultTimeoutMinutes","enabled","enableCacheExpiration","cacheExpirationHandler","bind","MemoryStorage","getItem","persistable","parse","expiration","delete","put","expire","setItem","createPersistable","removeItem","getOrPut","getter","deleteExpired","str","defaultTimeout","defaultCachingTimeoutSeconds","pnp","setTimeout","cacheExpirationIntervalMilliseconds","catch","console","_store","size","clear","index","from","data","PnPClientStorage","_local","_session","localStorage","sessionStorage","emptyGuid","SPRuntimeConfigImpl","spPart","baseUrl","spfxContext","pageContext","web","absoluteUrl","fetchClientFactory","SPRuntimeConfig","SPRest","_options","_baseUrl","configure","sp","Batch","_batchId","_reqs","_deps","_rDeps","_index","sort","info1","info2","track","batchee","batch","batchIndex","add","info","id","requestId","toUpperCase","parser","addDependency","resolver","addResolveBatchDependency","execute","all","executeImpl","CachingOptions","storeName","defaultCachingStore","storage","local","session","CachingParserWrapper","cacheOptions","response","cacheData","addProp","factory","_enableExtensions","globaExtensions","ObjExtensionsSym","extendGlobal","extendCol","extendObj","extensions","has","extendFactory","clearGlobalExtensions","disableExtensions","enableExtensions","applyFactoryExtensions","args","extensionOrDefault","or","rest","extension","invokableBinder","invoker","as","ags","ie11","Proxy","_thisArg","argArray","receiver","invokableFactory","defaultAction","ODataParser","handleError","parseImpl","parseFloat","status","txt","json","parseODataJSON","ok","HttpRequestError","init","results","TextParser","BlobParser","blob","JSONParser","BufferParser","arrayBuffer","buffer","LambdaParser","message","statusText","isHttpRequestError","clone","Error","cloneQueryableData","parsed","batchDependency","cachingOptions","clientFactory","Queryable","dataSeed","_data","cloneParentWasCaching","parentUrl","query","useCaching","toUrl","pathPart","configureFrom","usingCaching","globalCacheDisable","usingParser","withPipeline","pipeline","pipes","slice","inBatch","hasBatch","addBatchDependency","cloneTo","settings","includeBatch","cloneParentCacheOptions","Logger","instance","activeLogLevel","_instance","LoggerImpl","subscribe","listeners","listener","clearSubscribers","count","write","level","log","writeJSON","entry","err","subscribers","subscriber","LogLevel","ConsoleListener","msg","format","warn","FunctionListener","returnResult","setResult","hasResult","pipe","promise","ctx","isBatched","requestPipelineMethod","alwaysRun","propertyKey","descriptor","PipelineMethods","logStart","caching","hydrate","send","batchId","client","opts","logEnd","getDefaultPipeline","pipelineBinder","defaultPipelineBinder","previous","type","extractWebUrl","candidateUrl","substr","tag","originalMethod","getClientTag","h","deleteFromCollection","methodName","isTagged","SPHttpClient","_impl","_digestCache","getDigestFactory","clientTag","digest","cache","credentials","fetchRaw","rawHeaders","retry","setRetry","delay","parseInt","attempts","retryCount","post","patch","digests","webUrl","cachedDigest","resp","newCachedDigest","GetContextWebInformation","FormDigestTimeoutSeconds","FormDigestValue","toAbsoluteUrl","_spPageContextInfo","webAbsoluteUrl","webServerRelativeUrl","location","baseUrl_1","spClientBinder","operation","toUrlAndQuery","spGet","_forceCaching","spPost","spDelete","spPatch","spPostDelete","spPostDeleteETag","eTag","spInvokableFactory","_SharePointQueryable","lastIndexOf","aliasedParams","match","labelName","char","select","selects","expand","expands","additionalPath","getParent","parent","SharePointQueryable","_SharePointQueryableCollection","orderBy","ascending","split","skip","top","SharePointQueryableCollection","_SharePointQueryableInstance","_update","mapper","props","SharePointQueryableInstance","deleteable","deleteableWithETag","odataUrlFrom","candidate","parts","uri","editLink","SPODataEntityParserImpl","SPODataEntityArrayParserImpl","spODataEntity","spODataEntityArray","defaultPath","class_1","escapeQueryStrValue","encodeURIComponent","toResourcePath","DecodedUrl","_Lists","getById","List","getByTitle","title","template","enableContentTypes","additionalSettings","addSettings","list","Title","ensure","addOrUpdateSettings","e_1","Description","ContentTypesEnabled","update","created","ensureSiteAssetsLibrary","Lists","ensureSitePagesLibrary","_List","properties","postBody","getChanges","getItemsByCAMLQuery","getListItemChangesSinceToken","recycle","Recycle","renderListData","viewXml","RenderListData","renderListDataAsStream","parameters","overrideParameters","queryParams","RenderOptions","renderListFormData","itemId","formId","mode","RenderListFormData","reserveListItemId","ReserveListItemId","getListItemEntityTypeFullName","ListItemEntityTypeFullName","addValidateUpdateItemUsingPath","formValues","decodedUrl","bNewDocumentUpdate","checkInComment","additionalProps","addProps","res","FolderPath","leafName","LeafName","objectType","UnderlyingObjectType","listItemCreateInfo","AddValidateUpdateItemUsingPath","RenderListDataOptions","ControlMode","_Items","Item","getItemByStringId","stringId","reverse","getPaged","PagedItemCollectionParser","getAll","requestSize","acceptHeader","items","Items","itemsCollector","gatherer","last","hasNext","getNext","listItemEntityTypeFullName","removeDependency","listItemEntityType","ensureListItemEntityTypeName","item","Id","candidatelistItemEntityTypeFullName","_Item","ItemVersions","poster","ItemUpdatedParser","getWopiFrameUrl","action","GetWOPIFrameUrl","validateUpdateListItem","_ItemVersions","versionId","ItemVersion","_ItemVersion","PagedItemCollection","nextUrl","_parent","__next","SPBatch","ParseResponse","responses","header","statusRegExp","RegExp","lines","state","line","trim","Response","absoluteRequestUrl","batchBody","currentChangeSetId","reqInfo","castHeaders","batchOptions","fetchResponse","requests","request","_b","_c","_Site","getRootWeb","rootWeb","Url","getContextInfo","Site","SupportedSchemaVersions","createBatch","site","siteId","getDocumentLibraries","absoluteWebUrl","GetDocumentLibraries","getWebUrlFromPageUrl","absolutePageUrl","GetWebUrlFromPageUrl","Web","openWebById","webId","createCommunicationSite","lcid","shareByEmailEnabled","description","classification","siteDesignId","hubSiteId","owner","createCommunicationSiteFromProps","Classification","HubSiteId","Lcid","Owner","ShareByEmailEnabled","SiteDesignId","WebTemplate","WebTemplateExtensionId","exists","createModernTeamSite","displayName","alias","isPublic","owners","createModernTeamSiteFromProps","optionalParams","CreationOptions","Owners","_Webs","language","inheritPermissions","Language","UseSamePermissionsAsParentSite","Webs","_Web","getParentWeb","ParentWeb","getSubwebsFilteredForCurrentUser","nWebTemplateFilter","nConfigurationFilter","applyTheme","colorPaletteUrl","fontSchemeUrl","backgroundImageUrl","shareGenerated","applyWebTemplate","availableWebTemplates","includeCrossLanugage","mapToIcon","filename","progId","getStorageEntity","setStorageEntity","comments","removeStorageEntity","getList","listRelativeUrl","getCatalog","PrincipalType","PrincipalSource","PageType","objectToSPKeyValueCollection","Key","Value","ValueType","InvalidFileFolderNameCharsOnlineRegex","InvalidFileFolderNameCharsOnPremiseRegex","containsInvalidFileFolderChars","input","onPremise","stripInvalidFileFolderChars","replacer","_Files","getByName","File","content","shouldOverWrite","Files","file","addUsingPath","Overwrite","AutoCheckoutOnInvalidData","XorHash","addChunked","progress","chunkSize","setContentChunked","addTemplateFile","fileUrl","templateFileType","_File","Versions","approve","comment","cancelUpload","uploadId","checkin","checkinType","CheckinType","Major","checkout","copyTo","copyByPath","destUrl","KeepBoth","srcUrl","webBaseUrl","hostUrl","ServerRelativeUrl","destPath","ResetAuthorAndCreatedOnCopy","ShouldBypassSharedLocks","srcPath","deny","moveTo","moveOperations","MoveOperations","moveByPath","publish","undoCheckout","unpublish","getText","getBlob","getBuffer","getJSON","setContent","listItemAllFields","fileSize","totalBlocks","currentPointer","blockNumber","stage","startUpload","continueUpload","finishUpload","fragment","StartUpload","fileOffset","ContinueUpload","_Versions","Version","deleteAll","deleteById","recycleByID","deleteByLabel","recycleByLabel","restoreByLabel","_Version","TemplateFileType","_AppCatalog","getAppById","App","syncSolutionToTeams","useSharePointItemId","appId","listId","listItems","lists","AppCatalog","adder","_App","deploy","skipFeatureDeployment","do","retract","install","uninstall","upgrade","remove","getAppCatalog","getTenantAppCatalogWeb","CorporateCatalogUrl","_Attachments","Attachment","Attachments","addMultiple","files","deleteMultiple","recycleMultiple","_Attachment","getParsed","getNextOrder","collection","max","order","reindex","columns","controls","getFileByServerRelativeUrl","fileRelativeUrl","getFileByServerRelativePath","getFileById","uniqueId","getFileByUrl","_Comments","Comments","Comment","_Comment","Replies","like","unlike","_Replies","getLikedBy","getLikedByInformation","PromotedState","initFrom","ClientsidePage","_ClientsidePage","noInit","sections","commentsDisabled","_bannerImageDirty","_pageSettings","controlType","pageSettingsSlice","isDefaultDescription","isDefaultThumbnail","_layoutPart","getDefaultLayoutPart","fromJSON","dataVersion","instanceId","authorByline","authors","layoutType","showPublishDate","showTopicHeader","textAlignment","topicHeader","serverProcessedContent","htmlStrings","searchablePlainTexts","imageSources","links","PageLayoutType","BannerImageUrl","TopicHeader","findIndex","layoutIndex","AuthorByline","hasVerticalSection","addVerticalSection","addSection","section","CanvasSection","sectionIndex","pageData","canvasControls","CanvasContent1","layouts","LayoutWebpartsContent","setControls","load","CommentsDisabled","save","origImgUrl","imgFile","siteId_1","webId_1","imgId_1","listId_1","webUrl_1","saveBody","updater","r1","r2","r3","UniqueId","ParentList","bannerImageUrl","imageSource","customMetadata","IsPageCheckedOutToCurrentUser","getCanvasContent1","getLayoutWebpartsContent","discardPageCheckout","promoteToNews","promoteNewsImpl","findControlById","findControl","predicate","copy","pageName","promotedState","page","makeGuid","guidSite","guidWeb","guidFile","openWeb","CreateClientsidePage","pageLayout","getControls","searchParams","translateX","translateY","imageSourceType","altText","setBannerImage","setAuthorById","authorId","userLoginData","setAuthorByLoginName","LoginName","authorLoginName","role","upn","UserPrincipalName","initer","listData","itemData","mergeColumnToTree","CanvasColumn","part","ClientsideWebpart","mergePartToTree","position","textData","ClientsideText","innerHTML","canvasData","column","displayMode","emphasis","getEmphasisObj","control","zoneEmphasis","lastPubData","VersionInfo","LastVersionCreatedBy","LastVersionCreated","positionData","sectionFactor","zoneIndex","getOrCreateSection","addColumn","addControl","ClientsidePageFromFile","pageInitData","newPage","_emphasis","_memId","_order","_layoutIndex","factor","defaultColumn","Default","_section","getControl","ColumnControl","_column","onColumnChange","setData","anchorComponentId","startsWith","controlIndex","col","addedFromPersistedData","editorType","fromComponentDef","definition","import","webPartData","reservedHeight","reservedWidth","setProperties","getProperties","component","componendId","manifest","Manifest","preconfiguredEntries","webPartId","getClientsideWebParts","addClientsidePage","layout","loadClientsidePage","_Folders","Folder","Folders","folder","serverRelativeUrl","overwrite","_Folder","getShareable","shareable","getDefaultColumnValues","baseFilePath","xml","tags","rootFolder","ServerRelativePath","decodeURIComponent","setDefaultColumnValues","defaults","fieldDefs","existingReceivers","fieldDefault","fd","InternalName","fieldDef","TypeAsString","wssId","termName","termId","eventReceivers","eventReceiverCreationInformation","EventType","ReceiverAssembly","ReceiverClass","ReceiverName","SequenceNumber","Synchronization","folderProps","serRelPath","docLib","vti_x005f_listname","fieldDefaults","merge","folderPath","existingDefaults","filteredExistingDefaults","existing","find","ed","clearDefaultColumnValues","_ContentTypes","addAvailableContentType","contentTypeId","ContentTypes","contentType","ContentType","group","_ContentType","FieldLinks","_FieldLinks","FieldLink","_FieldLink","_Features","force","Features","featdefScope","featureId","feature","Feature","_Feature","deactivate","DefinitionId","_Fields","Field","getByInternalNameOrTitle","createFieldAsXml","SchemaXml","Fields","field","fieldType","addText","maxLength","FieldTypeKind","MaxLength","addCalculated","formula","dateFormat","outputType","FieldTypes","Text","DateFormat","Formula","OutputType","addDateTime","displayFormat","calendarType","friendlyDisplayFormat","DateTimeFieldFormatType","DateOnly","CalendarType","Gregorian","DateTimeFieldFriendlyFormatType","Unspecified","DateTimeCalendarType","DisplayFormat","FriendlyDisplayFormat","addNumber","minValue","maxValue","MinimumValue","MaximumValue","addCurrency","currencyLocalId","CurrencyLocaleId","addMultilineText","numberOfLines","richText","restrictedMode","appendOnly","allowHyperlink","AllowHyperlink","AppendOnly","NumberOfLines","RestrictedMode","RichText","addUrl","UrlFieldFormatType","Hyperlink","addUser","selectionMode","SelectionMode","addLookup","lookupListId","lookupFieldName","LookupFieldName","LookupListId","addChoice","choices","fillIn","ChoiceFieldFormatType","Dropdown","Choices","EditFormat","FillInChoice","addMultiChoice","addBoolean","addDependentLookupField","primaryLookupFieldId","showField","addLocation","_Field","req","setShowInDisplayForm","show","setShowInEditForm","setShowInNewForm","AddFieldOptions","FieldUserSelectionMode","getFolderByServerRelativeUrl","folderRelativeUrl","getFolderByServerRelativePath","getFolderById","_Forms","Form","Forms","_Form","_HubSites","HubSite","HubSites","_HubSite","getSite","SiteUrl","joinHubSite","registerHubSite","unRegisterHubSite","hubSiteData","forceRefresh","syncHubSiteTheme","_NavigationNodes","NavigationNode","visible","IsVisible","NavigationNodes","node","moveAfter","nodeId","previousNodeId","_NavigationNode","_Navigation","Navigation","_NavigationService","getMenuState","menuNodeKey","depth","mapProviderName","customProperties","NavigationService","getMenuNodeKey","currentUrl","_Profiles","clientPeoplePickerQuery","ClientPeoplePickerQuery","profileLoader","ProfileLoader","Profiles","amIFollowedBy","loginName","amIFollowing","getFollowedTags","maxCount","getFollowersFor","getPeopleFollowedBy","getPropertiesFor","getUserProfilePropertyFor","propertyName","hideSuggestion","isFollowing","follower","followee","setMyProfilePic","profilePicSource","reader","FileReader","onload","readAsArrayBuffer","String","fromCharCode","Uint16Array","setSingleValueProfileProperty","accountName","propertyValue","setMultiValuedProfileProperty","propertyValues","createPersonalSiteEnqueueBulk","emails","ownerUserProfile","userProfile","createPersonalSite","interactiveRequest","shareAllSocialData","share","clientPeoplePickerResolveUser","clientPeoplePickerSearchUser","ProfileLoaderFactory","ClientPeoplePickerFactory","getBodyFrom","ClientPeoplePickerResolveUser","ClientPeoplePickerSearchUser","UrlZone","_RegionalSettings","TimeZone","TimeZones","getInstalledLanguages","RegionalSettings","_TimeZone","utcToLocalTime","utcTime","dateIsoString","toISOString","UTCToLocalTime","localTimeToUTC","localTime","getTimezoneOffset","LocalTimeToUTC","_TimeZones","getValueForUICultureBinder","propName","cultureName","titleResource","descriptionResource","_UserCustomActions","UserCustomAction","UserCustomActions","_UserCustomAction","UserCustomActionRegistrationType","UserCustomActionScope","_RelatedItemManager","getRelatedItems","sourceListName","sourceItemId","RelatedItemManager","SourceItemID","SourceListName","getPageOneRelatedItems","addSingleLink","sourceWebUrl","targetListName","targetItemID","targetWebUrl","tryAddReverseLink","SourceWebUrl","TargetItemID","TargetListName","TargetWebUrl","TryAddReverseLink","addSingleLinkToUrl","targetItemUrl","TargetItemUrl","addSingleLinkFromUrl","sourceItemUrl","targetItemId","SourceItemUrl","deleteSingleLink","tryDeleteReverseLink","TryDeleteReverseLink","funcs","toPropCase","$1","SearchQueryBuilder","queryText","_query","Querytext","self","proxy","pk","mappedPk","propKey","queryRegex","_Search","queryInit","cacheKey","parseQuery","HitHighlightedProperties","fixArrProp","Properties","RefinementFilters","ReorderingRules","SelectProperties","SortList","SearchResults","prop","finalQuery","toSearchQuery","Search","rawResponse","_url","_raw","_primary","postquery","RawSearchResults","ElapsedTime","PrimaryQueryResult","RelevantResults","RowCount","TotalRows","TotalRowsIncludingDuplicates","_d","formatSearchResults","Table","Rows","getPage","pageNumber","pageSize","rows","RowLimit","StartRow","rawResults","tempResults","tempResults_1","tempResults_1_1","tempResult","cells","Cells","cell","writable","e_1_1","return","_Suggest","mapQueryToQueryString","s_1","suggest","s_2","PeopleNames","PersonalResults","Queries","setProp","checkProp","querytext","querySetter","Suggest","SortDirection","ReorderingRuleMatchType","QueryPropertyValueType","SearchBuiltInSourceId","Documents","ItemsMatchingContentType","ItemsMatchingTag","ItemsRelatedToCurrentUser","ItemsWithSameKeywordAsThisItem","LocalPeopleResults","LocalReportsAndDataResults","LocalSharePointResults","LocalVideoResults","Pages","Pictures","Popular","RecentlyChangedItems","RecommendedItems","Wiki","search","searchWithCaching","searchSuggest","_SiteUsers","SiteUser","getByEmail","email","getByLoginName","removeById","SiteUsers","removeByLoginName","_SiteUser","user","_SiteGroups","SiteGroup","groupName","SiteGroups","_SiteGroup","retGroup","setUserAsOwner","userId","_RoleAssignments","RoleAssignment","principalId","roleDefId","RoleAssignments","_RoleAssignment","_RoleDefinitions","RoleDefinition","getByType","roleTypeKind","basePermissions","BasePermissions","Name","Order","RoleDefinitions","_RoleDefinition","parent_1","PermissionKind","getUserEffectivePermissions","GetUserEffectivePermissions","getCurrentUserEffectivePermissions","EffectiveBasePermissions","breakRoleInheritance","copyRoleAssignments","clearSubscopes","resetRoleInheritance","userHasPermissions","permission","perms","hasPermissions","currentUserHasPermissions","perm","FullMask","High","Low","num","SharingRole","SPSharedObjectType","SharingDomainRestrictionMode","SharingOperationStatusCode","SharingLinkKind","RoleType","shareObject","bypass","roleValue","userStr","sendShareObjectRequest","includeAnonymousLinkInEmail","propagateAcl","useSimplifiedRoles","getRoleValue","loginNames","peoplePickerInput","emailData","emailBody","emailSubject","subject","sendEmail","getShareLink","kind","expString","createLink","linkKind","checkPermissions","recipients","getSharingInformation","getObjectSharingSettings","unshareObject","deleteLinkByKind","unshareLink","shareId","shareWith","requireSignin","roleFilter","w","def","login","Edit","Contributor","Reader","g1","g2","Guest","View","checkSharingPermissions","unshare","deleteSharingLinkByKind","shareEverything","dependency","shareObjectRaw","_SiteDesigns","createSiteDesign","creationInfo","SiteDesignsCloneFactory","applySiteDesign","getSiteDesigns","getSiteDesignMetadata","updateSiteDesign","updateInfo","deleteSiteDesign","getSiteDesignRights","grantSiteDesignRights","principalNames","grantedRights","revokeSiteDesignRights","addSiteDesignTask","addSiteDesignTaskToCurrentWeb","getSiteDesignTask","task","getSiteDesignRun","getSiteDesignRunStatus","runId","SiteDesigns","getSiteDesignRuns","createDefaultAssociatedGroups","groupNameSeed","siteOwner","siteOwner2","_SiteScripts","getSiteScripts","SiteScriptsCloneFactory","createSiteScript","getSiteScriptMetadata","deleteSiteScript","updateSiteScript","Content","getSiteScriptFromList","listUrl","getSiteScriptFromWeb","executeSiteScriptAction","actionDefinition","SiteScripts","SiteScriptActionOutcome","getSiteScript","extractInfo","absoluteListUrl","ensureUser","logonName","getUserById","_Social","MySocial","getFollowedSitesUri","SocialCloneFactory","FollowedSitesUri","getFollowedDocumentsUri","FollowedDocumentsUri","follow","actorInfo","createSocialActorInfoRequestBody","isFollowed","stopFollowing","Social","_MySocial","followed","types","MySocialCloneFactory","Followed","followedCount","FollowedCount","followers","Followers","suggestions","Suggestions","SocialActorType","SocialActorTypes","SocialFollowResult","SocialStatusCode","_Utilities","excute","Body","From","Subject","To","CC","BCC","AdditionalHeaders","UtilitiesCloneFactory","getCurrentUserEmailAddresses","resolvePrincipal","scopes","sources","inputIsEmailOnly","addToUserInfoList","matchUserInfoList","searchPrincipals","createEmailBodyForInvitation","pageAddress","expandGroupsToPrincipals","inputs","createWikiPage","Utilities","_Subscriptions","subscriptionId","Subscription","notificationUrl","expirationDate","clientState","subscription","Subscriptions","_Subscription","expirationDateTime","_TermStore","TermGroups","TermStore","_TermGroups","TermGroup","_TermGroup","TermSets","_TermSets","TermSet","_TermSet","Terms","Relations","_Terms","Term","_Term","_Relations","Relation","_Relation","_Views","personalView","Views","view","_View","ViewFields","renderAsHtml","setViewXml","_ViewFields","getSchemaXml","fieldTitleOrInternalName","move","removeAll","fieldInternalName","ViewScope","getView","viewId","_LimitedWebPartManager","WebPartDefinitions","export","LimitedWebPartManagerCloneFactory","webPartXml","LimitedWebPartManager","_WebPartDefinitions","WebPartDefinition","getByControlId","_WebPartDefinition","saveChanges","zoneId","close","open","WebPartsPersonalizationScope","getLimitedWebPartManager","scope","Shared"],"mappings":"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","file":"Iniciativas.js","sourceRoot":"..\\src","sourcesContent":["/**\r\n * Gets a callback function which will maintain context across async calls.\r\n * Allows for the calling pattern getCtxCallback(thisobj, method, methodarg1, methodarg2, ...)\r\n *\r\n * @param context The object that will be the 'this' value in the callback\r\n * @param method The method to which we will apply the context and parameters\r\n * @param params Optional, additional arguments to supply to the wrapped method when it is invoked\r\n */\r\nexport function getCtxCallback(context, method) {\r\n    var params = [];\r\n    for (var _i = 2; _i < arguments.length; _i++) {\r\n        params[_i - 2] = arguments[_i];\r\n    }\r\n    return function () {\r\n        method.apply(context, params);\r\n    };\r\n}\r\n/**\r\n * Adds a value to a date\r\n *\r\n * @param date The date to which we will add units, done in local time\r\n * @param interval The name of the interval to add, one of: ['year', 'quarter', 'month', 'week', 'day', 'hour', 'minute', 'second']\r\n * @param units The amount to add to date of the given interval\r\n *\r\n * http://stackoverflow.com/questions/1197928/how-to-add-30-minutes-to-a-javascript-date-object\r\n */\r\nexport function dateAdd(date, interval, units) {\r\n    var ret = new Date(date.toString()); // don't change original date\r\n    switch (interval.toLowerCase()) {\r\n        case \"year\":\r\n            ret.setFullYear(ret.getFullYear() + units);\r\n            break;\r\n        case \"quarter\":\r\n            ret.setMonth(ret.getMonth() + 3 * units);\r\n            break;\r\n        case \"month\":\r\n            ret.setMonth(ret.getMonth() + units);\r\n            break;\r\n        case \"week\":\r\n            ret.setDate(ret.getDate() + 7 * units);\r\n            break;\r\n        case \"day\":\r\n            ret.setDate(ret.getDate() + units);\r\n            break;\r\n        case \"hour\":\r\n            ret.setTime(ret.getTime() + units * 3600000);\r\n            break;\r\n        case \"minute\":\r\n            ret.setTime(ret.getTime() + units * 60000);\r\n            break;\r\n        case \"second\":\r\n            ret.setTime(ret.getTime() + units * 1000);\r\n            break;\r\n        default:\r\n            ret = undefined;\r\n            break;\r\n    }\r\n    return ret;\r\n}\r\n/**\r\n * Combines an arbitrary set of paths ensuring and normalizes the slashes\r\n *\r\n * @param paths 0 to n path parts to combine\r\n */\r\nexport function combine() {\r\n    var paths = [];\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n        paths[_i] = arguments[_i];\r\n    }\r\n    return paths\r\n        .filter(function (path) { return !stringIsNullOrEmpty(path); })\r\n        .map(function (path) { return path.replace(/^[\\\\|\\/]/, \"\").replace(/[\\\\|\\/]$/, \"\"); })\r\n        .join(\"/\")\r\n        .replace(/\\\\/g, \"/\");\r\n}\r\n/**\r\n * Gets a random string of chars length\r\n *\r\n * https://stackoverflow.com/questions/1349404/generate-random-string-characters-in-javascript\r\n *\r\n * @param chars The length of the random string to generate\r\n */\r\nexport function getRandomString(chars) {\r\n    var text = new Array(chars);\r\n    for (var i = 0; i < chars; i++) {\r\n        text[i] = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\".charAt(Math.floor(Math.random() * 62));\r\n    }\r\n    return text.join(\"\");\r\n}\r\n/**\r\n * Gets a random GUID value\r\n *\r\n * http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript\r\n */\r\n/* tslint:disable no-bitwise */\r\nexport function getGUID() {\r\n    var d = Date.now();\r\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\r\n        var r = (d + Math.random() * 16) % 16 | 0;\r\n        d = Math.floor(d / 16);\r\n        return (c === \"x\" ? r : (r & 0x3 | 0x8)).toString(16);\r\n    });\r\n}\r\n/* tslint:enable */\r\n/**\r\n * Determines if a given value is a function\r\n *\r\n * @param cf The thing to test for functionness\r\n */\r\nexport function isFunc(f) {\r\n    return typeof f === \"function\";\r\n}\r\n/**\r\n * Determines if an object is both defined and not null\r\n * @param obj Object to test\r\n */\r\nexport function objectDefinedNotNull(obj) {\r\n    return typeof obj !== \"undefined\" && obj !== null;\r\n}\r\n/**\r\n * @returns whether the provided parameter is a JavaScript Array or not.\r\n*/\r\nexport function isArray(array) {\r\n    return Array.isArray ? Array.isArray(array) : array && typeof array.length === \"number\" && array.constructor === Array;\r\n}\r\n/**\r\n * Provides functionality to extend the given object by doing a shallow copy\r\n *\r\n * @param target The object to which properties will be copied\r\n * @param source The source object from which properties will be copied\r\n * @param noOverwrite If true existing properties on the target are not overwritten from the source\r\n * @param filter If provided allows additional filtering on what properties are copied (propName: string) => boolean\r\n *\r\n */\r\nexport function assign(target, source, noOverwrite, filter) {\r\n    if (noOverwrite === void 0) { noOverwrite = false; }\r\n    if (filter === void 0) { filter = function () { return true; }; }\r\n    if (!objectDefinedNotNull(source)) {\r\n        return target;\r\n    }\r\n    // ensure we don't overwrite things we don't want overwritten\r\n    var check = noOverwrite ? function (o, i) { return !(i in o); } : function () { return true; };\r\n    // final filter we will use\r\n    var f = function (v) { return check(target, v) && filter(v); };\r\n    return Object.getOwnPropertyNames(source)\r\n        .filter(f)\r\n        .reduce(function (t, v) {\r\n        t[v] = source[v];\r\n        return t;\r\n    }, target);\r\n}\r\n/**\r\n * Determines if a given url is absolute\r\n *\r\n * @param url The url to check to see if it is absolute\r\n */\r\nexport function isUrlAbsolute(url) {\r\n    return /^https?:\\/\\/|^\\/\\//i.test(url);\r\n}\r\n/**\r\n * Determines if a string is null or empty or undefined\r\n *\r\n * @param s The string to test\r\n */\r\nexport function stringIsNullOrEmpty(s) {\r\n    return s === undefined || s === null || s.length < 1;\r\n}\r\n/**\r\n * Ensures guid values are represented consistently as \"ea123463-137d-4ae3-89b8-cf3fc578ca05\"\r\n *\r\n * @param guid The candidate guid\r\n */\r\nexport function sanitizeGuid(guid) {\r\n    if (stringIsNullOrEmpty(guid)) {\r\n        return guid;\r\n    }\r\n    var matches = /([0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12})/i.exec(guid);\r\n    return matches === null ? guid : matches[1];\r\n}\r\n/**\r\n * Shorthand for JSON.stringify\r\n *\r\n * @param o Any type of object\r\n */\r\nexport function jsS(o) {\r\n    return JSON.stringify(o);\r\n}\r\n/**\r\n * Shorthand for Object.hasOwnProperty\r\n *\r\n * @param o Object to check for\r\n * @param p Name of the property\r\n */\r\nexport function hOP(o, p) {\r\n    return Object.hasOwnProperty.call(o, p);\r\n}\r\n/**\r\n * Generates a ~unique hash code\r\n *\r\n * From: https://stackoverflow.com/questions/6122571/simple-non-secure-hash-function-for-javascript\r\n */\r\n// tslint:disable:no-bitwise\r\nexport function getHashCode(s) {\r\n    var hash = 0;\r\n    if (s.length === 0) {\r\n        return hash;\r\n    }\r\n    for (var i = 0; i < s.length; i++) {\r\n        var chr = s.charCodeAt(i);\r\n        hash = ((hash << 5) - hash) + chr;\r\n        hash |= 0; // Convert to 32bit integer\r\n    }\r\n    return hash;\r\n}\r\n// tslint:enable:no-bitwise\r\n","import { isFunc } from \"./util\";\r\n/**\r\n * Used to calculate the object properties, with polyfill if needed\r\n */\r\nvar objectEntries = isFunc(Object.entries) ? Object.entries : function (o) { return Object.keys(o).map(function (k) { return [k, o[k]]; }); };\r\n/**\r\n * Converts the supplied object to a map\r\n *\r\n * @param o The object to map\r\n */\r\nexport function objectToMap(o) {\r\n    if (o !== undefined && o !== null) {\r\n        return new Map(objectEntries(o));\r\n    }\r\n    return new Map();\r\n}\r\n/**\r\n * Merges to Map instances together, overwriting values in target with matching keys, last in wins\r\n *\r\n * @param target map into which the other maps are merged\r\n * @param maps One or more maps to merge into the target\r\n */\r\nexport function mergeMaps(target) {\r\n    var maps = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        maps[_i - 1] = arguments[_i];\r\n    }\r\n    for (var i = 0; i < maps.length; i++) {\r\n        maps[i].forEach(function (v, k) {\r\n            target.set(k, v);\r\n        });\r\n    }\r\n    return target;\r\n}\r\n","import { mergeMaps, objectToMap } from \"./collections\";\r\nexport function setup(config) {\r\n    RuntimeConfig.assign(config);\r\n}\r\n// lable mapping for known config values\r\nvar s = [\r\n    \"defaultCachingStore\",\r\n    \"defaultCachingTimeoutSeconds\",\r\n    \"globalCacheDisable\",\r\n    \"enableCacheExpiration\",\r\n    \"cacheExpirationIntervalMilliseconds\",\r\n    \"spfxContext\",\r\n    \"ie11\",\r\n];\r\nvar RuntimeConfigImpl = /** @class */ (function () {\r\n    function RuntimeConfigImpl(_v) {\r\n        if (_v === void 0) { _v = new Map(); }\r\n        this._v = _v;\r\n        // setup defaults\r\n        this._v.set(s[0], \"session\");\r\n        this._v.set(s[1], 60);\r\n        this._v.set(s[2], false);\r\n        this._v.set(s[3], false);\r\n        this._v.set(s[4], 750);\r\n        this._v.set(s[5], null);\r\n        this._v.set(s[6], false);\r\n    }\r\n    /**\r\n     *\r\n     * @param config The set of properties to add to the globa configuration instance\r\n     */\r\n    RuntimeConfigImpl.prototype.assign = function (config) {\r\n        this._v = mergeMaps(this._v, objectToMap(config));\r\n    };\r\n    RuntimeConfigImpl.prototype.get = function (key) {\r\n        return this._v.get(key);\r\n    };\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"defaultCachingStore\", {\r\n        get: function () {\r\n            return this.get(s[0]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"defaultCachingTimeoutSeconds\", {\r\n        get: function () {\r\n            return this.get(s[1]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"globalCacheDisable\", {\r\n        get: function () {\r\n            return this.get(s[2]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"enableCacheExpiration\", {\r\n        get: function () {\r\n            return this.get(s[3]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"cacheExpirationIntervalMilliseconds\", {\r\n        get: function () {\r\n            return this.get(s[4]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"spfxContext\", {\r\n        get: function () {\r\n            return this.get(s[5]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(RuntimeConfigImpl.prototype, \"ie11\", {\r\n        get: function () {\r\n            return this.get(s[6]);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return RuntimeConfigImpl;\r\n}());\r\nexport { RuntimeConfigImpl };\r\nvar _runtimeConfig = new RuntimeConfigImpl();\r\nexport var RuntimeConfig = _runtimeConfig;\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","// export either window or global\r\nexport var safeGlobal = typeof global === \"undefined\" ? window : global;\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { assign, objectDefinedNotNull } from \"./util\";\r\nimport { safeGlobal } from \"./safe-global\";\r\nexport function mergeHeaders(target, source) {\r\n    if (objectDefinedNotNull(source)) {\r\n        var temp = new Request(\"\", { headers: source });\r\n        temp.headers.forEach(function (value, name) {\r\n            target.append(name, value);\r\n        });\r\n    }\r\n}\r\nexport function mergeOptions(target, source) {\r\n    if (objectDefinedNotNull(source)) {\r\n        var headers = assign(target.headers || {}, source.headers);\r\n        target = assign(target, source);\r\n        target.headers = headers;\r\n    }\r\n}\r\n/**\r\n * Parses out the root of the request url to use as the resource when getting the token\r\n *\r\n  * @param url The url to parse\r\n */\r\nexport function getADALResource(url) {\r\n    var u = new URL(url);\r\n    return u.protocol + \"//\" + u.hostname;\r\n}\r\n/**\r\n * Makes requests using the global/window fetch API\r\n */\r\nvar FetchClient = /** @class */ (function () {\r\n    function FetchClient() {\r\n    }\r\n    FetchClient.prototype.fetch = function (url, options) {\r\n        return safeGlobal.fetch(url, options);\r\n    };\r\n    return FetchClient;\r\n}());\r\nexport { FetchClient };\r\n/**\r\n * Makes requests using the fetch API adding the supplied token to the Authorization header\r\n */\r\nvar BearerTokenFetchClient = /** @class */ (function (_super) {\r\n    __extends(BearerTokenFetchClient, _super);\r\n    function BearerTokenFetchClient(_token) {\r\n        var _this = _super.call(this) || this;\r\n        _this._token = _token;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(BearerTokenFetchClient.prototype, \"token\", {\r\n        get: function () {\r\n            return this._token || \"\";\r\n        },\r\n        set: function (token) {\r\n            this._token = token;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    BearerTokenFetchClient.prototype.fetch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var headers = new Headers();\r\n        mergeHeaders(headers, options.headers);\r\n        headers.set(\"Authorization\", \"Bearer \" + this._token);\r\n        options.headers = headers;\r\n        return _super.prototype.fetch.call(this, url, options);\r\n    };\r\n    return BearerTokenFetchClient;\r\n}(FetchClient));\r\nexport { BearerTokenFetchClient };\r\n/**\r\n * Client wrapping the aadTokenProvider available from SPFx >= 1.6\r\n */\r\nvar SPFxAdalClient = /** @class */ (function (_super) {\r\n    __extends(SPFxAdalClient, _super);\r\n    /**\r\n     *\r\n     * @param context provide the appropriate SPFx Context object\r\n     */\r\n    function SPFxAdalClient(context) {\r\n        var _this = _super.call(this, null) || this;\r\n        _this.context = context;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Executes a fetch request using the supplied url and options\r\n     *\r\n     * @param url Absolute url of the request\r\n     * @param options Any options\r\n     */\r\n    SPFxAdalClient.prototype.fetch = function (url, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var token;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getToken(getADALResource(url))];\r\n                    case 1:\r\n                        token = _a.sent();\r\n                        this.token = token;\r\n                        return [2 /*return*/, _super.prototype.fetch.call(this, url, options)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets an AAD token for the provided resource using the SPFx AADTokenProvider\r\n     *\r\n     * @param resource Resource for which a token is to be requested (ex: https://graph.microsoft.com)\r\n     */\r\n    SPFxAdalClient.prototype.getToken = function (resource) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var provider;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.context.aadTokenProviderFactory.getTokenProvider()];\r\n                    case 1:\r\n                        provider = _a.sent();\r\n                        return [2 /*return*/, provider.getToken(resource)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return SPFxAdalClient;\r\n}(BearerTokenFetchClient));\r\nexport { SPFxAdalClient };\r\n","","import { __awaiter, __generator } from \"tslib\";\r\nimport { dateAdd, getCtxCallback, jsS, objectDefinedNotNull } from \"./util\";\r\nimport { RuntimeConfig } from \"./libconfig\";\r\n/**\r\n * A wrapper class to provide a consistent interface to browser based storage\r\n *\r\n */\r\nvar PnPClientStorageWrapper = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the PnPClientStorageWrapper class\r\n     *\r\n     * @constructor\r\n     */\r\n    function PnPClientStorageWrapper(store, defaultTimeoutMinutes) {\r\n        if (defaultTimeoutMinutes === void 0) { defaultTimeoutMinutes = -1; }\r\n        this.store = store;\r\n        this.defaultTimeoutMinutes = defaultTimeoutMinutes;\r\n        this.enabled = this.test();\r\n        // if the cache timeout is enabled call the handler\r\n        // this will clear any expired items and set the timeout function\r\n        if (RuntimeConfig.enableCacheExpiration) {\r\n            this.cacheExpirationHandler();\r\n        }\r\n    }\r\n    PnPClientStorageWrapper.bind = function (store) {\r\n        return new PnPClientStorageWrapper(typeof (store) === \"undefined\" ? new MemoryStorage() : store);\r\n    };\r\n    /**\r\n     * Get a value from storage, or null if that value does not exist\r\n     *\r\n     * @param key The key whose value we want to retrieve\r\n     */\r\n    PnPClientStorageWrapper.prototype.get = function (key) {\r\n        if (!this.enabled) {\r\n            return null;\r\n        }\r\n        var o = this.store.getItem(key);\r\n        if (!objectDefinedNotNull(o)) {\r\n            return null;\r\n        }\r\n        var persistable = JSON.parse(o);\r\n        if (new Date(persistable.expiration) <= new Date()) {\r\n            this.delete(key);\r\n            return null;\r\n        }\r\n        else {\r\n            return persistable.value;\r\n        }\r\n    };\r\n    /**\r\n     * Adds a value to the underlying storage\r\n     *\r\n     * @param key The key to use when storing the provided value\r\n     * @param o The value to store\r\n     * @param expire Optional, if provided the expiration of the item, otherwise the default is used\r\n     */\r\n    PnPClientStorageWrapper.prototype.put = function (key, o, expire) {\r\n        if (this.enabled) {\r\n            this.store.setItem(key, this.createPersistable(o, expire));\r\n        }\r\n    };\r\n    /**\r\n     * Deletes a value from the underlying storage\r\n     *\r\n     * @param key The key of the pair we want to remove from storage\r\n     */\r\n    PnPClientStorageWrapper.prototype.delete = function (key) {\r\n        if (this.enabled) {\r\n            this.store.removeItem(key);\r\n        }\r\n    };\r\n    /**\r\n     * Gets an item from the underlying storage, or adds it if it does not exist using the supplied getter function\r\n     *\r\n     * @param key The key to use when storing the provided value\r\n     * @param getter A function which will upon execution provide the desired value\r\n     * @param expire Optional, if provided the expiration of the item, otherwise the default is used\r\n     */\r\n    PnPClientStorageWrapper.prototype.getOrPut = function (key, getter, expire) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var o;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.enabled) {\r\n                            return [2 /*return*/, getter()];\r\n                        }\r\n                        o = this.get(key);\r\n                        if (!(o === null)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, getter()];\r\n                    case 1:\r\n                        o = _a.sent();\r\n                        this.put(key, o, expire);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, o];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Deletes any expired items placed in the store by the pnp library, leaves other items untouched\r\n     */\r\n    PnPClientStorageWrapper.prototype.deleteExpired = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i, key;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!this.enabled) {\r\n                            return [2 /*return*/];\r\n                        }\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < this.store.length)) return [3 /*break*/, 4];\r\n                        key = this.store.key(i);\r\n                        if (!(key !== null)) return [3 /*break*/, 3];\r\n                        if (!/[\"|']?pnp[\"|']? ?: ?1/i.test(this.store.getItem(key))) return [3 /*break*/, 3];\r\n                        // get those items as get will delete from cache if they are expired\r\n                        return [4 /*yield*/, this.get(key)];\r\n                    case 2:\r\n                        // get those items as get will delete from cache if they are expired\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Used to determine if the wrapped storage is available currently\r\n     */\r\n    PnPClientStorageWrapper.prototype.test = function () {\r\n        var str = \"t\";\r\n        try {\r\n            this.store.setItem(str, str);\r\n            this.store.removeItem(str);\r\n            return true;\r\n        }\r\n        catch (e) {\r\n            return false;\r\n        }\r\n    };\r\n    /**\r\n     * Creates the persistable to store\r\n     */\r\n    PnPClientStorageWrapper.prototype.createPersistable = function (o, expire) {\r\n        if (expire === undefined) {\r\n            // ensure we are by default inline with the global library setting\r\n            var defaultTimeout = RuntimeConfig.defaultCachingTimeoutSeconds;\r\n            if (this.defaultTimeoutMinutes > 0) {\r\n                defaultTimeout = this.defaultTimeoutMinutes * 60;\r\n            }\r\n            expire = dateAdd(new Date(), \"second\", defaultTimeout);\r\n        }\r\n        return jsS({ pnp: 1, expiration: expire, value: o });\r\n    };\r\n    /**\r\n     * Deletes expired items added by this library in this.store and sets a timeout to call itself\r\n     */\r\n    PnPClientStorageWrapper.prototype.cacheExpirationHandler = function () {\r\n        var _this = this;\r\n        if (!this.enabled) {\r\n            return;\r\n        }\r\n        this.deleteExpired().then(function (_) {\r\n            // call ourself in the future\r\n            setTimeout(getCtxCallback(_this, _this.cacheExpirationHandler), RuntimeConfig.cacheExpirationIntervalMilliseconds);\r\n        }).catch(console.error);\r\n    };\r\n    return PnPClientStorageWrapper;\r\n}());\r\nexport { PnPClientStorageWrapper };\r\n/**\r\n * A thin implementation of in-memory storage for use in nodejs\r\n */\r\nvar MemoryStorage = /** @class */ (function () {\r\n    function MemoryStorage(_store) {\r\n        if (_store === void 0) { _store = new Map(); }\r\n        this._store = _store;\r\n    }\r\n    Object.defineProperty(MemoryStorage.prototype, \"length\", {\r\n        get: function () {\r\n            return this._store.size;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MemoryStorage.prototype.clear = function () {\r\n        this._store.clear();\r\n    };\r\n    MemoryStorage.prototype.getItem = function (key) {\r\n        return this._store.get(key);\r\n    };\r\n    MemoryStorage.prototype.key = function (index) {\r\n        return Array.from(this._store)[index][0];\r\n    };\r\n    MemoryStorage.prototype.removeItem = function (key) {\r\n        this._store.delete(key);\r\n    };\r\n    MemoryStorage.prototype.setItem = function (key, data) {\r\n        this._store.set(key, data);\r\n    };\r\n    return MemoryStorage;\r\n}());\r\n/**\r\n * A class that will establish wrappers for both local and session storage\r\n */\r\nvar PnPClientStorage = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the PnPClientStorage class\r\n     *\r\n     * @constructor\r\n     */\r\n    function PnPClientStorage(_local, _session) {\r\n        if (_local === void 0) { _local = null; }\r\n        if (_session === void 0) { _session = null; }\r\n        this._local = _local;\r\n        this._session = _session;\r\n    }\r\n    Object.defineProperty(PnPClientStorage.prototype, \"local\", {\r\n        /**\r\n         * Provides access to the local storage of the browser\r\n         */\r\n        get: function () {\r\n            if (this._local === null) {\r\n                this._local = new PnPClientStorageWrapper(typeof (localStorage) === \"undefined\" ? new MemoryStorage() : localStorage);\r\n            }\r\n            return this._local;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PnPClientStorage.prototype, \"session\", {\r\n        /**\r\n         * Provides access to the session storage of the browser\r\n         */\r\n        get: function () {\r\n            if (this._session === null) {\r\n                this._session = new PnPClientStorageWrapper(typeof (sessionStorage) === \"undefined\" ? new MemoryStorage() : sessionStorage);\r\n            }\r\n            return this._session;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return PnPClientStorage;\r\n}());\r\nexport { PnPClientStorage };\r\n","export * from \"./collections\";\r\nexport * from \"./libconfig\";\r\nexport * from \"./net\";\r\nexport * from \"./spfxcontextinterface\";\r\nexport * from \"./storage\";\r\nexport * from \"./util\";\r\nexport * from \"./safe-global\";\r\n","import { RuntimeConfig, FetchClient, objectDefinedNotNull, } from \"@pnp/common\";\r\nexport var emptyGuid = \"00000000-0000-0000-0000-000000000000\";\r\nexport function setup(config) {\r\n    RuntimeConfig.assign(config);\r\n}\r\nvar SPRuntimeConfigImpl = /** @class */ (function () {\r\n    function SPRuntimeConfigImpl() {\r\n    }\r\n    Object.defineProperty(SPRuntimeConfigImpl.prototype, \"headers\", {\r\n        get: function () {\r\n            var spPart = RuntimeConfig.get(\"sp\");\r\n            if (spPart !== undefined && spPart.headers !== undefined) {\r\n                return spPart.headers;\r\n            }\r\n            return {};\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SPRuntimeConfigImpl.prototype, \"baseUrl\", {\r\n        get: function () {\r\n            var spPart = RuntimeConfig.get(\"sp\");\r\n            if (spPart !== undefined && spPart.baseUrl !== undefined) {\r\n                return spPart.baseUrl;\r\n            }\r\n            if (objectDefinedNotNull(RuntimeConfig.spfxContext)) {\r\n                return RuntimeConfig.spfxContext.pageContext.web.absoluteUrl;\r\n            }\r\n            return null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SPRuntimeConfigImpl.prototype, \"fetchClientFactory\", {\r\n        get: function () {\r\n            var spPart = RuntimeConfig.get(\"sp\");\r\n            if (spPart !== undefined && spPart.fetchClientFactory !== undefined) {\r\n                return spPart.fetchClientFactory;\r\n            }\r\n            else {\r\n                return function () { return new FetchClient(); };\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return SPRuntimeConfigImpl;\r\n}());\r\nexport { SPRuntimeConfigImpl };\r\nexport var SPRuntimeConfig = new SPRuntimeConfigImpl();\r\n","import { setup as _setup, } from \"./splibconfig\";\r\n/**\r\n * Root of the SharePoint REST module\r\n */\r\nvar SPRest = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the SPRest class\r\n     *\r\n     * @param options Additional options\r\n     * @param baseUrl A string that should form the base part of the url\r\n     */\r\n    function SPRest(_options, _baseUrl) {\r\n        if (_options === void 0) { _options = {}; }\r\n        if (_baseUrl === void 0) { _baseUrl = \"\"; }\r\n        this._options = _options;\r\n        this._baseUrl = _baseUrl;\r\n    }\r\n    /**\r\n     * Configures instance with additional options and baseUrl.\r\n     * Provided configuration used by other objects in a chain\r\n     *\r\n     * @param options Additional options\r\n     * @param baseUrl A string that should form the base part of the url\r\n     */\r\n    SPRest.prototype.configure = function (options, baseUrl) {\r\n        if (baseUrl === void 0) { baseUrl = \"\"; }\r\n        return new SPRest(options, baseUrl);\r\n    };\r\n    /**\r\n     * Global SharePoint configuration options\r\n     *\r\n     * @param config The SharePoint configuration to apply\r\n     */\r\n    SPRest.prototype.setup = function (config) {\r\n        if (config.pageContext) {\r\n            _setup({\r\n                spfxContext: config,\r\n            });\r\n        }\r\n        else {\r\n            _setup(config);\r\n        }\r\n    };\r\n    return SPRest;\r\n}());\r\nexport { SPRest };\r\nexport var sp = new SPRest();\r\n","import { getGUID } from \"@pnp/common\";\r\nvar Batch = /** @class */ (function () {\r\n    function Batch(_batchId) {\r\n        if (_batchId === void 0) { _batchId = getGUID(); }\r\n        this._batchId = _batchId;\r\n        this._reqs = [];\r\n        this._deps = [];\r\n        this._rDeps = [];\r\n        this._index = -1;\r\n    }\r\n    Object.defineProperty(Batch.prototype, \"batchId\", {\r\n        get: function () {\r\n            return this._batchId;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Batch.prototype, \"requests\", {\r\n        /**\r\n         * The requests contained in this batch\r\n         */\r\n        get: function () {\r\n            // we sort these each time this is accessed\r\n            return this._reqs.sort(function (info1, info2) { return info1.index - info2.index; });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Not meant for use directly\r\n     *\r\n     * @param batchee The IQueryable for this batch to track in order\r\n     */\r\n    Batch.prototype.track = function (batchee) {\r\n        batchee.data.batch = this;\r\n        // we need to track the order requests are added to the batch to ensure we always\r\n        // operate on them in order\r\n        if (typeof batchee.data.batchIndex === \"undefined\" || batchee.data.batchIndex < 0) {\r\n            batchee.data.batchIndex = ++this._index;\r\n        }\r\n    };\r\n    /**\r\n     * Adds the given request context to the batch for execution\r\n     *\r\n     * @param context Details of the request to batch\r\n     */\r\n    Batch.prototype.add = function (context) {\r\n        var info = {\r\n            id: context.requestId,\r\n            index: context.batchIndex,\r\n            method: context.method.toUpperCase(),\r\n            options: context.options,\r\n            parser: context.parser,\r\n            reject: null,\r\n            resolve: null,\r\n            url: context.url,\r\n        };\r\n        // we create a new promise that will be resolved within the batch\r\n        var p = new Promise(function (resolve, reject) {\r\n            info.resolve = resolve;\r\n            info.reject = reject;\r\n        });\r\n        this._reqs.push(info);\r\n        return p;\r\n    };\r\n    /**\r\n     * Adds a dependency insuring that some set of actions will occur before a batch is processed.\r\n     * MUST be cleared using the returned resolve delegate to allow batches to run\r\n     */\r\n    Batch.prototype.addDependency = function () {\r\n        var resolver = function () { return void (0); };\r\n        this._deps.push(new Promise(function (resolve) {\r\n            resolver = resolve;\r\n        }));\r\n        return resolver;\r\n    };\r\n    /**\r\n     * The batch's execute method will not resolve util any promises added here resolve\r\n     *\r\n     * @param p The dependent promise\r\n     */\r\n    Batch.prototype.addResolveBatchDependency = function (p) {\r\n        this._rDeps.push(p);\r\n    };\r\n    /**\r\n     * Execute the current batch and resolve the associated promises\r\n     *\r\n     * @returns A promise which will be resolved once all of the batch's child promises have resolved\r\n     */\r\n    Batch.prototype.execute = function () {\r\n        var _this = this;\r\n        // we need to check the dependencies twice due to how different engines handle things.\r\n        // We can get a second set of promises added during the first set resolving\r\n        return Promise.all(this._deps)\r\n            .then(function () { return Promise.all(_this._deps); })\r\n            .then(function () { return _this.executeImpl(); })\r\n            .then(function () { return Promise.all(_this._rDeps); })\r\n            .then(function () { return void (0); });\r\n    };\r\n    return Batch;\r\n}());\r\nexport { Batch };\r\n","import { RuntimeConfig, dateAdd, PnPClientStorage } from \"@pnp/common\";\r\nvar CachingOptions = /** @class */ (function () {\r\n    function CachingOptions(key, storeName, expiration) {\r\n        if (storeName === void 0) { storeName = RuntimeConfig.defaultCachingStore; }\r\n        if (expiration === void 0) { expiration = dateAdd(new Date(), \"second\", RuntimeConfig.defaultCachingTimeoutSeconds); }\r\n        this.key = key;\r\n        this.storeName = storeName;\r\n        this.expiration = expiration;\r\n    }\r\n    Object.defineProperty(CachingOptions.prototype, \"store\", {\r\n        get: function () {\r\n            if (this.storeName === \"local\") {\r\n                return CachingOptions.storage.local;\r\n            }\r\n            else {\r\n                return CachingOptions.storage.session;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CachingOptions.storage = new PnPClientStorage();\r\n    return CachingOptions;\r\n}());\r\nexport { CachingOptions };\r\nvar CachingParserWrapper = /** @class */ (function () {\r\n    function CachingParserWrapper(parser, cacheOptions) {\r\n        this.parser = parser;\r\n        this.cacheOptions = cacheOptions;\r\n    }\r\n    CachingParserWrapper.prototype.parse = function (response) {\r\n        var _this = this;\r\n        return this.parser.parse(response).then(function (r) { return _this.cacheData(r); });\r\n    };\r\n    CachingParserWrapper.prototype.cacheData = function (data) {\r\n        if (this.cacheOptions.store !== null) {\r\n            this.cacheOptions.store.put(this.cacheOptions.key, data, this.cacheOptions.expiration);\r\n        }\r\n        return data;\r\n    };\r\n    return CachingParserWrapper;\r\n}());\r\nexport { CachingParserWrapper };\r\n","/**\r\n * Adds a property to a target instance\r\n *\r\n * @param target The object to whose prototype we will add a property\r\n * @param name Property name\r\n * @param factory Factory method used to produce the property value\r\n * @param path Any additional path required to produce the value\r\n */\r\nexport function addProp(target, name, factory, path) {\r\n    Reflect.defineProperty(target.prototype, name, {\r\n        configurable: true,\r\n        enumerable: true,\r\n        get: function () {\r\n            return factory(this, path);\r\n        },\r\n    });\r\n}\r\n","import { __read, __spread } from \"tslib\";\r\nimport { isFunc, isArray } from \"@pnp/common\";\r\nvar _enableExtensions = false;\r\nvar globaExtensions = [];\r\nvar ObjExtensionsSym = Symbol(\"__extensions\");\r\n/**\r\n * Creates global extensions across all invokable objects\r\n *\r\n * @param e The global extensions to apply\r\n */\r\nexport var extendGlobal = function (e) {\r\n    _enableExtensions = true;\r\n    extendCol(globaExtensions, e);\r\n};\r\n/**\r\n * Applies the supplied extensions to a single instance\r\n *\r\n * @param target Object to which extensions are applied\r\n * @param extensions Extensions to apply\r\n */\r\nexport var extendObj = function (target, extensions) {\r\n    _enableExtensions = true;\r\n    if (!Reflect.has(target, ObjExtensionsSym)) {\r\n        Reflect.set(target, ObjExtensionsSym, []);\r\n    }\r\n    extendCol(Reflect.get(target, ObjExtensionsSym), extensions);\r\n    return target;\r\n};\r\n/**\r\n * Allows applying extensions to all instances created from the supplied factory\r\n *\r\n * @param factory The Invokable Factory method to extend\r\n * @param extensions Extensions to apply\r\n */\r\nexport var extendFactory = function (factory, extensions) {\r\n    _enableExtensions = true;\r\n    if (factory.__proto__[ObjExtensionsSym] === undefined) {\r\n        factory.__proto__[ObjExtensionsSym] = [];\r\n    }\r\n    extendCol(factory.__proto__[ObjExtensionsSym], extensions);\r\n};\r\nfunction extendCol(a, e) {\r\n    if (isArray(e)) {\r\n        // @ts-ignore\r\n        a.push.apply(a, __spread(e));\r\n    }\r\n    else {\r\n        // @ts-ignore\r\n        a.push(e);\r\n    }\r\n}\r\n/**\r\n * Clears all global extensions\r\n */\r\nexport var clearGlobalExtensions = function () {\r\n    globaExtensions.length = 0;\r\n};\r\n/**\r\n * Disables all extensions\r\n */\r\nexport var disableExtensions = function () {\r\n    _enableExtensions = false;\r\n};\r\n/**\r\n * Enables all extensions\r\n */\r\nexport var enableExtensions = function () {\r\n    _enableExtensions = true;\r\n};\r\n/**\r\n * Applies a set of extension previously applied to a factory using extendFactory to an object created from that factory\r\n *\r\n * @param factory\r\n * @param args\r\n */\r\nexport var applyFactoryExtensions = function (factory, args) {\r\n    var o = factory(args);\r\n    if (factory.__proto__[ObjExtensionsSym]) {\r\n        o = extendObj(o, factory.__proto__[ObjExtensionsSym]);\r\n    }\r\n    return o;\r\n};\r\nexport function extensionOrDefault(op, or, target) {\r\n    var rest = [];\r\n    for (var _i = 3; _i < arguments.length; _i++) {\r\n        rest[_i - 3] = arguments[_i];\r\n    }\r\n    if (_enableExtensions) {\r\n        var extensions = [];\r\n        // we need to first invoke extensions tied to only this object\r\n        if (Reflect.has(target, ObjExtensionsSym)) {\r\n            extensions.push.apply(extensions, __spread(Reflect.get(target, ObjExtensionsSym)));\r\n        }\r\n        // second we need to process any global extensions\r\n        extensions.push.apply(extensions, __spread(globaExtensions));\r\n        for (var i = 0; i < extensions.length; i++) {\r\n            var extension = extensions[i];\r\n            var result = undefined;\r\n            if (isFunc(extension)) {\r\n                // this extension is a function which we call\r\n                result = extension.apply(void 0, __spread([op, target], rest));\r\n            }\r\n            else if (op === \"get\" && Reflect.has(extension, rest[0])) {\r\n                // this extension is a named extension meaning we are overriding a specific method/property\r\n                result = Reflect.get(extension, rest[0], target);\r\n            }\r\n            else if (Reflect.has(extension, op)) {\r\n                // this extension is a ProxyHandler that has a handler defined for {op} so we pass control and see if we get a result\r\n                result = Reflect.get(extension, op).apply(void 0, __spread([target], rest));\r\n            }\r\n            if (typeof result !== \"undefined\") {\r\n                // if a extension returned a result, we return that\r\n                // this means that this extension overrides any other extensions and no more are executed\r\n                // first extension in the list to return \"wins\"\r\n                return result;\r\n            }\r\n        }\r\n    }\r\n    return or.apply(void 0, __spread([target], rest));\r\n}\r\n","import { __read, __spread } from \"tslib\";\r\nimport { RuntimeConfig } from \"@pnp/common\";\r\nimport { extensionOrDefault, applyFactoryExtensions } from \"./invokable-extensions\";\r\nvar invokableBinder = function (invoker) { return function (constructor) {\r\n    return function () {\r\n        var args = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            args[_i] = arguments[_i];\r\n        }\r\n        var factory = function (as) {\r\n            var r = Object.assign(function () {\r\n                var ags = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    ags[_i] = arguments[_i];\r\n                }\r\n                return invoker.apply(r, ags);\r\n            }, new (constructor.bind.apply(constructor, __spread([void 0], as)))());\r\n            Reflect.setPrototypeOf(r, constructor.prototype);\r\n            return r;\r\n        };\r\n        if (RuntimeConfig.ie11) {\r\n            return factory(args);\r\n        }\r\n        else {\r\n            return new Proxy(applyFactoryExtensions(factory, args), {\r\n                apply: function (target, _thisArg, argArray) {\r\n                    return extensionOrDefault(\"apply\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.apply(a[0], a[1], a[2]);\r\n                    }, target, _thisArg, argArray);\r\n                },\r\n                get: function (target, p, receiver) {\r\n                    return extensionOrDefault(\"get\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.get(a[0], a[1], a[2]);\r\n                    }, target, p, receiver);\r\n                },\r\n                has: function (target, p) {\r\n                    return extensionOrDefault(\"has\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.has(a[0], a[1]);\r\n                    }, target, p);\r\n                },\r\n                set: function (target, p, value, receiver) {\r\n                    return extensionOrDefault(\"set\", function () {\r\n                        var a = [];\r\n                        for (var _i = 0; _i < arguments.length; _i++) {\r\n                            a[_i] = arguments[_i];\r\n                        }\r\n                        return Reflect.set(a[0], a[1], a[2], a[3]);\r\n                    }, target, p, value, receiver);\r\n                },\r\n            });\r\n        }\r\n    };\r\n}; };\r\nexport var invokableFactory = invokableBinder(function (options) {\r\n    return this.defaultAction(options);\r\n});\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { isFunc, hOP } from \"@pnp/common\";\r\nvar ODataParser = /** @class */ (function () {\r\n    function ODataParser() {\r\n    }\r\n    ODataParser.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                _this.parseImpl(r, resolve, reject);\r\n            }\r\n        });\r\n    };\r\n    ODataParser.prototype.parseImpl = function (r, resolve, reject) {\r\n        var _this = this;\r\n        if ((r.headers.has(\"Content-Length\") && parseFloat(r.headers.get(\"Content-Length\")) === 0) || r.status === 204) {\r\n            resolve({});\r\n        }\r\n        else {\r\n            // patch to handle cases of 200 response with no or whitespace only bodies (#487 & #545)\r\n            r.text()\r\n                .then(function (txt) { return txt.replace(/\\s/ig, \"\").length > 0 ? JSON.parse(txt) : {}; })\r\n                .then(function (json) { return resolve(_this.parseODataJSON(json)); })\r\n                .catch(function (e) { return reject(e); });\r\n        }\r\n    };\r\n    /**\r\n     * Handles a response with ok === false by parsing the body and creating a ProcessHttpClientResponseException\r\n     * which is passed to the reject delegate. This method returns true if there is no error, otherwise false\r\n     *\r\n     * @param r Current response object\r\n     * @param reject reject delegate for the surrounding promise\r\n     */\r\n    ODataParser.prototype.handleError = function (r, reject) {\r\n        if (!r.ok) {\r\n            HttpRequestError.init(r).then(reject);\r\n        }\r\n        return r.ok;\r\n    };\r\n    /**\r\n     * Normalizes the json response by removing the various nested levels\r\n     *\r\n     * @param json json object to parse\r\n     */\r\n    ODataParser.prototype.parseODataJSON = function (json) {\r\n        var result = json;\r\n        if (hOP(json, \"d\")) {\r\n            if (hOP(json.d, \"results\")) {\r\n                result = json.d.results;\r\n            }\r\n            else {\r\n                result = json.d;\r\n            }\r\n        }\r\n        else if (hOP(json, \"value\")) {\r\n            result = json.value;\r\n        }\r\n        return result;\r\n    };\r\n    return ODataParser;\r\n}());\r\nexport { ODataParser };\r\nvar TextParser = /** @class */ (function (_super) {\r\n    __extends(TextParser, _super);\r\n    function TextParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    TextParser.prototype.parseImpl = function (r, resolve) {\r\n        r.text().then(resolve);\r\n    };\r\n    return TextParser;\r\n}(ODataParser));\r\nexport { TextParser };\r\nvar BlobParser = /** @class */ (function (_super) {\r\n    __extends(BlobParser, _super);\r\n    function BlobParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BlobParser.prototype.parseImpl = function (r, resolve) {\r\n        r.blob().then(resolve);\r\n    };\r\n    return BlobParser;\r\n}(ODataParser));\r\nexport { BlobParser };\r\nvar JSONParser = /** @class */ (function (_super) {\r\n    __extends(JSONParser, _super);\r\n    function JSONParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    JSONParser.prototype.parseImpl = function (r, resolve) {\r\n        r.json().then(resolve);\r\n    };\r\n    return JSONParser;\r\n}(ODataParser));\r\nexport { JSONParser };\r\nvar BufferParser = /** @class */ (function (_super) {\r\n    __extends(BufferParser, _super);\r\n    function BufferParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    BufferParser.prototype.parseImpl = function (r, resolve) {\r\n        if (isFunc(r.arrayBuffer)) {\r\n            r.arrayBuffer().then(resolve);\r\n        }\r\n        else {\r\n            r.buffer().then(resolve);\r\n        }\r\n    };\r\n    return BufferParser;\r\n}(ODataParser));\r\nexport { BufferParser };\r\nvar LambdaParser = /** @class */ (function (_super) {\r\n    __extends(LambdaParser, _super);\r\n    function LambdaParser(parser) {\r\n        var _this = _super.call(this) || this;\r\n        _this.parser = parser;\r\n        return _this;\r\n    }\r\n    LambdaParser.prototype.parseImpl = function (r, resolve) {\r\n        this.parser(r).then(resolve);\r\n    };\r\n    return LambdaParser;\r\n}(ODataParser));\r\nexport { LambdaParser };\r\nvar HttpRequestError = /** @class */ (function (_super) {\r\n    __extends(HttpRequestError, _super);\r\n    function HttpRequestError(message, response, status, statusText) {\r\n        if (status === void 0) { status = response.status; }\r\n        if (statusText === void 0) { statusText = response.statusText; }\r\n        var _this = _super.call(this, message) || this;\r\n        _this.response = response;\r\n        _this.status = status;\r\n        _this.statusText = statusText;\r\n        _this.isHttpRequestError = true;\r\n        return _this;\r\n    }\r\n    HttpRequestError.init = function (r) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var t;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, r.clone().text()];\r\n                    case 1:\r\n                        t = _a.sent();\r\n                        return [2 /*return*/, new HttpRequestError(\"Error making HttpClient request in queryable [\" + r.status + \"] \" + r.statusText + \" ::> \" + t, r.clone())];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return HttpRequestError;\r\n}(Error));\r\nexport { HttpRequestError };\r\n","import { __read, __spread } from \"tslib\";\r\nimport { combine, RuntimeConfig, mergeOptions, objectDefinedNotNull, } from \"@pnp/common\";\r\nimport { ODataParser } from \"./parsers\";\r\nexport function cloneQueryableData(source) {\r\n    var s = JSON.stringify(source, function (key, value) {\r\n        switch (key) {\r\n            case \"query\":\r\n                return JSON.stringify(__spread(value));\r\n            case \"batch\":\r\n                return \"-\";\r\n            case \"batchDependency\":\r\n                return \"-\";\r\n            case \"cachingOptions\":\r\n                return \"-\";\r\n            case \"clientFactory\":\r\n                return \"-\";\r\n            case \"parser\":\r\n                return \"-\";\r\n            default:\r\n                return value;\r\n        }\r\n    }, 0);\r\n    var parsed = JSON.parse(s, function (key, value) {\r\n        switch (key) {\r\n            case \"query\":\r\n                return new Map(JSON.parse(value));\r\n            case \"batch\":\r\n                return source.batch;\r\n            case \"batchDependency\":\r\n                return source.batchDependency;\r\n            case \"cachingOptions\":\r\n                return source.cachingOptions;\r\n            case \"clientFactory\":\r\n                return source.clientFactory;\r\n            case \"parser\":\r\n                return source.parser;\r\n            default:\r\n                return value;\r\n        }\r\n    });\r\n    // this handles bodies that cannot be JSON encoded (Blob, etc)\r\n    if (source.options && source.options.body) {\r\n        parsed.options.body = source.options.body;\r\n    }\r\n    return parsed;\r\n}\r\nvar Queryable = /** @class */ (function () {\r\n    function Queryable(dataSeed) {\r\n        if (dataSeed === void 0) { dataSeed = {}; }\r\n        this._data = Object.assign({}, {\r\n            cloneParentWasCaching: false,\r\n            options: {},\r\n            parentUrl: \"\",\r\n            parser: new ODataParser(),\r\n            query: new Map(),\r\n            url: \"\",\r\n            useCaching: false,\r\n        }, cloneQueryableData(dataSeed));\r\n    }\r\n    Object.defineProperty(Queryable.prototype, \"data\", {\r\n        get: function () {\r\n            return this._data;\r\n        },\r\n        set: function (value) {\r\n            this._data = Object.assign({}, cloneQueryableData(this.data), cloneQueryableData(value));\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n    * Gets the currentl url\r\n    *\r\n    */\r\n    Queryable.prototype.toUrl = function () {\r\n        return this.data.url;\r\n    };\r\n    /**\r\n     * Directly concatenates the supplied string to the current url, not normalizing \"/\" chars\r\n     *\r\n     * @param pathPart The string to concatenate to the url\r\n     */\r\n    Queryable.prototype.concat = function (pathPart) {\r\n        this.data.url += pathPart;\r\n        return this;\r\n    };\r\n    Object.defineProperty(Queryable.prototype, \"query\", {\r\n        /**\r\n         * Provides access to the query builder for this url\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.data.query;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Sets custom options for current object and all derived objects accessible via chaining\r\n     *\r\n     * @param options custom options\r\n     */\r\n    Queryable.prototype.configure = function (options) {\r\n        mergeOptions(this.data.options, options);\r\n        return this;\r\n    };\r\n    /**\r\n     * Configures this instance from the configure options of the supplied instance\r\n     *\r\n     * @param o Instance from which options should be taken\r\n     */\r\n    Queryable.prototype.configureFrom = function (o) {\r\n        mergeOptions(this.data.options, o.data.options);\r\n        return this;\r\n    };\r\n    /**\r\n     * Enables caching for this request\r\n     *\r\n     * @param options Defines the options used when caching this request\r\n     */\r\n    Queryable.prototype.usingCaching = function (options) {\r\n        if (!RuntimeConfig.globalCacheDisable) {\r\n            this.data.useCaching = true;\r\n            if (options !== undefined) {\r\n                this.data.cachingOptions = options;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    Queryable.prototype.usingParser = function (parser) {\r\n        this.data.parser = parser;\r\n        return this;\r\n    };\r\n    /**\r\n     * Allows you to set a request specific processing pipeline\r\n     *\r\n     * @param pipeline The set of methods, in order, to execute a given request\r\n     */\r\n    Queryable.prototype.withPipeline = function (pipeline) {\r\n        this.data.pipes = pipeline.slice(0);\r\n        return this;\r\n    };\r\n    /**\r\n     * Appends the given string and normalizes \"/\" chars\r\n     *\r\n     * @param pathPart The string to append\r\n     */\r\n    Queryable.prototype.append = function (pathPart) {\r\n        this.data.url = combine(this.data.url, pathPart);\r\n    };\r\n    /**\r\n     * Adds this query to the supplied batch\r\n     *\r\n     * @example\r\n     * ```\r\n     *\r\n     * let b = pnp.sp.createBatch();\r\n     * pnp.sp.web.inBatch(b).get().then(...);\r\n     * b.execute().then(...)\r\n     * ```\r\n     */\r\n    Queryable.prototype.inBatch = function (batch) {\r\n        if (this.hasBatch) {\r\n            throw Error(\"This query is already part of a batch.\");\r\n        }\r\n        if (objectDefinedNotNull(batch)) {\r\n            batch.track(this);\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Blocks a batch call from occuring, MUST be cleared by calling the returned function\r\n    */\r\n    Queryable.prototype.addBatchDependency = function () {\r\n        if (objectDefinedNotNull(this.data.batch)) {\r\n            return this.data.batch.addDependency();\r\n        }\r\n        return function () { return null; };\r\n    };\r\n    Object.defineProperty(Queryable.prototype, \"hasBatch\", {\r\n        /**\r\n         * Indicates if the current query has a batch associated\r\n         *\r\n         */\r\n        get: function () {\r\n            return objectDefinedNotNull(this.data.batch);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Queryable.prototype, \"batch\", {\r\n        /**\r\n         * The batch currently associated with this query or null\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.hasBatch ? this.data.batch : null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Queryable.prototype, \"parentUrl\", {\r\n        /**\r\n         * Gets the parent url used when creating this instance\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.data.parentUrl;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Clones this instance's data to target\r\n     *\r\n     * @param target Instance to which data is written\r\n     * @param settings [Optional] Settings controlling how clone is applied\r\n     */\r\n    Queryable.prototype.cloneTo = function (target, settings) {\r\n        if (settings === void 0) { settings = { includeBatch: true }; }\r\n        target.data = Object.assign({}, cloneQueryableData(this.data), {\r\n            batch: null,\r\n            cloneParentCacheOptions: null,\r\n            cloneParentWasCaching: false,\r\n        }, cloneQueryableData(target.data));\r\n        target.configureFrom(this);\r\n        if (settings.includeBatch) {\r\n            target.inBatch(this.batch);\r\n        }\r\n        if (this.data.useCaching) {\r\n            target.data.cloneParentWasCaching = true;\r\n            target.data.cloneParentCacheOptions = this.data.cachingOptions;\r\n        }\r\n        return target;\r\n    };\r\n    return Queryable;\r\n}());\r\nexport { Queryable };\r\n","/**\r\n * Class used to subscribe ILogListener and log messages throughout an application\r\n *\r\n */\r\nvar Logger = /** @class */ (function () {\r\n    function Logger() {\r\n    }\r\n    Object.defineProperty(Logger, \"activeLogLevel\", {\r\n        /**\r\n         * Gets or sets the active log level to apply for log filtering\r\n         */\r\n        get: function () {\r\n            return Logger.instance.activeLogLevel;\r\n        },\r\n        set: function (value) {\r\n            Logger.instance.activeLogLevel = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Logger, \"instance\", {\r\n        get: function () {\r\n            if (Logger._instance === undefined || Logger._instance === null) {\r\n                Logger._instance = new LoggerImpl();\r\n            }\r\n            return Logger._instance;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds ILogListener instances to the set of subscribed listeners\r\n     *\r\n     * @param listeners One or more listeners to subscribe to this log\r\n     */\r\n    Logger.subscribe = function () {\r\n        var listeners = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            listeners[_i] = arguments[_i];\r\n        }\r\n        listeners.forEach(function (listener) { return Logger.instance.subscribe(listener); });\r\n    };\r\n    /**\r\n     * Clears the subscribers collection, returning the collection before modification\r\n     */\r\n    Logger.clearSubscribers = function () {\r\n        return Logger.instance.clearSubscribers();\r\n    };\r\n    Object.defineProperty(Logger, \"count\", {\r\n        /**\r\n         * Gets the current subscriber count\r\n         */\r\n        get: function () {\r\n            return Logger.instance.count;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Writes the supplied string to the subscribed listeners\r\n     *\r\n     * @param message The message to write\r\n     * @param level [Optional] if supplied will be used as the level of the entry (Default: LogLevel.Info)\r\n     */\r\n    Logger.write = function (message, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        Logger.instance.log({ level: level, message: message });\r\n    };\r\n    /**\r\n     * Writes the supplied string to the subscribed listeners\r\n     *\r\n     * @param json The json object to stringify and write\r\n     * @param level [Optional] if supplied will be used as the level of the entry (Default: LogLevel.Info)\r\n     */\r\n    Logger.writeJSON = function (json, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        this.write(JSON.stringify(json), level);\r\n    };\r\n    /**\r\n     * Logs the supplied entry to the subscribed listeners\r\n     *\r\n     * @param entry The message to log\r\n     */\r\n    Logger.log = function (entry) {\r\n        Logger.instance.log(entry);\r\n    };\r\n    /**\r\n     * Logs an error object to the subscribed listeners\r\n     *\r\n     * @param err The error object\r\n     */\r\n    Logger.error = function (err) {\r\n        Logger.instance.log({ data: err, level: 3 /* Error */, message: err.message });\r\n    };\r\n    return Logger;\r\n}());\r\nexport { Logger };\r\nvar LoggerImpl = /** @class */ (function () {\r\n    function LoggerImpl(activeLogLevel, subscribers) {\r\n        if (activeLogLevel === void 0) { activeLogLevel = 2 /* Warning */; }\r\n        if (subscribers === void 0) { subscribers = []; }\r\n        this.activeLogLevel = activeLogLevel;\r\n        this.subscribers = subscribers;\r\n    }\r\n    LoggerImpl.prototype.subscribe = function (listener) {\r\n        this.subscribers.push(listener);\r\n    };\r\n    LoggerImpl.prototype.clearSubscribers = function () {\r\n        var s = this.subscribers.slice(0);\r\n        this.subscribers.length = 0;\r\n        return s;\r\n    };\r\n    Object.defineProperty(LoggerImpl.prototype, \"count\", {\r\n        get: function () {\r\n            return this.subscribers.length;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    LoggerImpl.prototype.write = function (message, level) {\r\n        if (level === void 0) { level = 1 /* Info */; }\r\n        this.log({ level: level, message: message });\r\n    };\r\n    LoggerImpl.prototype.log = function (entry) {\r\n        if (entry !== undefined && this.activeLogLevel <= entry.level) {\r\n            this.subscribers.map(function (subscriber) { return subscriber.log(entry); });\r\n        }\r\n    };\r\n    return LoggerImpl;\r\n}());\r\n/**\r\n * A set of logging levels\r\n */\r\nexport var LogLevel;\r\n(function (LogLevel) {\r\n    LogLevel[LogLevel[\"Verbose\"] = 0] = \"Verbose\";\r\n    LogLevel[LogLevel[\"Info\"] = 1] = \"Info\";\r\n    LogLevel[LogLevel[\"Warning\"] = 2] = \"Warning\";\r\n    LogLevel[LogLevel[\"Error\"] = 3] = \"Error\";\r\n    LogLevel[LogLevel[\"Off\"] = 99] = \"Off\";\r\n})(LogLevel || (LogLevel = {}));\r\n","/**\r\n * Implementation of LogListener which logs to the console\r\n *\r\n */\r\nvar ConsoleListener = /** @class */ (function () {\r\n    function ConsoleListener() {\r\n    }\r\n    /**\r\n     * Any associated data that a given logging listener may choose to log or ignore\r\n     *\r\n     * @param entry The information to be logged\r\n     */\r\n    ConsoleListener.prototype.log = function (entry) {\r\n        var msg = this.format(entry);\r\n        switch (entry.level) {\r\n            case 0 /* Verbose */:\r\n            case 1 /* Info */:\r\n                console.log(msg);\r\n                break;\r\n            case 2 /* Warning */:\r\n                console.warn(msg);\r\n                break;\r\n            case 3 /* Error */:\r\n                console.error(msg);\r\n                break;\r\n        }\r\n    };\r\n    /**\r\n     * Formats the message\r\n     *\r\n     * @param entry The information to format into a string\r\n     */\r\n    ConsoleListener.prototype.format = function (entry) {\r\n        var msg = [];\r\n        msg.push(\"Message: \" + entry.message);\r\n        if (entry.data !== undefined) {\r\n            try {\r\n                msg.push(\" Data: \" + JSON.stringify(entry.data));\r\n            }\r\n            catch (e) {\r\n                msg.push(\" Data: Error in stringify of supplied data \" + e);\r\n            }\r\n        }\r\n        return msg.join(\"\");\r\n    };\r\n    return ConsoleListener;\r\n}());\r\nexport { ConsoleListener };\r\n/**\r\n * Implementation of LogListener which logs to the supplied function\r\n *\r\n */\r\nvar FunctionListener = /** @class */ (function () {\r\n    /**\r\n     * Creates a new instance of the FunctionListener class\r\n     *\r\n     * @constructor\r\n     * @param  method The method to which any logging data will be passed\r\n     */\r\n    function FunctionListener(method) {\r\n        this.method = method;\r\n    }\r\n    /**\r\n     * Any associated data that a given logging listener may choose to log or ignore\r\n     *\r\n     * @param entry The information to be logged\r\n     */\r\n    FunctionListener.prototype.log = function (entry) {\r\n        this.method(entry);\r\n    };\r\n    return FunctionListener;\r\n}());\r\nexport { FunctionListener };\r\n","export * from \"./logger\";\r\nexport * from \"./listeners\";\r\n","import { __decorate } from \"tslib\";\r\nimport { assign, isFunc, hOP } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { CachingOptions, CachingParserWrapper } from \"./caching\";\r\n/**\r\n * Resolves the context's result value\r\n *\r\n * @param context The current context\r\n */\r\nfunction returnResult(context) {\r\n    Logger.log({\r\n        data: Logger.activeLogLevel === 0 /* Verbose */ ? context.result : {},\r\n        level: 1 /* Info */,\r\n        message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Returning result from pipeline. Set logging to verbose to see data.\",\r\n    });\r\n    return Promise.resolve(context.result);\r\n}\r\n/**\r\n * Sets the result on the context\r\n */\r\nexport function setResult(context, value) {\r\n    return new Promise(function (resolve) {\r\n        context.result = value;\r\n        context.hasResult = true;\r\n        resolve(context);\r\n    });\r\n}\r\n/**\r\n * Invokes the next method in the provided context's pipeline\r\n *\r\n * @param c The current request context\r\n */\r\nfunction next(c) {\r\n    return c.pipes.length > 0 ? c.pipes.shift()(c) : Promise.resolve(c);\r\n}\r\n/**\r\n * Executes the current request context's pipeline\r\n *\r\n * @param context Current context\r\n */\r\nexport function pipe(context) {\r\n    if (context.pipes.length < 1) {\r\n        Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Request pipeline contains no methods!\", 3 /* Error */);\r\n        throw Error(\"Request pipeline contains no methods!\");\r\n    }\r\n    var promise = next(context).then(function (ctx) { return returnResult(ctx); }).catch(function (e) {\r\n        Logger.error(e);\r\n        throw e;\r\n    });\r\n    if (context.isBatched) {\r\n        // this will block the batch's execute method from returning until the child requets have been resolved\r\n        context.batch.addResolveBatchDependency(promise);\r\n    }\r\n    return promise;\r\n}\r\n/**\r\n * decorator factory applied to methods in the pipeline to control behavior\r\n */\r\nexport function requestPipelineMethod(alwaysRun) {\r\n    if (alwaysRun === void 0) { alwaysRun = false; }\r\n    return function (target, propertyKey, descriptor) {\r\n        var method = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            // if we have a result already in the pipeline, pass it along and don't call the tagged method\r\n            if (!alwaysRun && args.length > 0 && hOP(args[0], \"hasResult\") && args[0].hasResult) {\r\n                Logger.write(\"[\" + args[0].requestId + \"] (\" + (new Date()).getTime() + \") Skipping request pipeline method \" + propertyKey + \", existing result in pipeline.\", 0 /* Verbose */);\r\n                return Promise.resolve(args[0]);\r\n            }\r\n            // apply the tagged method\r\n            Logger.write(\"[\" + args[0].requestId + \"] (\" + (new Date()).getTime() + \") Calling request pipeline method \" + propertyKey + \".\", 0 /* Verbose */);\r\n            // then chain the next method in the context's pipeline - allows for dynamic pipeline\r\n            return method.apply(target, args).then(function (ctx) { return next(ctx); });\r\n        };\r\n    };\r\n}\r\n/**\r\n * Contains the methods used within the request pipeline\r\n */\r\nvar PipelineMethods = /** @class */ (function () {\r\n    function PipelineMethods() {\r\n    }\r\n    /**\r\n     * Logs the start of the request\r\n     */\r\n    PipelineMethods.logStart = function (context) {\r\n        return new Promise(function (resolve) {\r\n            Logger.log({\r\n                data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                level: 1 /* Info */,\r\n                message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Beginning \" + context.method + \" request (\" + context.url + \")\",\r\n            });\r\n            resolve(context);\r\n        });\r\n    };\r\n    /**\r\n     * Handles caching of the request\r\n     */\r\n    PipelineMethods.caching = function (context) {\r\n        return new Promise(function (resolve) {\r\n            // handle caching, if applicable\r\n            if (context.useCaching) {\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Caching is enabled for request, checking cache...\", 1 /* Info */);\r\n                var cacheOptions = new CachingOptions(context.url.toLowerCase());\r\n                if (context.cachingOptions !== undefined) {\r\n                    cacheOptions = assign(cacheOptions, context.cachingOptions);\r\n                }\r\n                // we may not have a valid store\r\n                if (cacheOptions.store !== null) {\r\n                    // check if we have the data in cache and if so resolve the promise and return\r\n                    var data = cacheOptions.store.get(cacheOptions.key);\r\n                    if (data !== null) {\r\n                        Logger.log({\r\n                            data: Logger.activeLogLevel === 1 /* Info */ ? {} : data,\r\n                            level: 1 /* Info */,\r\n                            message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Value returned from cache.\",\r\n                        });\r\n                        // ensure we clear any held batch dependency we are resolving from the cache\r\n                        if (isFunc(context.batchDependency)) {\r\n                            context.batchDependency();\r\n                        }\r\n                        // handle the case where a parser needs to take special actions with a cached result\r\n                        if (hOP(context.parser, \"hydrate\")) {\r\n                            data = context.parser.hydrate(data);\r\n                        }\r\n                        return setResult(context, data).then(function (ctx) { return resolve(ctx); });\r\n                    }\r\n                }\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Value not found in cache.\", 1 /* Info */);\r\n                // if we don't then wrap the supplied parser in the caching parser wrapper\r\n                // and send things on their way\r\n                context.parser = new CachingParserWrapper(context.parser, cacheOptions);\r\n            }\r\n            return resolve(context);\r\n        });\r\n    };\r\n    /**\r\n     * Sends the request\r\n     */\r\n    PipelineMethods.send = function (context) {\r\n        return new Promise(function (resolve, reject) {\r\n            // send or batch the request\r\n            if (context.isBatched) {\r\n                var p = context.batch.add(context);\r\n                // we release the dependency here to ensure the batch does not execute until the request is added to the batch\r\n                if (isFunc(context.batchDependency)) {\r\n                    context.batchDependency();\r\n                }\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Batching request in batch \" + context.batch.batchId + \".\", 1 /* Info */);\r\n                // we set the result as the promise which will be resolved by the batch's execution\r\n                resolve(setResult(context, p));\r\n            }\r\n            else {\r\n                Logger.write(\"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Sending request.\", 1 /* Info */);\r\n                // we are not part of a batch, so proceed as normal\r\n                var client = context.clientFactory();\r\n                var opts = assign(context.options || {}, { method: context.method });\r\n                client.fetch(context.url, opts)\r\n                    .then(function (response) { return context.parser.parse(response); })\r\n                    .then(function (result) { return setResult(context, result); })\r\n                    .then(function (ctx) { return resolve(ctx); })\r\n                    .catch(function (e) { return reject(e); });\r\n            }\r\n        });\r\n    };\r\n    /**\r\n     * Logs the end of the request\r\n     */\r\n    PipelineMethods.logEnd = function (context) {\r\n        return new Promise(function (resolve) {\r\n            if (context.isBatched) {\r\n                Logger.log({\r\n                    data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                    level: 1 /* Info */,\r\n                    message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") \" + context.method + \" request will complete in batch \" + context.batch.batchId + \".\",\r\n                });\r\n            }\r\n            else {\r\n                Logger.log({\r\n                    data: Logger.activeLogLevel === 1 /* Info */ ? {} : context,\r\n                    level: 1 /* Info */,\r\n                    message: \"[\" + context.requestId + \"] (\" + (new Date()).getTime() + \") Completing \" + context.method + \" request.\",\r\n                });\r\n            }\r\n            resolve(context);\r\n        });\r\n    };\r\n    __decorate([\r\n        requestPipelineMethod(true)\r\n    ], PipelineMethods, \"logStart\", null);\r\n    __decorate([\r\n        requestPipelineMethod()\r\n    ], PipelineMethods, \"caching\", null);\r\n    __decorate([\r\n        requestPipelineMethod()\r\n    ], PipelineMethods, \"send\", null);\r\n    __decorate([\r\n        requestPipelineMethod(true)\r\n    ], PipelineMethods, \"logEnd\", null);\r\n    return PipelineMethods;\r\n}());\r\nexport { PipelineMethods };\r\nexport function getDefaultPipeline() {\r\n    return [\r\n        PipelineMethods.logStart,\r\n        PipelineMethods.caching,\r\n        PipelineMethods.send,\r\n        PipelineMethods.logEnd,\r\n    ].slice(0);\r\n}\r\n","import { ODataParser } from \"./parsers\";\r\nimport { getGUID, objectDefinedNotNull } from \"@pnp/common\";\r\nimport { cloneQueryableData } from \"./queryable\";\r\nimport { pipe, getDefaultPipeline } from \"./pipeline\";\r\n// first we bind the pipeline we will use for all requests within this closure\r\nexport function pipelineBinder(pipes) {\r\n    // then we bind the client factory we'll use (typically done in an implementing library such as sp)\r\n    return function (clientFactory) {\r\n        // then we create a binder we can apply for each type of method (GET, POST, etc.)\r\n        return function (method) {\r\n            // finally we get a function back to which we can pass an IQueryableData instance and execute the request it defines\r\n            return function (o) {\r\n                // send the IQueryableData down the pipeline\r\n                return pipe(Object.assign({}, {\r\n                    batch: null,\r\n                    batchDependency: null,\r\n                    batchIndex: -1,\r\n                    cachingOptions: null,\r\n                    clientFactory: clientFactory,\r\n                    cloneParentCacheOptions: null,\r\n                    cloneParentWasCaching: false,\r\n                    hasResult: false,\r\n                    isBatched: objectDefinedNotNull(o.batch),\r\n                    method: method,\r\n                    options: null,\r\n                    parentUrl: \"\",\r\n                    parser: new ODataParser(),\r\n                    pipes: pipes.slice(0),\r\n                    query: new Map(),\r\n                    requestId: getGUID(),\r\n                    url: \"\",\r\n                    useCaching: /^get$/i.test(o.method) && o.useCaching,\r\n                }, cloneQueryableData(o)));\r\n            };\r\n        };\r\n    };\r\n}\r\nexport var defaultPipelineBinder = pipelineBinder(getDefaultPipeline());\r\n","import { jsS } from \"@pnp/common\";\r\nexport function body(o, previous) {\r\n    return Object.assign({ body: jsS(o) }, previous);\r\n}\r\nexport function headers(o, previous) {\r\n    return Object.assign({ headers: o }, previous);\r\n}\r\n","export * from \"./batch\";\r\nexport * from \"./caching\";\r\nexport * from \"./add-prop\";\r\nexport * from \"./invokable-binder\";\r\nexport * from \"./pipeline-binder\";\r\nexport * from \"./parsers\";\r\nexport * from \"./pipeline\";\r\nexport * from \"./queryable\";\r\nexport * from \"./request-builders\";\r\nexport { extendGlobal, extendObj, extendFactory, clearGlobalExtensions, enableExtensions, disableExtensions, } from \"./invokable-extensions\";\r\n","export function metadata(type) {\r\n    return {\r\n        \"__metadata\": { \"type\": type },\r\n    };\r\n}\r\n","import { stringIsNullOrEmpty } from \"@pnp/common\";\r\nexport function extractWebUrl(candidateUrl) {\r\n    if (stringIsNullOrEmpty(candidateUrl)) {\r\n        return \"\";\r\n    }\r\n    var index = candidateUrl.indexOf(\"_api/\");\r\n    if (index < 0) {\r\n        index = candidateUrl.indexOf(\"_vti_bin/\");\r\n    }\r\n    if (index > -1) {\r\n        return candidateUrl.substr(0, index);\r\n    }\r\n    // if all else fails just give them what they gave us back\r\n    return candidateUrl;\r\n}\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { stringIsNullOrEmpty } from \"@pnp/common\";\r\nimport { headers } from \"@pnp/odata\";\r\n/**\r\n * Includes this method name in the X-ClientService-ClientTag used to record pnpjs usage\r\n *\r\n * @param name Method name, displayed in the\r\n */\r\nexport function tag(name) {\r\n    return function (target, key, descriptor) {\r\n        if (descriptor === undefined) {\r\n            descriptor = Object.getOwnPropertyDescriptor(target, key);\r\n        }\r\n        var originalMethod = descriptor.value;\r\n        descriptor.value = function () {\r\n            var args = [];\r\n            for (var _i = 0; _i < arguments.length; _i++) {\r\n                args[_i] = arguments[_i];\r\n            }\r\n            return __awaiter(this, void 0, void 0, function () {\r\n                return __generator(this, function (_a) {\r\n                    this.configure(headers({ \"X-PnPjs-Tracking\": name }));\r\n                    return [2 /*return*/, originalMethod.apply(this, args)];\r\n                });\r\n            });\r\n        };\r\n        return descriptor;\r\n    };\r\n}\r\ntag.getClientTag = function (h, deleteFromCollection) {\r\n    if (deleteFromCollection === void 0) { deleteFromCollection = true; }\r\n    if (h.has(\"X-PnPjs-Tracking\")) {\r\n        var methodName = h.get(\"X-PnPjs-Tracking\");\r\n        if (deleteFromCollection) {\r\n            h.delete(\"X-PnPjs-Tracking\");\r\n        }\r\n        if (!stringIsNullOrEmpty(methodName)) {\r\n            return methodName;\r\n        }\r\n    }\r\n    return \"\";\r\n};\r\ntag.configure = function (o, name) {\r\n    return o.configure(headers({ \"X-PnPjs-Tracking\": name }));\r\n};\r\ntag.isTagged = function (o) {\r\n    return o.data.options.headers && o.data.options.headers[\"X-PnPjs-Tracking\"];\r\n};\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { assign, mergeHeaders, getCtxCallback, combine, dateAdd, } from \"@pnp/common\";\r\nimport { SPRuntimeConfig } from \"./splibconfig\";\r\nimport { extractWebUrl } from \"./utils/extractweburl\";\r\nimport { tag } from \"./telemetry\";\r\nimport { ODataParser } from \"@pnp/odata\";\r\nvar SPHttpClient = /** @class */ (function () {\r\n    function SPHttpClient(_impl) {\r\n        if (_impl === void 0) { _impl = SPRuntimeConfig.fetchClientFactory(); }\r\n        this._impl = _impl;\r\n        this._digestCache = getDigestFactory(this);\r\n    }\r\n    SPHttpClient.prototype.fetch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var opts, headers, methodName, clientTag, digest;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        opts = assign(options, { cache: \"no-cache\", credentials: \"same-origin\" }, true);\r\n                        headers = new Headers();\r\n                        // first we add the global headers so they can be overwritten by any passed in locally to this call\r\n                        mergeHeaders(headers, SPRuntimeConfig.headers);\r\n                        // second we add the local options so we can overwrite the globals\r\n                        mergeHeaders(headers, options.headers);\r\n                        // lastly we apply any default headers we need that may not exist\r\n                        if (!headers.has(\"Accept\")) {\r\n                            headers.append(\"Accept\", \"application/json\");\r\n                        }\r\n                        if (!headers.has(\"Content-Type\")) {\r\n                            headers.append(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\r\n                        }\r\n                        if (!headers.has(\"X-ClientService-ClientTag\")) {\r\n                            methodName = tag.getClientTag(headers);\r\n                            clientTag = \"PnPCoreJS:2.0.6:\" + methodName;\r\n                            if (clientTag.length > 32) {\r\n                                clientTag = clientTag.substr(0, 32);\r\n                            }\r\n                            headers.append(\"X-ClientService-ClientTag\", clientTag);\r\n                        }\r\n                        opts = assign(opts, { headers: headers });\r\n                        if (!(opts.method && opts.method.toUpperCase() !== \"GET\" && !headers.has(\"X-RequestDigest\") && !headers.has(\"Authorization\"))) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this._digestCache(extractWebUrl(url))];\r\n                    case 1:\r\n                        digest = _a.sent();\r\n                        headers.append(\"X-RequestDigest\", digest);\r\n                        _a.label = 2;\r\n                    case 2: return [2 /*return*/, this.fetchRaw(url, opts)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    SPHttpClient.prototype.fetchRaw = function (url, options) {\r\n        var _this = this;\r\n        if (options === void 0) { options = {}; }\r\n        // here we need to normalize the headers\r\n        var rawHeaders = new Headers();\r\n        mergeHeaders(rawHeaders, options.headers);\r\n        options = assign(options, { headers: rawHeaders });\r\n        var retry = function (ctx) {\r\n            // handles setting the proper timeout for a retry\r\n            var setRetry = function (response) {\r\n                var delay;\r\n                if (response.headers.has(\"Retry-After\")) {\r\n                    // if we have gotten a header, use that value as the delay value in seconds\r\n                    delay = parseInt(response.headers.get(\"Retry-After\"), 10) * 1000;\r\n                }\r\n                else {\r\n                    // grab our current delay\r\n                    delay = ctx.delay;\r\n                    // Increment our counters.\r\n                    ctx.delay *= 2;\r\n                }\r\n                ctx.attempts++;\r\n                // If we have exceeded the retry count, reject.\r\n                if (ctx.retryCount <= ctx.attempts) {\r\n                    ctx.reject(Error(\"Retry count exceeded (\" + ctx.retryCount + \") for request. Response status: [\" + response.status + \"] \" + response.statusText));\r\n                }\r\n                else {\r\n                    // Set our retry timeout for {delay} milliseconds.\r\n                    setTimeout(getCtxCallback(_this, retry, ctx), delay);\r\n                }\r\n            };\r\n            // send the actual request\r\n            _this._impl.fetch(url, options).then(function (response) {\r\n                if (response.status === 429) {\r\n                    // we have been throttled\r\n                    setRetry(response);\r\n                }\r\n                else {\r\n                    ctx.resolve(response);\r\n                }\r\n            }).catch(function (response) {\r\n                if (response.status === 503 || response.status === 504) {\r\n                    // http status code 503 or 504, we can retry this\r\n                    setRetry(response);\r\n                }\r\n                else {\r\n                    ctx.reject(response);\r\n                }\r\n            });\r\n        };\r\n        return new Promise(function (resolve, reject) {\r\n            retry.call(_this, {\r\n                attempts: 0,\r\n                delay: 100,\r\n                reject: reject,\r\n                resolve: resolve,\r\n                retryCount: 7,\r\n            });\r\n        });\r\n    };\r\n    SPHttpClient.prototype.get = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"GET\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    SPHttpClient.prototype.post = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"POST\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    SPHttpClient.prototype.patch = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"PATCH\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    SPHttpClient.prototype.delete = function (url, options) {\r\n        if (options === void 0) { options = {}; }\r\n        var opts = assign(options, { method: \"DELETE\" });\r\n        return this.fetch(url, opts);\r\n    };\r\n    return SPHttpClient;\r\n}());\r\nexport { SPHttpClient };\r\n// allows for the caching of digests across all HttpClient's which each have their own DigestCache wrapper.\r\nvar digests = new Map();\r\nfunction getDigestFactory(client) {\r\n    var _this = this;\r\n    return function (webUrl) { return __awaiter(_this, void 0, void 0, function () {\r\n        var cachedDigest, now, url, headers, resp, parsed, newCachedDigest;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    cachedDigest = digests.get(webUrl);\r\n                    if (cachedDigest !== undefined) {\r\n                        now = new Date();\r\n                        if (now < cachedDigest.expiration) {\r\n                            return [2 /*return*/, cachedDigest.value];\r\n                        }\r\n                    }\r\n                    url = combine(webUrl, \"/_api/contextinfo\");\r\n                    headers = {\r\n                        \"Accept\": \"application/json;odata=verbose\",\r\n                        \"Content-Type\": \"application/json;odata=verbose;charset=utf-8\",\r\n                    };\r\n                    return [4 /*yield*/, client.fetchRaw(url, {\r\n                            cache: \"no-cache\",\r\n                            credentials: \"same-origin\",\r\n                            headers: assign(headers, SPRuntimeConfig.headers, true),\r\n                            method: \"POST\",\r\n                        })];\r\n                case 1:\r\n                    resp = _a.sent();\r\n                    return [4 /*yield*/, (new ODataParser()).parse(resp).then(function (r) { return r.GetContextWebInformation; })];\r\n                case 2:\r\n                    parsed = _a.sent();\r\n                    newCachedDigest = {\r\n                        expiration: dateAdd(new Date(), \"second\", parsed.FormDigestTimeoutSeconds),\r\n                        value: parsed.FormDigestValue,\r\n                    };\r\n                    digests.set(webUrl, newCachedDigest);\r\n                    return [2 /*return*/, newCachedDigest.value];\r\n            }\r\n        });\r\n    }); };\r\n}\r\n","import { combine, isUrlAbsolute, hOP, safeGlobal } from \"@pnp/common\";\r\nimport { SPRuntimeConfig } from \"../splibconfig\";\r\n/**\r\n * Ensures that a given url is absolute for the current web based on context\r\n *\r\n * @param candidateUrl The url to make absolute\r\n *\r\n */\r\nexport function toAbsoluteUrl(candidateUrl) {\r\n    return new Promise(function (resolve) {\r\n        if (isUrlAbsolute(candidateUrl)) {\r\n            // if we are already absolute, then just return the url\r\n            return resolve(candidateUrl);\r\n        }\r\n        if (SPRuntimeConfig.baseUrl !== null) {\r\n            // base url specified either with baseUrl of spfxContext config property\r\n            return resolve(combine(SPRuntimeConfig.baseUrl, candidateUrl));\r\n        }\r\n        if (safeGlobal._spPageContextInfo !== undefined) {\r\n            // operating in classic pages\r\n            if (hOP(safeGlobal._spPageContextInfo, \"webAbsoluteUrl\")) {\r\n                return resolve(combine(safeGlobal._spPageContextInfo.webAbsoluteUrl, candidateUrl));\r\n            }\r\n            else if (hOP(safeGlobal._spPageContextInfo, \"webServerRelativeUrl\")) {\r\n                return resolve(combine(safeGlobal._spPageContextInfo.webServerRelativeUrl, candidateUrl));\r\n            }\r\n        }\r\n        // does window.location exist and have a certain path part in it?\r\n        if (safeGlobal.location !== undefined) {\r\n            var baseUrl_1 = safeGlobal.location.toString().toLowerCase();\r\n            [\"/_layouts/\", \"/siteassets/\"].forEach(function (s) {\r\n                var index = baseUrl_1.indexOf(s);\r\n                if (index > 0) {\r\n                    return resolve(combine(baseUrl_1.substr(0, index), candidateUrl));\r\n                }\r\n            });\r\n        }\r\n        return resolve(candidateUrl);\r\n    });\r\n}\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { defaultPipelineBinder, cloneQueryableData, headers } from \"@pnp/odata\";\r\nimport { SPHttpClient } from \"./sphttpclient\";\r\nimport { mergeOptions, objectDefinedNotNull } from \"@pnp/common\";\r\nimport { toAbsoluteUrl } from \"./utils/toabsoluteurl\";\r\nvar spClientBinder = defaultPipelineBinder(function () { return new SPHttpClient(); });\r\nvar send = function (method) {\r\n    var operation = spClientBinder(method);\r\n    return function (o, options) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data, batchDependency, url;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        data = cloneQueryableData(o.data);\r\n                        batchDependency = objectDefinedNotNull(data.batch) ? data.batch.addDependency() : function () { return; };\r\n                        return [4 /*yield*/, toAbsoluteUrl(o.toUrlAndQuery())];\r\n                    case 1:\r\n                        url = _a.sent();\r\n                        mergeOptions(data.options, options);\r\n                        return [2 /*return*/, operation(Object.assign({}, data, {\r\n                                batchDependency: batchDependency,\r\n                                url: url,\r\n                            }))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n};\r\nexport var spGet = function (o, options) {\r\n    // Fix for #304 - when we clone objects we in some cases then execute a get request\r\n    // in these cases the caching settings were getting dropped from the request\r\n    // this tracks if the object from which this was cloned was caching and applies that to an immediate get request\r\n    // does not affect objects cloned from this as we are using different fields to track the settings so it won't\r\n    // be triggered\r\n    if (o.data.cloneParentWasCaching) {\r\n        o.usingCaching(o.data.cloneParentCacheOptions);\r\n    }\r\n    // if we are forcing caching set that in the data here\r\n    if (o._forceCaching) {\r\n        o.data.useCaching = true;\r\n    }\r\n    return send(\"GET\")(o, options);\r\n};\r\nexport var spPost = send(\"POST\");\r\nexport var spDelete = send(\"DELETE\");\r\nexport var spPatch = send(\"PATCH\");\r\nexport var spPostDelete = function (o, options) {\r\n    var opts = Object.assign(headers({ \"X-HTTP-Method\": \"DELETE\" }), options);\r\n    return spPost(o, opts);\r\n};\r\nexport var spPostDeleteETag = function (o, options, eTag) {\r\n    if (eTag === void 0) { eTag = \"*\"; }\r\n    var opts = Object.assign(headers({ \"X-HTTP-Method\": \"DELETE\", \"IF-Match\": eTag }), options);\r\n    return spPost(o, opts);\r\n};\r\n","import { __extends } from \"tslib\";\r\nimport { combine, isUrlAbsolute, assign, jsS } from \"@pnp/common\";\r\nimport { Queryable, invokableFactory } from \"@pnp/odata\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { metadata } from \"./utils/metadata\";\r\nimport { spGet, spPost, spPostDelete, spPostDeleteETag } from \"./operations\";\r\nimport { tag } from \"./telemetry\";\r\nexport var spInvokableFactory = function (f) {\r\n    return invokableFactory(f);\r\n};\r\n/**\r\n * SharePointQueryable Base Class\r\n *\r\n */\r\nvar _SharePointQueryable = /** @class */ (function (_super) {\r\n    __extends(_SharePointQueryable, _super);\r\n    /**\r\n     * Creates a new instance of the SharePointQueryable class\r\n     *\r\n     * @constructor\r\n     * @param baseUrl A string or SharePointQueryable that should form the base part of the url\r\n     *\r\n     */\r\n    function _SharePointQueryable(baseUrl, path) {\r\n        var _this = this;\r\n        var url = \"\";\r\n        var parentUrl = \"\";\r\n        var query = new Map();\r\n        if (typeof baseUrl === \"string\") {\r\n            // we need to do some extra parsing to get the parent url correct if we are\r\n            // being created from just a string.\r\n            if (isUrlAbsolute(baseUrl) || baseUrl.lastIndexOf(\"/\") < 0) {\r\n                parentUrl = baseUrl;\r\n                url = combine(baseUrl, path);\r\n            }\r\n            else if (baseUrl.lastIndexOf(\"/\") > baseUrl.lastIndexOf(\"(\")) {\r\n                // .../items(19)/fields\r\n                var index = baseUrl.lastIndexOf(\"/\");\r\n                parentUrl = baseUrl.slice(0, index);\r\n                path = combine(baseUrl.slice(index), path);\r\n                url = combine(parentUrl, path);\r\n            }\r\n            else {\r\n                // .../items(19)\r\n                var index = baseUrl.lastIndexOf(\"(\");\r\n                parentUrl = baseUrl.slice(0, index);\r\n                url = combine(baseUrl, path);\r\n            }\r\n        }\r\n        else {\r\n            parentUrl = baseUrl.toUrl();\r\n            url = combine(parentUrl, path || \"\");\r\n            var target = baseUrl.query.get(\"@target\");\r\n            if (target !== undefined) {\r\n                query.set(\"@target\", target);\r\n            }\r\n        }\r\n        // init base with correct values for data seed\r\n        _this = _super.call(this, {\r\n            parentUrl: parentUrl,\r\n            query: query,\r\n            url: url,\r\n        }) || this;\r\n        // post init actions\r\n        if (typeof baseUrl !== \"string\") {\r\n            _this.configureFrom(baseUrl);\r\n        }\r\n        _this._forceCaching = false;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the full url with query information\r\n     */\r\n    _SharePointQueryable.prototype.toUrlAndQuery = function () {\r\n        var aliasedParams = new Map(this.query);\r\n        var url = this.toUrl().replace(/'!(@.*?)::(.*?)'/ig, function (match, labelName, value) {\r\n            Logger.write(\"Rewriting aliased parameter from match \" + match + \" to label: \" + labelName + \" value: \" + value, 0 /* Verbose */);\r\n            aliasedParams.set(labelName, \"'\" + value + \"'\");\r\n            return labelName;\r\n        });\r\n        if (aliasedParams.size > 0) {\r\n            var char = url.indexOf(\"?\") > -1 ? \"&\" : \"?\";\r\n            url += \"\" + char + Array.from(aliasedParams).map(function (v) { return v[0] + \"=\" + v[1]; }).join(\"&\");\r\n        }\r\n        return url;\r\n    };\r\n    /**\r\n     * Choose which fields to return\r\n     *\r\n     * @param selects One or more fields to return\r\n     */\r\n    _SharePointQueryable.prototype.select = function () {\r\n        var selects = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            selects[_i] = arguments[_i];\r\n        }\r\n        if (selects.length > 0) {\r\n            this.query.set(\"$select\", selects.join(\",\"));\r\n        }\r\n        return this;\r\n    };\r\n    _SharePointQueryable.prototype.get = function (options) {\r\n        return spGet(this, options);\r\n    };\r\n    /**\r\n     * Expands fields such as lookups to get additional data\r\n     *\r\n     * @param expands The Fields for which to expand the values\r\n     */\r\n    _SharePointQueryable.prototype.expand = function () {\r\n        var expands = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            expands[_i] = arguments[_i];\r\n        }\r\n        if (expands.length > 0) {\r\n            this.query.set(\"$expand\", expands.join(\",\"));\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Clones this SharePointQueryable into a new SharePointQueryable instance of T\r\n     * @param factory Constructor used to create the new instance\r\n     * @param additionalPath Any additional path to include in the clone\r\n     * @param includeBatch If true this instance's batch will be added to the cloned instance\r\n     */\r\n    _SharePointQueryable.prototype.clone = function (factory, additionalPath, includeBatch) {\r\n        if (includeBatch === void 0) { includeBatch = true; }\r\n        var clone = _super.prototype.cloneTo.call(this, factory(this, additionalPath), { includeBatch: includeBatch });\r\n        // handle sp specific clone actions\r\n        var t = \"@target\";\r\n        if (this.query.has(t)) {\r\n            clone.query.set(t, this.query.get(t));\r\n        }\r\n        return clone;\r\n    };\r\n    /**\r\n     * The default action for this object (unless overridden spGet)\r\n     *\r\n     * @param options optional request options\r\n     */\r\n    _SharePointQueryable.prototype.defaultAction = function (options) {\r\n        return spGet(this, options);\r\n    };\r\n    /**\r\n     * Gets a parent for this instance as specified\r\n     *\r\n     * @param factory The contructor for the class to create\r\n     */\r\n    _SharePointQueryable.prototype.getParent = function (factory, baseUrl, path, batch) {\r\n        if (baseUrl === void 0) { baseUrl = this.parentUrl; }\r\n        var parent = factory(baseUrl, path).configureFrom(this);\r\n        var t = \"@target\";\r\n        if (this.query.has(t)) {\r\n            parent.query.set(t, this.query.get(t));\r\n        }\r\n        if (batch !== undefined) {\r\n            parent = parent.inBatch(batch);\r\n        }\r\n        return parent;\r\n    };\r\n    return _SharePointQueryable;\r\n}(Queryable));\r\nexport { _SharePointQueryable };\r\nexport var SharePointQueryable = spInvokableFactory(_SharePointQueryable);\r\n/**\r\n * Represents a REST collection which can be filtered, paged, and selected\r\n *\r\n */\r\nvar _SharePointQueryableCollection = /** @class */ (function (_super) {\r\n    __extends(_SharePointQueryableCollection, _super);\r\n    function _SharePointQueryableCollection() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Filters the returned collection (https://msdn.microsoft.com/en-us/library/office/fp142385.aspx#bk_supported)\r\n     *\r\n     * @param filter The string representing the filter query\r\n     */\r\n    _SharePointQueryableCollection.prototype.filter = function (filter) {\r\n        this.query.set(\"$filter\", filter);\r\n        return this;\r\n    };\r\n    /**\r\n     * Orders based on the supplied fields\r\n     *\r\n     * @param orderby The name of the field on which to sort\r\n     * @param ascending If false DESC is appended, otherwise ASC (default)\r\n     */\r\n    _SharePointQueryableCollection.prototype.orderBy = function (orderBy, ascending) {\r\n        if (ascending === void 0) { ascending = true; }\r\n        var o = \"$orderby\";\r\n        var query = this.query.has(o) ? this.query.get(o).split(\",\") : [];\r\n        query.push(orderBy + \" \" + (ascending ? \"asc\" : \"desc\"));\r\n        this.query.set(o, query.join(\",\"));\r\n        return this;\r\n    };\r\n    /**\r\n     * Skips the specified number of items\r\n     *\r\n     * @param skip The number of items to skip\r\n     */\r\n    _SharePointQueryableCollection.prototype.skip = function (skip) {\r\n        this.query.set(\"$skip\", skip.toString());\r\n        return this;\r\n    };\r\n    /**\r\n     * Limits the query to only return the specified number of items\r\n     *\r\n     * @param top The query row limit\r\n     */\r\n    _SharePointQueryableCollection.prototype.top = function (top) {\r\n        this.query.set(\"$top\", top.toString());\r\n        return this;\r\n    };\r\n    return _SharePointQueryableCollection;\r\n}(_SharePointQueryable));\r\nexport { _SharePointQueryableCollection };\r\nexport var SharePointQueryableCollection = spInvokableFactory(_SharePointQueryableCollection);\r\n/**\r\n * Represents an instance that can be selected\r\n *\r\n */\r\nvar _SharePointQueryableInstance = /** @class */ (function (_super) {\r\n    __extends(_SharePointQueryableInstance, _super);\r\n    function _SharePointQueryableInstance() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Curries the update function into the common pieces\r\n     *\r\n     * @param type\r\n     * @param mapper\r\n     */\r\n    _SharePointQueryableInstance.prototype._update = function (type, mapper) {\r\n        var _this = this;\r\n        return function (props) { return spPost(tag.configure(_this, type + \".Update\"), {\r\n            body: jsS(assign(metadata(type), props)),\r\n            headers: {\r\n                \"X-HTTP-Method\": \"MERGE\",\r\n            },\r\n        }).then(function (d) { return mapper(d, props); }); };\r\n    };\r\n    return _SharePointQueryableInstance;\r\n}(_SharePointQueryable));\r\nexport { _SharePointQueryableInstance };\r\nexport var SharePointQueryableInstance = spInvokableFactory(_SharePointQueryableInstance);\r\n/**\r\n * Adds the a delete method to the tagged class taking no parameters and calling spPostDelete\r\n */\r\nexport function deleteable(t) {\r\n    return function () {\r\n        return spPostDelete(tag.configure(this, t + \".delete\"));\r\n    };\r\n}\r\nexport function deleteableWithETag(t) {\r\n    return function (eTag) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        return spPostDeleteETag(tag.configure(this, t + \".delete\"), {}, eTag);\r\n    };\r\n}\r\n","import { __extends, __read, __spread } from \"tslib\";\r\nimport { assign, combine, hOP, isUrlAbsolute } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { ODataParser } from \"@pnp/odata\";\r\nimport { extractWebUrl } from \"./utils/extractweburl\";\r\nexport function odataUrlFrom(candidate) {\r\n    var parts = [];\r\n    var s = [\"odata.type\", \"odata.editLink\", \"__metadata\", \"odata.metadata\", \"odata.id\"];\r\n    if (hOP(candidate, s[0]) && candidate[s[0]] === \"SP.Web\") {\r\n        // webs return an absolute url in the id\r\n        if (hOP(candidate, s[4])) {\r\n            parts.push(candidate[s[4]]);\r\n        }\r\n        else if (hOP(candidate, s[2])) {\r\n            // we are dealing with verbose, which has an absolute uri\r\n            parts.push(candidate.__metadata.uri);\r\n        }\r\n    }\r\n    else {\r\n        if (hOP(candidate, s[3]) && hOP(candidate, s[1])) {\r\n            // we are dealign with minimal metadata (default)\r\n            // some entities return an abosolute url in the editlink while for others it is relative\r\n            // without the _api. This code is meant to handle both situations\r\n            var editLink = isUrlAbsolute(candidate[s[1]]) ? candidate[s[1]].split(\"_api\")[1] : candidate[s[1]];\r\n            parts.push(extractWebUrl(candidate[s[3]]), \"_api\", editLink);\r\n        }\r\n        else if (hOP(candidate, s[1])) {\r\n            parts.push(\"_api\", candidate[s[1]]);\r\n        }\r\n        else if (hOP(candidate, s[2])) {\r\n            // we are dealing with verbose, which has an absolute uri\r\n            parts.push(candidate.__metadata.uri);\r\n        }\r\n    }\r\n    if (parts.length < 1) {\r\n        Logger.write(\"No uri information found in ODataEntity parsing, chaining will fail for this object.\", 2 /* Warning */);\r\n        return \"\";\r\n    }\r\n    return combine.apply(void 0, __spread(parts));\r\n}\r\nvar SPODataEntityParserImpl = /** @class */ (function (_super) {\r\n    __extends(SPODataEntityParserImpl, _super);\r\n    function SPODataEntityParserImpl(factory) {\r\n        var _this = _super.call(this) || this;\r\n        _this.factory = factory;\r\n        _this.hydrate = function (d) {\r\n            var o = _this.factory(odataUrlFrom(d), null);\r\n            return assign(o, d);\r\n        };\r\n        return _this;\r\n    }\r\n    SPODataEntityParserImpl.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return _super.prototype.parse.call(this, r).then(function (d) {\r\n            var o = _this.factory(odataUrlFrom(d), null);\r\n            return assign(o, d);\r\n        });\r\n    };\r\n    return SPODataEntityParserImpl;\r\n}(ODataParser));\r\nvar SPODataEntityArrayParserImpl = /** @class */ (function (_super) {\r\n    __extends(SPODataEntityArrayParserImpl, _super);\r\n    function SPODataEntityArrayParserImpl(factory) {\r\n        var _this = _super.call(this) || this;\r\n        _this.factory = factory;\r\n        _this.hydrate = function (d) {\r\n            return d.map(function (v) {\r\n                var o = _this.factory(odataUrlFrom(v), null);\r\n                return assign(o, v);\r\n            });\r\n        };\r\n        return _this;\r\n    }\r\n    SPODataEntityArrayParserImpl.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return _super.prototype.parse.call(this, r).then(function (d) {\r\n            return d.map(function (v) {\r\n                var o = _this.factory(odataUrlFrom(v), null);\r\n                return assign(o, v);\r\n            });\r\n        });\r\n    };\r\n    return SPODataEntityArrayParserImpl;\r\n}(ODataParser));\r\nexport function spODataEntity(factory) {\r\n    return new SPODataEntityParserImpl(factory);\r\n}\r\nexport function spODataEntityArray(factory) {\r\n    return new SPODataEntityArrayParserImpl(factory);\r\n}\r\n","/**\r\n * Class Decorators\r\n */\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * Decorator used to specify the default path for SharePointQueryable objects\r\n *\r\n * @param path\r\n */\r\nexport function defaultPath(path) {\r\n    return function (target) {\r\n        return /** @class */ (function (_super) {\r\n            __extends(class_1, _super);\r\n            function class_1() {\r\n                var args = [];\r\n                for (var _i = 0; _i < arguments.length; _i++) {\r\n                    args[_i] = arguments[_i];\r\n                }\r\n                return _super.call(this, args[0], args.length > 1 && args[1] !== undefined ? args[1] : path) || this;\r\n            }\r\n            return class_1;\r\n        }(target));\r\n    };\r\n}\r\n// TODO::?\r\n// performance tracking method decorator\r\n// redirect to graph api\r\n","import { stringIsNullOrEmpty } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nexport function escapeQueryStrValue(value) {\r\n    if (stringIsNullOrEmpty(value)) {\r\n        return \"\";\r\n    }\r\n    // replace all instance of ' with ''\r\n    if (/!(@.*?)::(.*?)/ig.test(value)) {\r\n        // to ensure our param aliasing still works we need to treat these special or we'll hear about it\r\n        // so we encode JUST the part that will end up in the url\r\n        return value.replace(/!(@.*?)::(.*)$/ig, function (match, labelName, v) {\r\n            Logger.write(\"Rewriting aliased parameter from match \" + match + \" to label: \" + labelName + \" value: \" + v, 0 /* Verbose */);\r\n            return \"!\" + labelName + \"::\" + encodeURIComponent(v.replace(/\\'/ig, \"''\"));\r\n        });\r\n    }\r\n    else {\r\n        return encodeURIComponent(value.replace(/\\'/ig, \"''\"));\r\n    }\r\n}\r\n","export function toResourcePath(url) {\r\n    return {\r\n        DecodedUrl: url,\r\n        __metadata: { type: \"SP.ResourcePath\" },\r\n    };\r\n}\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { assign, hOP, isArray, objectDefinedNotNull } from \"@pnp/common\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { SharePointQueryable, SharePointQueryableCollection, _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { tag } from \"../telemetry\";\r\nimport { toResourcePath } from \"../utils/toResourcePath\";\r\nvar _Lists = /** @class */ (function (_super) {\r\n    __extends(_Lists, _super);\r\n    function _Lists() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a list from the collection by guid id\r\n     *\r\n     * @param id The Id of the list (GUID)\r\n     */\r\n    _Lists.prototype.getById = function (id) {\r\n        return tag.configure(List(this).concat(\"('\" + id + \"')\"), \"ls.getById\");\r\n    };\r\n    /**\r\n     * Gets a list from the collection by title\r\n     *\r\n     * @param title The title of the list\r\n     */\r\n    _Lists.prototype.getByTitle = function (title) {\r\n        return tag.configure(List(this, \"getByTitle('\" + escapeQueryStrValue(title) + \"')\"), \"ls.getByTitle\");\r\n    };\r\n    /**\r\n     * Adds a new list to the collection\r\n     *\r\n     * @param title The new list's title\r\n     * @param description The new list's description\r\n     * @param template The list template value\r\n     * @param enableContentTypes If true content types will be allowed and enabled, otherwise they will be disallowed and not enabled\r\n     * @param additionalSettings Will be passed as part of the list creation body\r\n     */\r\n    _Lists.prototype.add = function (title, desc, template, enableContentTypes, additionalSettings) {\r\n        if (desc === void 0) { desc = \"\"; }\r\n        if (template === void 0) { template = 100; }\r\n        if (enableContentTypes === void 0) { enableContentTypes = false; }\r\n        if (additionalSettings === void 0) { additionalSettings = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addSettings, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        addSettings = Object.assign({\r\n                            \"AllowContentTypes\": enableContentTypes,\r\n                            \"BaseTemplate\": template,\r\n                            \"ContentTypesEnabled\": enableContentTypes,\r\n                            \"Description\": desc,\r\n                            \"Title\": title,\r\n                        }, metadata(\"SP.List\"), additionalSettings);\r\n                        return [4 /*yield*/, spPost(this, body(addSettings))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { data: data, list: this.getByTitle(addSettings.Title) }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Ensures that the specified list exists in the collection (note: this method not supported for batching)\r\n     *\r\n     * @param title The new list's title\r\n     * @param desc The new list's description\r\n     * @param template The list template value\r\n     * @param enableContentTypes If true content types will be allowed and enabled, otherwise they will be disallowed and not enabled\r\n     * @param additionalSettings Will be passed as part of the list creation body or used to update an existing list\r\n     */\r\n    _Lists.prototype.ensure = function (title, desc, template, enableContentTypes, additionalSettings) {\r\n        if (desc === void 0) { desc = \"\"; }\r\n        if (template === void 0) { template = 100; }\r\n        if (enableContentTypes === void 0) { enableContentTypes = false; }\r\n        if (additionalSettings === void 0) { additionalSettings = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addOrUpdateSettings, list, data, e_1, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.hasBatch) {\r\n                            throw Error(\"The ensure list method is not supported for use in a batch.\");\r\n                        }\r\n                        addOrUpdateSettings = assign(additionalSettings, { Title: title, Description: desc, ContentTypesEnabled: enableContentTypes }, true);\r\n                        list = this.getByTitle(addOrUpdateSettings.Title);\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        _a.trys.push([1, 4, , 6]);\r\n                        // this will throw if the list doesn't exist\r\n                        return [4 /*yield*/, list.select(\"Title\")()];\r\n                    case 2:\r\n                        // this will throw if the list doesn't exist\r\n                        _a.sent();\r\n                        return [4 /*yield*/, list.update(addOrUpdateSettings).then(function (r) { return r.data; })];\r\n                    case 3:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { created: false, data: data, list: this.getByTitle(addOrUpdateSettings.Title) }];\r\n                    case 4:\r\n                        e_1 = _a.sent();\r\n                        return [4 /*yield*/, this.add(title, desc, template, enableContentTypes, addOrUpdateSettings).then(function (r) { return r.data; })];\r\n                    case 5:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { created: true, data: data, list: this.getByTitle(addOrUpdateSettings.Title) }];\r\n                    case 6: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a list that is the default asset location for images or other files, which the users upload to their wiki pages.\r\n     */\r\n    _Lists.prototype.ensureSiteAssetsLibrary = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var json;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Lists, \"ensuresiteassetslibrary\"))];\r\n                    case 1:\r\n                        json = _a.sent();\r\n                        return [2 /*return*/, List(odataUrlFrom(json))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a list that is the default location for wiki pages.\r\n     */\r\n    _Lists.prototype.ensureSitePagesLibrary = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var json;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Lists, \"ensuresitepageslibrary\"))];\r\n                    case 1:\r\n                        json = _a.sent();\r\n                        return [2 /*return*/, List(odataUrlFrom(json))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"ls.add\")\r\n    ], _Lists.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"ls.ensure\")\r\n    ], _Lists.prototype, \"ensure\", null);\r\n    __decorate([\r\n        tag(\"ls.ensureSiteAssetsLibrary\")\r\n    ], _Lists.prototype, \"ensureSiteAssetsLibrary\", null);\r\n    __decorate([\r\n        tag(\"ls.ensureSitePagesLibrary\")\r\n    ], _Lists.prototype, \"ensureSitePagesLibrary\", null);\r\n    _Lists = __decorate([\r\n        defaultPath(\"lists\")\r\n    ], _Lists);\r\n    return _Lists;\r\n}(_SharePointQueryableCollection));\r\nexport { _Lists };\r\nexport var Lists = spInvokableFactory(_Lists);\r\nvar _List = /** @class */ (function (_super) {\r\n    __extends(_List, _super);\r\n    function _List() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"l\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_List.prototype, \"effectiveBasePermissions\", {\r\n        /**\r\n         * Gets the effective base permissions of this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"EffectiveBasePermissions\"), \"l.effectiveBasePermissions\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_List.prototype, \"eventReceivers\", {\r\n        /**\r\n         * Gets the event receivers attached to this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"EventReceivers\"), \"l.eventReceivers\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_List.prototype, \"relatedFields\", {\r\n        /**\r\n         * Gets the related fields of this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"getRelatedFields\"), \"l.relatedFields\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_List.prototype, \"informationRightsManagementSettings\", {\r\n        /**\r\n         * Gets the IRM settings for this list\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"InformationRightsManagementSettings\"), \"l.informationRightsManagementSettings\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates this list intance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the list\r\n     * @param eTag Value used in the IF-Match header, by default \"*\"\r\n     */\r\n    _List.prototype.update = function (properties, eTag) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data, list;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.List\"), properties), headers({\r\n                            \"IF-Match\": eTag,\r\n                            \"X-HTTP-Method\": \"MERGE\",\r\n                        }));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        list = this;\r\n                        if (hOP(properties, \"Title\")) {\r\n                            list = this.getParent(List, this.parentUrl, \"getByTitle('\" + properties.Title + \"')\");\r\n                        }\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                list: list,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the collection of changes from the change log that have occurred within the list, based on the specified query.\r\n     * @param query A query that is performed against the change log.\r\n     */\r\n    _List.prototype.getChanges = function (query) {\r\n        return spPost(this.clone(List, \"getchanges\"), body({ query: assign(metadata(\"SP.ChangeQuery\"), query) }));\r\n    };\r\n    /**\r\n     * Returns the collection of items in the list based on the provided CamlQuery\r\n     * @param query A query that is performed against the list\r\n     * @param expands An expanded array of n items that contains fields to expand in the CamlQuery\r\n     */\r\n    _List.prototype.getItemsByCAMLQuery = function (query) {\r\n        var expands = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            expands[_i - 1] = arguments[_i];\r\n        }\r\n        var q = this.clone(List, \"getitems\");\r\n        return spPost(q.expand.apply(q, expands), body({ query: assign(metadata(\"SP.CamlQuery\"), query) }));\r\n    };\r\n    /**\r\n     * See: https://msdn.microsoft.com/en-us/library/office/dn292554.aspx\r\n     * @param query An object that defines the change log item query\r\n     */\r\n    _List.prototype.getListItemChangesSinceToken = function (query) {\r\n        var o = this.clone(List, \"getlistitemchangessincetoken\").usingParser({ parse: function (r) { return r.text(); } });\r\n        return spPost(o, body({ \"query\": assign(metadata(\"SP.ChangeLogItemQuery\"), query) }));\r\n    };\r\n    /**\r\n     * Moves the list to the Recycle Bin and returns the identifier of the new Recycle Bin item.\r\n     */\r\n    _List.prototype.recycle = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(List, \"recycle\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"Recycle\") ? data.Recycle : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Renders list data based on the view xml provided\r\n     * @param viewXml A string object representing a view xml\r\n     */\r\n    _List.prototype.renderListData = function (viewXml) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = this.clone(List, \"renderlistdata(@viewXml)\");\r\n                        q.query.set(\"@viewXml\", \"'\" + viewXml + \"'\");\r\n                        return [4 /*yield*/, spPost(q)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // data will be a string, so we parse it again\r\n                        return [2 /*return*/, JSON.parse(hOP(data, \"RenderListData\") ? data.RenderListData : data)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the data for the specified query view\r\n     *\r\n     * @param parameters The parameters to be used to render list data as JSON string.\r\n     * @param overrideParameters The parameters that are used to override and extend the regular SPRenderListDataParameters.\r\n     * @param queryParams Allows setting of query parameters\r\n     */\r\n    _List.prototype.renderListDataAsStream = function (parameters, overrideParameters, queryParams) {\r\n        if (overrideParameters === void 0) { overrideParameters = null; }\r\n        if (queryParams === void 0) { queryParams = new Map(); }\r\n        if (hOP(parameters, \"RenderOptions\") && isArray(parameters.RenderOptions)) {\r\n            parameters.RenderOptions = parameters.RenderOptions.reduce(function (v, c) { return v + c; });\r\n        }\r\n        var postBody = body({\r\n            overrideParameters: assign(metadata(\"SP.RenderListDataOverrideParameters\"), overrideParameters),\r\n            parameters: assign(metadata(\"SP.RenderListDataParameters\"), parameters),\r\n        });\r\n        var clone = this.clone(List, \"RenderListDataAsStream\", true);\r\n        if (queryParams && queryParams.size > 0) {\r\n            queryParams.forEach(function (v, k) { return clone.query.set(k, v); });\r\n        }\r\n        return spPost(clone, postBody);\r\n    };\r\n    /**\r\n     * Gets the field values and field schema attributes for a list item.\r\n     * @param itemId Item id of the item to render form data for\r\n     * @param formId The id of the form\r\n     * @param mode Enum representing the control mode of the form (Display, Edit, New)\r\n     */\r\n    _List.prototype.renderListFormData = function (itemId, formId, mode) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(List, \"renderlistformdata(itemid=\" + itemId + \", formid='\" + formId + \"', mode='\" + mode + \"')\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // data will be a string, so we parse it again\r\n                        return [2 /*return*/, JSON.parse(hOP(data, \"RenderListFormData\") ? data.RenderListFormData : data)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Reserves a list item ID for idempotent list item creation.\r\n     */\r\n    _List.prototype.reserveListItemId = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(List, \"reservelistitemid\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"ReserveListItemId\") ? data.ReserveListItemId : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the ListItemEntityTypeFullName for this list, used when adding/updating list items. Does not support batching.\r\n     */\r\n    _List.prototype.getListItemEntityTypeFullName = function () {\r\n        return this.clone(List, null, false).select(\"ListItemEntityTypeFullName\").get().then(function (o) { return o.ListItemEntityTypeFullName; });\r\n    };\r\n    /**\r\n     * Creates an item using path (in a folder), validates and sets its field values.\r\n     *\r\n     * @param formValues The fields to change and their new values.\r\n     * @param decodedUrl Path decoded url; folder's server relative path.\r\n     * @param bNewDocumentUpdate true if the list item is a document being updated after upload; otherwise false.\r\n     * @param checkInComment Optional check in comment.\r\n     * @param additionalProps Optional set of additional properties LeafName new document file name,\r\n     */\r\n    _List.prototype.addValidateUpdateItemUsingPath = function (formValues, decodedUrl, bNewDocumentUpdate, checkInComment, additionalProps) {\r\n        if (bNewDocumentUpdate === void 0) { bNewDocumentUpdate = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var addProps, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        addProps = {\r\n                            FolderPath: toResourcePath(decodedUrl),\r\n                        };\r\n                        if (objectDefinedNotNull(additionalProps)) {\r\n                            if (additionalProps.leafName) {\r\n                                addProps.LeafName = toResourcePath(additionalProps.leafName);\r\n                            }\r\n                            if (additionalProps.objectType) {\r\n                                addProps.UnderlyingObjectType = additionalProps.objectType;\r\n                            }\r\n                        }\r\n                        return [4 /*yield*/, spPost(this.clone(List, \"AddValidateUpdateItemUsingPath()\"), body({\r\n                                bNewDocumentUpdate: bNewDocumentUpdate,\r\n                                checkInComment: checkInComment,\r\n                                formValues: formValues,\r\n                                listItemCreateInfo: assign(metadata(\"SP.ListItemCreationInformationUsingPath\"), addProps),\r\n                            }))];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [2 /*return*/, hOP(res, \"AddValidateUpdateItemUsingPath\") ? res.AddValidateUpdateItemUsingPath : res];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"l.update\")\r\n    ], _List.prototype, \"update\", null);\r\n    __decorate([\r\n        tag(\"l.getChanges\")\r\n    ], _List.prototype, \"getChanges\", null);\r\n    __decorate([\r\n        tag(\"l.CAMLQuery\")\r\n    ], _List.prototype, \"getItemsByCAMLQuery\", null);\r\n    __decorate([\r\n        tag(\"l.ChangesSinceToken\")\r\n    ], _List.prototype, \"getListItemChangesSinceToken\", null);\r\n    __decorate([\r\n        tag(\"l.recycle\")\r\n    ], _List.prototype, \"recycle\", null);\r\n    __decorate([\r\n        tag(\"l.renderListData\")\r\n    ], _List.prototype, \"renderListData\", null);\r\n    __decorate([\r\n        tag(\"l.AsStream\")\r\n    ], _List.prototype, \"renderListDataAsStream\", null);\r\n    __decorate([\r\n        tag(\"l.renderListFormData\")\r\n    ], _List.prototype, \"renderListFormData\", null);\r\n    __decorate([\r\n        tag(\"l.reserveListItemId\")\r\n    ], _List.prototype, \"reserveListItemId\", null);\r\n    __decorate([\r\n        tag(\"l.getListItemEntityTypeFullName\")\r\n    ], _List.prototype, \"getListItemEntityTypeFullName\", null);\r\n    __decorate([\r\n        tag(\"l.addValidateUpdateItemUsingPath\")\r\n    ], _List.prototype, \"addValidateUpdateItemUsingPath\", null);\r\n    return _List;\r\n}(_SharePointQueryableInstance));\r\nexport { _List };\r\nexport var List = spInvokableFactory(_List);\r\n/**\r\n * Enum representing the options of the RenderOptions property on IRenderListDataParameters interface\r\n */\r\nexport var RenderListDataOptions;\r\n(function (RenderListDataOptions) {\r\n    RenderListDataOptions[RenderListDataOptions[\"None\"] = 0] = \"None\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ContextInfo\"] = 1] = \"ContextInfo\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ListData\"] = 2] = \"ListData\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ListSchema\"] = 4] = \"ListSchema\";\r\n    RenderListDataOptions[RenderListDataOptions[\"MenuView\"] = 8] = \"MenuView\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ListContentType\"] = 16] = \"ListContentType\";\r\n    RenderListDataOptions[RenderListDataOptions[\"FileSystemItemId\"] = 32] = \"FileSystemItemId\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ClientFormSchema\"] = 64] = \"ClientFormSchema\";\r\n    RenderListDataOptions[RenderListDataOptions[\"QuickLaunch\"] = 128] = \"QuickLaunch\";\r\n    RenderListDataOptions[RenderListDataOptions[\"Spotlight\"] = 256] = \"Spotlight\";\r\n    RenderListDataOptions[RenderListDataOptions[\"Visualization\"] = 512] = \"Visualization\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ViewMetadata\"] = 1024] = \"ViewMetadata\";\r\n    RenderListDataOptions[RenderListDataOptions[\"DisableAutoHyperlink\"] = 2048] = \"DisableAutoHyperlink\";\r\n    RenderListDataOptions[RenderListDataOptions[\"EnableMediaTAUrls\"] = 4096] = \"EnableMediaTAUrls\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ParentInfo\"] = 8192] = \"ParentInfo\";\r\n    RenderListDataOptions[RenderListDataOptions[\"PageContextInfo\"] = 16384] = \"PageContextInfo\";\r\n    RenderListDataOptions[RenderListDataOptions[\"ClientSideComponentManifest\"] = 32768] = \"ClientSideComponentManifest\";\r\n})(RenderListDataOptions || (RenderListDataOptions = {}));\r\n/**\r\n * Determines the display mode of the given control or view\r\n */\r\nexport var ControlMode;\r\n(function (ControlMode) {\r\n    ControlMode[ControlMode[\"Display\"] = 1] = \"Display\";\r\n    ControlMode[ControlMode[\"Edit\"] = 2] = \"Edit\";\r\n    ControlMode[ControlMode[\"New\"] = 3] = \"New\";\r\n})(ControlMode || (ControlMode = {}));\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { SharePointQueryable, _SharePointQueryableInstance, _SharePointQueryableCollection, SharePointQueryableInstance, spInvokableFactory, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { assign, hOP } from \"@pnp/common\";\r\nimport { List } from \"../lists/types\";\r\nimport { ODataParser, body, headers } from \"@pnp/odata\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\n/**\r\n * Describes a collection of Item objects\r\n *\r\n */\r\nvar _Items = /** @class */ (function (_super) {\r\n    __extends(_Items, _super);\r\n    function _Items() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n    * Gets an Item by id\r\n    *\r\n    * @param id The integer id of the item to retrieve\r\n    */\r\n    _Items.prototype.getById = function (id) {\r\n        return tag.configure(Item(this).concat(\"(\" + id + \")\"), \"is.getById\");\r\n    };\r\n    /**\r\n     * Gets BCS Item by string id\r\n     *\r\n     * @param stringId The string id of the BCS item to retrieve\r\n     */\r\n    _Items.prototype.getItemByStringId = function (stringId) {\r\n        // creates an item with the parent list path and append out method call\r\n        return tag.configure(Item(this.parentUrl, \"getItemByStringId('\" + stringId + \"')\"), \"is.getItemByStringId\");\r\n    };\r\n    /**\r\n     * Skips the specified number of items (https://msdn.microsoft.com/en-us/library/office/fp142385.aspx#sectionSection6)\r\n     *\r\n     * @param skip The starting id where the page should start, use with top to specify pages\r\n     * @param reverse It true the PagedPrev=true parameter is added allowing backwards navigation in the collection\r\n     */\r\n    _Items.prototype.skip = function (skip, reverse) {\r\n        if (reverse === void 0) { reverse = false; }\r\n        if (reverse) {\r\n            this.query.set(\"$skiptoken\", encodeURIComponent(\"Paged=TRUE&PagedPrev=TRUE&p_ID=\" + skip));\r\n        }\r\n        else {\r\n            this.query.set(\"$skiptoken\", encodeURIComponent(\"Paged=TRUE&p_ID=\" + skip));\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Gets a collection designed to aid in paging through data\r\n     *\r\n     */\r\n    _Items.prototype.getPaged = function () {\r\n        return this.usingParser(new PagedItemCollectionParser(this))();\r\n    };\r\n    /**\r\n     * Gets all the items in a list, regardless of count. Does not support batching or caching\r\n     *\r\n     *  @param requestSize Number of items to return in each request (Default: 2000)\r\n     *  @param acceptHeader Allows for setting the value of the Accept header for SP 2013 support\r\n     */\r\n    _Items.prototype.getAll = function (requestSize, acceptHeader) {\r\n        if (requestSize === void 0) { requestSize = 2000; }\r\n        if (acceptHeader === void 0) { acceptHeader = \"application/json;odata=nometadata\"; }\r\n        Logger.write(\"Calling items.getAll should be done sparingly. Ensure this is the correct choice. If you are unsure, it is not.\", 2 /* Warning */);\r\n        // this will be used for the actual query\r\n        // and we set no metadata here to try and reduce traffic\r\n        var items = Items(this, \"\").top(requestSize).configure({\r\n            headers: {\r\n                \"Accept\": acceptHeader,\r\n            },\r\n        });\r\n        // let's copy over the odata query params that can be applied\r\n        // $top - allow setting the page size this way (override what we did above)\r\n        // $select - allow picking the return fields (good behavior)\r\n        // $filter - allow setting a filter, though this may fail due for large lists\r\n        this.query.forEach(function (v, k) {\r\n            if (/^\\$select|filter|top|expand$/i.test(k)) {\r\n                items.query.set(k, v);\r\n            }\r\n        });\r\n        // give back the promise\r\n        return new Promise(function (resolve, reject) {\r\n            // this will eventually hold the items we return\r\n            var itemsCollector = [];\r\n            // action that will gather up our results recursively\r\n            var gatherer = function (last) {\r\n                // collect that set of results\r\n                [].push.apply(itemsCollector, last.results);\r\n                // if we have more, repeat - otherwise resolve with the collected items\r\n                if (last.hasNext) {\r\n                    last.getNext().then(gatherer).catch(reject);\r\n                }\r\n                else {\r\n                    resolve(itemsCollector);\r\n                }\r\n            };\r\n            // start the cycle\r\n            items.getPaged().then(gatherer).catch(reject);\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new item to the collection\r\n     *\r\n     * @param properties The new items's properties\r\n     * @param listItemEntityTypeFullName The type name of the list's entities\r\n     */\r\n    _Items.prototype.add = function (properties, listItemEntityTypeFullName) {\r\n        if (properties === void 0) { properties = {}; }\r\n        if (listItemEntityTypeFullName === void 0) { listItemEntityTypeFullName = null; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var removeDependency, listItemEntityType, postBody, promise;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        removeDependency = this.addBatchDependency();\r\n                        return [4 /*yield*/, this.ensureListItemEntityTypeName(listItemEntityTypeFullName)];\r\n                    case 1:\r\n                        listItemEntityType = _a.sent();\r\n                        postBody = body(assign(metadata(listItemEntityType), properties));\r\n                        promise = spPost(this.clone(Items, \"\"), postBody).then(function (data) {\r\n                            return {\r\n                                data: data,\r\n                                item: _this.getById(data.Id),\r\n                            };\r\n                        });\r\n                        removeDependency();\r\n                        return [2 /*return*/, promise];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Ensures we have the proper list item entity type name, either from the value provided or from the list\r\n     *\r\n     * @param candidatelistItemEntityTypeFullName The potential type name\r\n     */\r\n    _Items.prototype.ensureListItemEntityTypeName = function (candidatelistItemEntityTypeFullName) {\r\n        return candidatelistItemEntityTypeFullName ?\r\n            Promise.resolve(candidatelistItemEntityTypeFullName) :\r\n            this.getParent(List).getListItemEntityTypeFullName();\r\n    };\r\n    __decorate([\r\n        tag(\"is.getPaged\")\r\n    ], _Items.prototype, \"getPaged\", null);\r\n    __decorate([\r\n        tag(\"is.getAll\")\r\n    ], _Items.prototype, \"getAll\", null);\r\n    __decorate([\r\n        tag(\"is.add\")\r\n    ], _Items.prototype, \"add\", null);\r\n    _Items = __decorate([\r\n        defaultPath(\"items\")\r\n    ], _Items);\r\n    return _Items;\r\n}(_SharePointQueryableCollection));\r\nexport { _Items };\r\nexport var Items = spInvokableFactory(_Items);\r\n/**\r\n * Descrines a single Item instance\r\n *\r\n */\r\nvar _Item = /** @class */ (function (_super) {\r\n    __extends(_Item, _super);\r\n    function _Item() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"i\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_Item.prototype, \"effectiveBasePermissions\", {\r\n        /**\r\n         * Gets the effective base permissions for the item\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"EffectiveBasePermissions\"), \"i.effectiveBasePermissions\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"effectiveBasePermissionsForUI\", {\r\n        /**\r\n         * Gets the effective base permissions for the item in a UI context\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"EffectiveBasePermissionsForUI\"), \"i.effectiveBasePermissionsForUI\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"fieldValuesAsHTML\", {\r\n        /**\r\n         * Gets the field values for this list item in their HTML representation\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"FieldValuesAsHTML\"), \"i.fvHTML\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"fieldValuesAsText\", {\r\n        /**\r\n         * Gets the field values for this list item in their text representation\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"FieldValuesAsText\"), \"i.fvText\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"fieldValuesForEdit\", {\r\n        /**\r\n         * Gets the field values for this list item for use in editing controls\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"FieldValuesForEdit\"), \"i.fvEdit\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"versions\", {\r\n        /**\r\n         * Gets the collection of versions associated with this item\r\n         */\r\n        get: function () {\r\n            return tag.configure(ItemVersions(this), \"i.versions\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Item.prototype, \"list\", {\r\n        get: function () {\r\n            return this.getParent(List, this.parentUrl.substr(0, this.parentUrl.lastIndexOf(\"/\")));\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates this list intance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the list\r\n     * @param eTag Value used in the IF-Match header, by default \"*\"\r\n     * @param listItemEntityTypeFullName The type name of the list's entities\r\n     */\r\n    _Item.prototype.update = function (properties, eTag, listItemEntityTypeFullName) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        if (listItemEntityTypeFullName === void 0) { listItemEntityTypeFullName = null; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var removeDependency, listItemEntityType, postBody, poster, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        removeDependency = this.addBatchDependency();\r\n                        return [4 /*yield*/, this.ensureListItemEntityTypeName(listItemEntityTypeFullName)];\r\n                    case 1:\r\n                        listItemEntityType = _a.sent();\r\n                        postBody = body(assign(metadata(listItemEntityType), properties), headers({\r\n                            \"IF-Match\": eTag,\r\n                            \"X-HTTP-Method\": \"MERGE\",\r\n                        }));\r\n                        removeDependency();\r\n                        poster = tag.configure(this.clone(Item).usingParser(new ItemUpdatedParser()), \"i.update\");\r\n                        return [4 /*yield*/, spPost(poster, postBody)];\r\n                    case 2:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                item: this,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Moves the list item to the Recycle Bin and returns the identifier of the new Recycle Bin item.\r\n     */\r\n    _Item.prototype.recycle = function () {\r\n        return spPost(this.clone(Item, \"recycle\"));\r\n    };\r\n    /**\r\n     * Gets a string representation of the full URL to the WOPI frame.\r\n     * If there is no associated WOPI application, or no associated action, an empty string is returned.\r\n     *\r\n     * @param action Display mode: 0: view, 1: edit, 2: mobileView, 3: interactivePreview\r\n     */\r\n    _Item.prototype.getWopiFrameUrl = function (action) {\r\n        if (action === void 0) { action = 0; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        i = this.clone(Item, \"getWOPIFrameUrl(@action)\");\r\n                        i.query.set(\"@action\", action);\r\n                        return [4 /*yield*/, spPost(i)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        // handle verbose mode\r\n                        if (hOP(data, \"GetWOPIFrameUrl\")) {\r\n                            return [2 /*return*/, data.GetWOPIFrameUrl];\r\n                        }\r\n                        return [2 /*return*/, data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Validates and sets the values of the specified collection of fields for the list item.\r\n     *\r\n     * @param formValues The fields to change and their new values.\r\n     * @param bNewDocumentUpdate true if the list item is a document being updated after upload; otherwise false.\r\n     */\r\n    _Item.prototype.validateUpdateListItem = function (formValues, bNewDocumentUpdate) {\r\n        if (bNewDocumentUpdate === void 0) { bNewDocumentUpdate = false; }\r\n        return spPost(this.clone(Item, \"validateupdatelistitem\"), body({ formValues: formValues, bNewDocumentUpdate: bNewDocumentUpdate }));\r\n    };\r\n    /**\r\n     * Ensures we have the proper list item entity type name, either from the value provided or from the list\r\n     *\r\n     * @param candidatelistItemEntityTypeFullName The potential type name\r\n     */\r\n    _Item.prototype.ensureListItemEntityTypeName = function (candidatelistItemEntityTypeFullName) {\r\n        return candidatelistItemEntityTypeFullName ?\r\n            Promise.resolve(candidatelistItemEntityTypeFullName) :\r\n            this.list.getListItemEntityTypeFullName();\r\n    };\r\n    __decorate([\r\n        tag(\"i.recycle\")\r\n    ], _Item.prototype, \"recycle\", null);\r\n    __decorate([\r\n        tag(\"i.getWopiFrameUrl\")\r\n    ], _Item.prototype, \"getWopiFrameUrl\", null);\r\n    __decorate([\r\n        tag(\"i.validateUpdateListItem\")\r\n    ], _Item.prototype, \"validateUpdateListItem\", null);\r\n    return _Item;\r\n}(_SharePointQueryableInstance));\r\nexport { _Item };\r\nexport var Item = spInvokableFactory(_Item);\r\n/**\r\n * Describes a collection of Version objects\r\n *\r\n */\r\nvar _ItemVersions = /** @class */ (function (_super) {\r\n    __extends(_ItemVersions, _super);\r\n    function _ItemVersions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a version by id\r\n     *\r\n     * @param versionId The id of the version to retrieve\r\n     */\r\n    _ItemVersions.prototype.getById = function (versionId) {\r\n        return tag.configure(ItemVersion(this).concat(\"(\" + versionId + \")\"), \"iv.getById\");\r\n    };\r\n    _ItemVersions = __decorate([\r\n        defaultPath(\"versions\")\r\n    ], _ItemVersions);\r\n    return _ItemVersions;\r\n}(_SharePointQueryableCollection));\r\nexport { _ItemVersions };\r\nexport var ItemVersions = spInvokableFactory(_ItemVersions);\r\n/**\r\n * Describes a single Version instance\r\n *\r\n */\r\nvar _ItemVersion = /** @class */ (function (_super) {\r\n    __extends(_ItemVersion, _super);\r\n    function _ItemVersion() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"iv\");\r\n        return _this;\r\n    }\r\n    return _ItemVersion;\r\n}(_SharePointQueryableInstance));\r\nexport { _ItemVersion };\r\nexport var ItemVersion = spInvokableFactory(_ItemVersion);\r\n/**\r\n * Provides paging functionality for list items\r\n */\r\nvar PagedItemCollection = /** @class */ (function () {\r\n    function PagedItemCollection(parent, nextUrl, results) {\r\n        this.parent = parent;\r\n        this.nextUrl = nextUrl;\r\n        this.results = results;\r\n    }\r\n    Object.defineProperty(PagedItemCollection.prototype, \"hasNext\", {\r\n        /**\r\n         * If true there are more results available in the set, otherwise there are not\r\n         */\r\n        get: function () {\r\n            return typeof this.nextUrl === \"string\" && this.nextUrl.length > 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets the next set of results, or resolves to null if no results are available\r\n     */\r\n    PagedItemCollection.prototype.getNext = function () {\r\n        if (this.hasNext) {\r\n            var items = tag.configure(Items(this.nextUrl, null).configureFrom(this.parent), \"ip.getNext\");\r\n            return items.getPaged();\r\n        }\r\n        return new Promise(function (r) { return r(null); });\r\n    };\r\n    return PagedItemCollection;\r\n}());\r\nexport { PagedItemCollection };\r\nvar PagedItemCollectionParser = /** @class */ (function (_super) {\r\n    __extends(PagedItemCollectionParser, _super);\r\n    function PagedItemCollectionParser(_parent) {\r\n        var _this = _super.call(this) || this;\r\n        _this._parent = _parent;\r\n        return _this;\r\n    }\r\n    PagedItemCollectionParser.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                r.json().then(function (json) {\r\n                    var nextUrl = hOP(json, \"d\") && hOP(json.d, \"__next\") ? json.d.__next : json[\"odata.nextLink\"];\r\n                    resolve(new PagedItemCollection(_this._parent, nextUrl, _this.parseODataJSON(json)));\r\n                });\r\n            }\r\n        });\r\n    };\r\n    return PagedItemCollectionParser;\r\n}(ODataParser));\r\nvar ItemUpdatedParser = /** @class */ (function (_super) {\r\n    __extends(ItemUpdatedParser, _super);\r\n    function ItemUpdatedParser() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    ItemUpdatedParser.prototype.parse = function (r) {\r\n        var _this = this;\r\n        return new Promise(function (resolve, reject) {\r\n            if (_this.handleError(r, reject)) {\r\n                resolve({\r\n                    \"odata.etag\": r.headers.get(\"etag\"),\r\n                });\r\n            }\r\n        });\r\n    };\r\n    return ItemUpdatedParser;\r\n}(ODataParser));\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Items } from \"./types\";\r\naddProp(_List, \"items\", Items);\r\n","import \"./list\";\r\nexport { Item, Items, ItemVersion, ItemVersions, PagedItemCollection, } from \"./types\";\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { Batch } from \"@pnp/odata\";\r\nimport { getGUID, isUrlAbsolute, combine, mergeHeaders, hOP } from \"@pnp/common\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { SPHttpClient } from \"./sphttpclient\";\r\nimport { SPRuntimeConfig } from \"./splibconfig\";\r\nimport { toAbsoluteUrl } from \"./utils/toabsoluteurl\";\r\n/**\r\n * Manages a batch of OData operations\r\n */\r\nvar SPBatch = /** @class */ (function (_super) {\r\n    __extends(SPBatch, _super);\r\n    function SPBatch(baseUrl) {\r\n        var _this = _super.call(this) || this;\r\n        _this.baseUrl = baseUrl;\r\n        return _this;\r\n    }\r\n    /**\r\n     * Parses the response from a batch request into an array of Response instances\r\n     *\r\n     * @param body Text body of the response from the batch request\r\n     */\r\n    SPBatch.ParseResponse = function (body) {\r\n        var responses = [];\r\n        var header = \"--batchresponse_\";\r\n        // Ex. \"HTTP/1.1 500 Internal Server Error\"\r\n        var statusRegExp = new RegExp(\"^HTTP/[0-9.]+ +([0-9]+) +(.*)\", \"i\");\r\n        var lines = body.split(\"\\n\");\r\n        var state = \"batch\";\r\n        var status;\r\n        var statusText;\r\n        for (var i = 0; i < lines.length; ++i) {\r\n            var line = lines[i];\r\n            switch (state) {\r\n                case \"batch\":\r\n                    if (line.substr(0, header.length) === header) {\r\n                        state = \"batchHeaders\";\r\n                    }\r\n                    else {\r\n                        if (line.trim() !== \"\") {\r\n                            throw Error(\"Invalid response, line \" + i);\r\n                        }\r\n                    }\r\n                    break;\r\n                case \"batchHeaders\":\r\n                    if (line.trim() === \"\") {\r\n                        state = \"status\";\r\n                    }\r\n                    break;\r\n                case \"status\":\r\n                    var parts = statusRegExp.exec(line);\r\n                    if (parts.length !== 3) {\r\n                        throw Error(\"Invalid status, line \" + i);\r\n                    }\r\n                    status = parseInt(parts[1], 10);\r\n                    statusText = parts[2];\r\n                    state = \"statusHeaders\";\r\n                    break;\r\n                case \"statusHeaders\":\r\n                    if (line.trim() === \"\") {\r\n                        state = \"body\";\r\n                    }\r\n                    break;\r\n                case \"body\":\r\n                    responses.push((status === 204) ? new Response() : new Response(line, { status: status, statusText: statusText }));\r\n                    state = \"batch\";\r\n                    break;\r\n            }\r\n        }\r\n        if (state !== \"status\") {\r\n            throw Error(\"Unexpected end of input\");\r\n        }\r\n        return responses;\r\n    };\r\n    SPBatch.prototype.executeImpl = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var client, absoluteRequestUrl, batchBody, currentChangeSetId, i, reqInfo, headers, url, method, castHeaders, batchOptions, fetchResponse, text, responses;\r\n            var _this = this;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Executing batch with \" + this.requests.length + \" requests.\", 1 /* Info */);\r\n                        // if we don't have any requests, don't bother sending anything\r\n                        // this could be due to caching further upstream, or just an empty batch\r\n                        if (this.requests.length < 1) {\r\n                            Logger.write(\"Resolving empty batch.\", 1 /* Info */);\r\n                            return [2 /*return*/];\r\n                        }\r\n                        client = new SPHttpClient();\r\n                        return [4 /*yield*/, toAbsoluteUrl(this.baseUrl)];\r\n                    case 1:\r\n                        absoluteRequestUrl = _a.sent();\r\n                        batchBody = [];\r\n                        currentChangeSetId = \"\";\r\n                        for (i = 0; i < this.requests.length; i++) {\r\n                            reqInfo = this.requests[i];\r\n                            if (reqInfo.method === \"GET\") {\r\n                                if (currentChangeSetId.length > 0) {\r\n                                    // end an existing change set\r\n                                    batchBody.push(\"--changeset_\" + currentChangeSetId + \"--\\n\\n\");\r\n                                    currentChangeSetId = \"\";\r\n                                }\r\n                                batchBody.push(\"--batch_\" + this.batchId + \"\\n\");\r\n                            }\r\n                            else {\r\n                                if (currentChangeSetId.length < 1) {\r\n                                    // start new change set\r\n                                    currentChangeSetId = getGUID();\r\n                                    batchBody.push(\"--batch_\" + this.batchId + \"\\n\");\r\n                                    batchBody.push(\"Content-Type: multipart/mixed; boundary=\\\"changeset_\" + currentChangeSetId + \"\\\"\\n\\n\");\r\n                                }\r\n                                batchBody.push(\"--changeset_\" + currentChangeSetId + \"\\n\");\r\n                            }\r\n                            // common batch part prefix\r\n                            batchBody.push(\"Content-Type: application/http\\n\");\r\n                            batchBody.push(\"Content-Transfer-Encoding: binary\\n\\n\");\r\n                            headers = new Headers();\r\n                            url = isUrlAbsolute(reqInfo.url) ? reqInfo.url : combine(absoluteRequestUrl, reqInfo.url);\r\n                            Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Adding request \" + reqInfo.method + \" \" + url + \" to batch.\", 0 /* Verbose */);\r\n                            if (reqInfo.method !== \"GET\") {\r\n                                method = reqInfo.method;\r\n                                castHeaders = reqInfo.options.headers;\r\n                                if (hOP(reqInfo, \"options\") && hOP(reqInfo.options, \"headers\") && castHeaders[\"X-HTTP-Method\"] !== undefined) {\r\n                                    method = castHeaders[\"X-HTTP-Method\"];\r\n                                    delete castHeaders[\"X-HTTP-Method\"];\r\n                                }\r\n                                batchBody.push(method + \" \" + url + \" HTTP/1.1\\n\");\r\n                                headers.set(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\r\n                            }\r\n                            else {\r\n                                batchBody.push(reqInfo.method + \" \" + url + \" HTTP/1.1\\n\");\r\n                            }\r\n                            // merge global config headers\r\n                            mergeHeaders(headers, SPRuntimeConfig.headers);\r\n                            // merge per-request headers\r\n                            if (reqInfo.options) {\r\n                                mergeHeaders(headers, reqInfo.options.headers);\r\n                            }\r\n                            // lastly we apply any default headers we need that may not exist\r\n                            if (!headers.has(\"Accept\")) {\r\n                                headers.append(\"Accept\", \"application/json\");\r\n                            }\r\n                            if (!headers.has(\"Content-Type\")) {\r\n                                headers.append(\"Content-Type\", \"application/json;odata=verbose;charset=utf-8\");\r\n                            }\r\n                            if (!headers.has(\"X-ClientService-ClientTag\")) {\r\n                                headers.append(\"X-ClientService-ClientTag\", \"PnPCoreJS:@pnp-2.0.6:batch\");\r\n                            }\r\n                            // write headers into batch body\r\n                            headers.forEach(function (value, name) {\r\n                                batchBody.push(name + \": \" + value + \"\\n\");\r\n                            });\r\n                            batchBody.push(\"\\n\");\r\n                            if (reqInfo.options.body) {\r\n                                batchBody.push(reqInfo.options.body + \"\\n\\n\");\r\n                            }\r\n                        }\r\n                        if (currentChangeSetId.length > 0) {\r\n                            // Close the changeset\r\n                            batchBody.push(\"--changeset_\" + currentChangeSetId + \"--\\n\\n\");\r\n                            currentChangeSetId = \"\";\r\n                        }\r\n                        batchBody.push(\"--batch_\" + this.batchId + \"--\\n\");\r\n                        batchOptions = {\r\n                            \"body\": batchBody.join(\"\"),\r\n                            \"headers\": {\r\n                                \"Content-Type\": \"multipart/mixed; boundary=batch_\" + this.batchId,\r\n                            },\r\n                            \"method\": \"POST\",\r\n                        };\r\n                        Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Sending batch request.\", 1 /* Info */);\r\n                        return [4 /*yield*/, client.fetch(combine(absoluteRequestUrl, \"/_api/$batch\"), batchOptions)];\r\n                    case 2:\r\n                        fetchResponse = _a.sent();\r\n                        return [4 /*yield*/, fetchResponse.text()];\r\n                    case 3:\r\n                        text = _a.sent();\r\n                        responses = SPBatch.ParseResponse(text);\r\n                        if (responses.length !== this.requests.length) {\r\n                            throw Error(\"Could not properly parse responses to match requests in batch.\");\r\n                        }\r\n                        Logger.write(\"[\" + this.batchId + \"] (\" + (new Date()).getTime() + \") Resolving batched requests.\", 1 /* Info */);\r\n                        // this structure ensures that we resolve the batched requests in the order we expect\r\n                        // using async this is not guaranteed depending on the requests\r\n                        return [2 /*return*/, responses.reduce(function (p, response, index) { return p.then(function (_) { return __awaiter(_this, void 0, void 0, function () {\r\n                                var request, _a, _b, e_1;\r\n                                return __generator(this, function (_c) {\r\n                                    switch (_c.label) {\r\n                                        case 0:\r\n                                            request = this.requests[index];\r\n                                            Logger.write(\"[\" + request.id + \"] (\" + (new Date()).getTime() + \") Resolving request in batch \" + this.batchId + \".\", 1 /* Info */);\r\n                                            _c.label = 1;\r\n                                        case 1:\r\n                                            _c.trys.push([1, 3, , 4]);\r\n                                            _b = (_a = request).resolve;\r\n                                            return [4 /*yield*/, request.parser.parse(response)];\r\n                                        case 2:\r\n                                            _b.apply(_a, [_c.sent()]);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 3:\r\n                                            e_1 = _c.sent();\r\n                                            request.reject(e_1);\r\n                                            return [3 /*break*/, 4];\r\n                                        case 4: return [2 /*return*/];\r\n                                    }\r\n                                });\r\n                            }); }); }, Promise.resolve(void (0)))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return SPBatch;\r\n}(Batch));\r\nexport { SPBatch };\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { SharePointQueryable, _SharePointQueryableInstance, spInvokableFactory } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { Web } from \"../webs/types\";\r\nimport { hOP, assign } from \"@pnp/common\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { SPBatch } from \"../batch\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { tag } from \"../telemetry\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { emptyGuid } from \"../splibconfig\";\r\nvar _Site = /** @class */ (function (_super) {\r\n    __extends(_Site, _super);\r\n    function _Site() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Site.prototype, \"rootWeb\", {\r\n        /**\r\n        * Gets the root web of the site collection\r\n        *\r\n        */\r\n        get: function () {\r\n            return tag.configure(Web(this, \"rootweb\"), \"si.rootWeb\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets a Web instance representing the root web of the site collection\r\n     * correctly setup for chaining within the library\r\n     */\r\n    _Site.prototype.getRootWeb = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var web;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.rootWeb.select(\"Url\")()];\r\n                    case 1:\r\n                        web = _a.sent();\r\n                        return [2 /*return*/, tag.configure(Web(web.Url), \"si.getRootWeb\")];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * Gets the context information for this site collection\r\n    */\r\n    _Site.prototype.getContextInfo = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data, info;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = tag.configure(Site(this.parentUrl, \"_api/contextinfo\"), \"si.getContextInfo\");\r\n                        return [4 /*yield*/, spPost(q)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        if (hOP(data, \"GetContextWebInformation\")) {\r\n                            info = data.GetContextWebInformation;\r\n                            info.SupportedSchemaVersions = info.SupportedSchemaVersions.results;\r\n                            return [2 /*return*/, info];\r\n                        }\r\n                        else {\r\n                            return [2 /*return*/, data];\r\n                        }\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Site.prototype.createBatch = function () {\r\n        return new SPBatch(this.parentUrl);\r\n    };\r\n    /**\r\n    * Deletes the current site\r\n    *\r\n    */\r\n    _Site.prototype.delete = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var site, q;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(Site, \"\").select(\"Id\")()];\r\n                    case 1:\r\n                        site = _a.sent();\r\n                        q = tag.configure(Site(this.parentUrl, \"_api/SPSiteManager/Delete\"), \"si.delete\");\r\n                        return [4 /*yield*/, spPost(q, body({ siteId: site.Id }))];\r\n                    case 2:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the document libraries on a site. Static method. (SharePoint Online only)\r\n     *\r\n     * @param absoluteWebUrl The absolute url of the web whose document libraries should be returned\r\n     */\r\n    _Site.prototype.getDocumentLibraries = function (absoluteWebUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = tag.configure(SharePointQueryable(\"\", \"_api/sp.web.getdocumentlibraries(@v)\"), \"si.getDocumentLibraries\");\r\n                        q.query.set(\"@v\", \"'\" + escapeQueryStrValue(absoluteWebUrl) + \"'\");\r\n                        return [4 /*yield*/, q()];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"GetDocumentLibraries\") ? data.GetDocumentLibraries : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the site url from a page url\r\n     *\r\n     * @param absolutePageUrl The absolute url of the page\r\n     */\r\n    _Site.prototype.getWebUrlFromPageUrl = function (absolutePageUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = tag.configure(SharePointQueryable(\"\", \"_api/sp.web.getweburlfrompageurl(@v)\"), \"si.getWebUrlFromPageUrl\");\r\n                        q.query.set(\"@v\", \"'\" + escapeQueryStrValue(absolutePageUrl) + \"'\");\r\n                        return [4 /*yield*/, q()];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, hOP(data, \"GetWebUrlFromPageUrl\") ? data.GetWebUrlFromPageUrl : data];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Returns the collection of changes from the change log that have occurred within the list, based on the specified query\r\n     *\r\n     * @param query The change query\r\n     */\r\n    _Site.prototype.getChanges = function (query) {\r\n        var postBody = body({ \"query\": assign(metadata(\"SP.ChangeQuery\"), query) });\r\n        return spPost(this.clone(Web, \"getchanges\"), postBody);\r\n    };\r\n    /**\r\n    * Opens a web by id (using POST)\r\n    *\r\n    * @param webId The GUID id of the web to open\r\n    */\r\n    _Site.prototype.openWebById = function (webId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Site, \"openWebById('\" + webId + \"')\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                web: Web(extractWebUrl(odataUrlFrom(data))),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Creates a Modern communication site.\r\n     *\r\n     * @param title The title of the site to create\r\n     * @param lcid The language to use for the site. If not specified will default to 1033 (English).\r\n     * @param shareByEmailEnabled If set to true, it will enable sharing files via Email. By default it is set to false\r\n     * @param url The fully qualified URL (e.g. https://yourtenant.sharepoint.com/sites/mysitecollection) of the site.\r\n     * @param description The description of the communication site.\r\n     * @param classification The Site classification to use. For instance 'Contoso Classified'. See https://www.youtube.com/watch?v=E-8Z2ggHcS0 for more information\r\n     * @param siteDesignId The Guid of the site design to be used.\r\n     *                     You can use the below default OOTB GUIDs:\r\n     *                     Topic: 00000000-0000-0000-0000-000000000000\r\n     *                     Showcase: 6142d2a0-63a5-4ba0-aede-d9fefca2c767\r\n     *                     Blank: f6cc5403-0d63-442e-96c0-285923709ffc\r\n     * @param hubSiteId The id of the hub site to which the new site should be associated\r\n     * @param owner Optional owner value, required if executing the method in app only mode\r\n     */\r\n    _Site.prototype.createCommunicationSite = function (title, lcid, shareByEmailEnabled, url, description, classification, siteDesignId, hubSiteId, owner) {\r\n        if (lcid === void 0) { lcid = 1033; }\r\n        if (shareByEmailEnabled === void 0) { shareByEmailEnabled = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.createCommunicationSiteFromProps({\r\n                        Classification: classification,\r\n                        Description: description,\r\n                        HubSiteId: hubSiteId,\r\n                        Lcid: lcid,\r\n                        Owner: owner,\r\n                        ShareByEmailEnabled: shareByEmailEnabled,\r\n                        SiteDesignId: siteDesignId,\r\n                        Title: title,\r\n                        Url: url,\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    _Site.prototype.createCommunicationSiteFromProps = function (props) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var p, postBody;\r\n            return __generator(this, function (_a) {\r\n                p = Object.assign({}, {\r\n                    Classification: \"\",\r\n                    Description: \"\",\r\n                    HubSiteId: emptyGuid,\r\n                    Lcid: 1033,\r\n                    ShareByEmailEnabled: false,\r\n                    SiteDesignId: emptyGuid,\r\n                    WebTemplate: \"SITEPAGEPUBLISHING#0\",\r\n                    WebTemplateExtensionId: emptyGuid,\r\n                }, props);\r\n                postBody = body({\r\n                    \"request\": assign(metadata(\"Microsoft.SharePoint.Portal.SPSiteCreationRequest\"), p),\r\n                });\r\n                return [2 /*return*/, spPost(Site(extractWebUrl(this.toUrl()), \"/_api/SPSiteManager/Create\"), postBody)];\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     *\r\n     * @param url Site Url that you want to check if exists\r\n     */\r\n    _Site.prototype.exists = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, value;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body({ url: url });\r\n                        return [4 /*yield*/, spPost(Site(extractWebUrl(this.toUrl()), \"/_api/SP.Site.Exists\"), postBody)];\r\n                    case 1:\r\n                        value = _a.sent();\r\n                        return [2 /*return*/, value];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * Creates a Modern team site backed by Office 365 group. For use in SP Online only. This will not work with App-only tokens\r\n    *\r\n    * @param displayName The title or display name of the Modern team site to be created\r\n    * @param alias Alias of the underlying Office 365 Group\r\n    * @param isPublic Defines whether the Office 365 Group will be public (default), or private.\r\n    * @param lcid The language to use for the site. If not specified will default to English (1033).\r\n    * @param description The description of the site to be created.\r\n    * @param classification The Site classification to use. For instance 'Contoso Classified'. See https://www.youtube.com/watch?v=E-8Z2ggHcS0 for more information\r\n    * @param owners The Owners of the site to be created\r\n    */\r\n    _Site.prototype.createModernTeamSite = function (displayName, alias, isPublic, lcid, description, classification, owners, hubSiteId, siteDesignId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.createModernTeamSiteFromProps({\r\n                        alias: alias,\r\n                        classification: classification,\r\n                        description: description,\r\n                        displayName: displayName,\r\n                        hubSiteId: hubSiteId,\r\n                        isPublic: isPublic,\r\n                        lcid: lcid,\r\n                        owners: owners,\r\n                        siteDesignId: siteDesignId,\r\n                    })];\r\n            });\r\n        });\r\n    };\r\n    _Site.prototype.createModernTeamSiteFromProps = function (props) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var p, postBody;\r\n            return __generator(this, function (_a) {\r\n                p = Object.assign({}, {\r\n                    classification: \"\",\r\n                    description: \"\",\r\n                    hubSiteId: emptyGuid,\r\n                    isPublic: true,\r\n                    lcid: 1033,\r\n                    owners: [],\r\n                }, props);\r\n                postBody = {\r\n                    alias: p.alias,\r\n                    displayName: p.displayName,\r\n                    isPublic: p.isPublic,\r\n                    optionalParams: {\r\n                        Classification: p.classification,\r\n                        CreationOptions: {\r\n                            \"results\": [\"SPSiteLanguage:\" + p.lcid, \"HubSiteId:\" + p.hubSiteId],\r\n                        },\r\n                        Description: p.description,\r\n                        Owners: {\r\n                            \"results\": p.owners,\r\n                        },\r\n                    },\r\n                };\r\n                if (p.siteDesignId) {\r\n                    postBody.optionalParams.CreationOptions.results.push(\"implicit_formula_292aa8a00786498a87a5ca52d9f4214a_\" + p.siteDesignId);\r\n                }\r\n                return [2 /*return*/, spPost(Site(extractWebUrl(this.toUrl()), \"/_api/GroupSiteManager/CreateGroupEx\"), body(postBody))];\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"si.getChanges\")\r\n    ], _Site.prototype, \"getChanges\", null);\r\n    __decorate([\r\n        tag(\"si.openWebById\")\r\n    ], _Site.prototype, \"openWebById\", null);\r\n    _Site = __decorate([\r\n        defaultPath(\"_api/site\")\r\n    ], _Site);\r\n    return _Site;\r\n}(_SharePointQueryableInstance));\r\nexport { _Site };\r\nexport var Site = spInvokableFactory(_Site);\r\n","import { SPRest } from \"../rest\";\r\nimport { Site } from \"./types\";\r\nexport { Site, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"site\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Site(this._baseUrl).configure(this._options);\r\n    },\r\n});\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { _SharePointQueryableInstance, SharePointQueryableCollection, _SharePointQueryableCollection, spInvokableFactory, SharePointQueryableInstance, deleteable, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { SPBatch } from \"../batch\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { Site } from \"../sites\";\r\nimport { spPost, spGet } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Webs = /** @class */ (function (_super) {\r\n    __extends(_Webs, _super);\r\n    function _Webs() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Adds a new web to the collection\r\n     *\r\n     * @param title The new web's title\r\n     * @param url The new web's relative url\r\n     * @param description The new web's description\r\n     * @param template The new web's template internal name (default = STS)\r\n     * @param language The locale id that specifies the new web's language (default = 1033 [English, US])\r\n     * @param inheritPermissions When true, permissions will be inherited from the new web's parent (default = true)\r\n     */\r\n    _Webs.prototype.add = function (title, url, description, template, language, inheritPermissions) {\r\n        if (description === void 0) { description = \"\"; }\r\n        if (template === void 0) { template = \"STS\"; }\r\n        if (language === void 0) { language = 1033; }\r\n        if (inheritPermissions === void 0) { inheritPermissions = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body({\r\n                            \"parameters\": assign(metadata(\"SP.WebCreationInformation\"), {\r\n                                Description: description,\r\n                                Language: language,\r\n                                Title: title,\r\n                                Url: url,\r\n                                UseSamePermissionsAsParentSite: inheritPermissions,\r\n                                WebTemplate: template,\r\n                            }),\r\n                        });\r\n                        return [4 /*yield*/, spPost(this.clone(Webs, \"add\"), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                web: Web(odataUrlFrom(data).replace(/_api\\/web\\/?/i, \"\")),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"ws.add\")\r\n    ], _Webs.prototype, \"add\", null);\r\n    _Webs = __decorate([\r\n        defaultPath(\"webs\")\r\n    ], _Webs);\r\n    return _Webs;\r\n}(_SharePointQueryableCollection));\r\nexport { _Webs };\r\nexport var Webs = spInvokableFactory(_Webs);\r\n/**\r\n * Describes a web\r\n *\r\n */\r\nvar _Web = /** @class */ (function (_super) {\r\n    __extends(_Web, _super);\r\n    function _Web() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"w\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_Web.prototype, \"webs\", {\r\n        /**\r\n         * Gets this web's subwebs\r\n         *\r\n         */\r\n        get: function () {\r\n            return Webs(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets this web's parent web and data\r\n     *\r\n     */\r\n    _Web.prototype.getParentWeb = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var ParentWeb;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spGet(this.select(\"ParentWeb/Id\").expand(\"ParentWeb\"))];\r\n                    case 1:\r\n                        ParentWeb = (_a.sent()).ParentWeb;\r\n                        return [2 /*return*/, ParentWeb ? Site(this.parentUrl).openWebById(ParentWeb.Id) : null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n    * Returns a collection of objects that contain metadata about subsites of the current site in which the current user is a member.\r\n    *\r\n    * @param nWebTemplateFilter Specifies the site definition (default = -1)\r\n    * @param nConfigurationFilter A 16-bit integer that specifies the identifier of a configuration (default = -1)\r\n    */\r\n    _Web.prototype.getSubwebsFilteredForCurrentUser = function (nWebTemplateFilter, nConfigurationFilter) {\r\n        if (nWebTemplateFilter === void 0) { nWebTemplateFilter = -1; }\r\n        if (nConfigurationFilter === void 0) { nConfigurationFilter = -1; }\r\n        var o = this.clone(Webs, \"getSubwebsFilteredForCurrentUser(nWebTemplateFilter=\" + nWebTemplateFilter + \",nConfigurationFilter=\" + nConfigurationFilter + \")\");\r\n        return tag.configure(o, \"w.getSubwebsFilteredForCurrentUser\");\r\n    };\r\n    Object.defineProperty(_Web.prototype, \"allProperties\", {\r\n        /**\r\n         * Allows access to the web's all properties collection\r\n         */\r\n        get: function () {\r\n            return tag.configure(this.clone(SharePointQueryableInstance, \"allproperties\"), \"w.allprops\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Web.prototype, \"webinfos\", {\r\n        /**\r\n         * Gets a collection of WebInfos for this web's subwebs\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"webinfos\"), \"w.webinfos\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Creates a new batch for requests within the context of this web\r\n     *\r\n     */\r\n    _Web.prototype.createBatch = function () {\r\n        return new SPBatch(this.parentUrl);\r\n    };\r\n    /**\r\n     * Updates this web instance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the web\r\n     */\r\n    _Web.prototype.update = function (properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.Web\"), properties), headers({ \"X-HTTP-Method\": \"MERGE\" }));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { data: data, web: this }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Applies the theme specified by the contents of each of the files specified in the arguments to the site\r\n     *\r\n     * @param colorPaletteUrl The server-relative URL of the color palette file\r\n     * @param fontSchemeUrl The server-relative URL of the font scheme\r\n     * @param backgroundImageUrl The server-relative URL of the background image\r\n     * @param shareGenerated When true, the generated theme files are stored in the root site. When false, they are stored in this web\r\n     */\r\n    _Web.prototype.applyTheme = function (colorPaletteUrl, fontSchemeUrl, backgroundImageUrl, shareGenerated) {\r\n        var postBody = body({\r\n            backgroundImageUrl: backgroundImageUrl,\r\n            colorPaletteUrl: colorPaletteUrl,\r\n            fontSchemeUrl: fontSchemeUrl,\r\n            shareGenerated: shareGenerated,\r\n        });\r\n        return spPost(this.clone(Web, \"applytheme\"), postBody);\r\n    };\r\n    /**\r\n     * Applies the specified site definition or site template to the Web site that has no template applied to it\r\n     *\r\n     * @param template Name of the site definition or the name of the site template\r\n     */\r\n    _Web.prototype.applyWebTemplate = function (template) {\r\n        var q = this.clone(Web, \"applywebtemplate\");\r\n        q.concat(\"(webTemplate='\" + escapeQueryStrValue(template) + \"')\");\r\n        return spPost(q);\r\n    };\r\n    /**\r\n     * Returns a collection of site templates available for the site\r\n     *\r\n     * @param language The locale id of the site templates to retrieve (default = 1033 [English, US])\r\n     * @param includeCrossLanguage When true, includes language-neutral site templates; otherwise false (default = true)\r\n     */\r\n    _Web.prototype.availableWebTemplates = function (language, includeCrossLanugage) {\r\n        if (language === void 0) { language = 1033; }\r\n        if (includeCrossLanugage === void 0) { includeCrossLanugage = true; }\r\n        var path = \"getavailablewebtemplates(lcid=\" + language + \", doincludecrosslanguage=\" + includeCrossLanugage + \")\";\r\n        return tag.configure(SharePointQueryableCollection(this, path), \"w.availableWebTemplates\");\r\n    };\r\n    /**\r\n     * Returns the collection of changes from the change log that have occurred within the list, based on the specified query\r\n     *\r\n     * @param query The change query\r\n     */\r\n    _Web.prototype.getChanges = function (query) {\r\n        var postBody = body({ \"query\": assign(metadata(\"SP.ChangeQuery\"), query) });\r\n        return spPost(this.clone(Web, \"getchanges\"), postBody);\r\n    };\r\n    /**\r\n     * Returns the name of the image file for the icon that is used to represent the specified file\r\n     *\r\n     * @param filename The file name. If this parameter is empty, the server returns an empty string\r\n     * @param size The size of the icon: 16x16 pixels = 0, 32x32 pixels = 1 (default = 0)\r\n     * @param progId The ProgID of the application that was used to create the file, in the form OLEServerName.ObjectName\r\n     */\r\n    _Web.prototype.mapToIcon = function (filename, size, progId) {\r\n        if (size === void 0) { size = 0; }\r\n        if (progId === void 0) { progId = \"\"; }\r\n        return spGet(this.clone(Web, \"maptoicon(filename='\" + escapeQueryStrValue(filename) + \"', progid='\" + escapeQueryStrValue(progId) + \"', size=\" + size + \")\"));\r\n    };\r\n    /**\r\n     * Returns the tenant property corresponding to the specified key in the app catalog site\r\n     *\r\n     * @param key Id of storage entity to be set\r\n     */\r\n    _Web.prototype.getStorageEntity = function (key) {\r\n        return spGet(this.clone(Web, \"getStorageEntity('\" + escapeQueryStrValue(key) + \"')\"));\r\n    };\r\n    /**\r\n     * This will set the storage entity identified by the given key (MUST be called in the context of the app catalog)\r\n     *\r\n     * @param key Id of storage entity to be set\r\n     * @param value Value of storage entity to be set\r\n     * @param description Description of storage entity to be set\r\n     * @param comments Comments of storage entity to be set\r\n     */\r\n    _Web.prototype.setStorageEntity = function (key, value, description, comments) {\r\n        if (description === void 0) { description = \"\"; }\r\n        if (comments === void 0) { comments = \"\"; }\r\n        return spPost(this.clone(Web, \"setStorageEntity\"), body({\r\n            comments: comments,\r\n            description: description,\r\n            key: key,\r\n            value: value,\r\n        }));\r\n    };\r\n    /**\r\n     * This will remove the storage entity identified by the given key\r\n     *\r\n     * @param key Id of storage entity to be removed\r\n     */\r\n    _Web.prototype.removeStorageEntity = function (key) {\r\n        return spPost(this.clone(Web, \"removeStorageEntity('\" + escapeQueryStrValue(key) + \"')\"));\r\n    };\r\n    __decorate([\r\n        tag(\"w.getParentWeb\")\r\n    ], _Web.prototype, \"getParentWeb\", null);\r\n    __decorate([\r\n        tag(\"w.update\")\r\n    ], _Web.prototype, \"update\", null);\r\n    __decorate([\r\n        tag(\"w.applyTheme\")\r\n    ], _Web.prototype, \"applyTheme\", null);\r\n    __decorate([\r\n        tag(\"w.applyWebTemplate\")\r\n    ], _Web.prototype, \"applyWebTemplate\", null);\r\n    __decorate([\r\n        tag(\"w.getChanges\")\r\n    ], _Web.prototype, \"getChanges\", null);\r\n    __decorate([\r\n        tag(\"w.mapToIcon\")\r\n    ], _Web.prototype, \"mapToIcon\", null);\r\n    __decorate([\r\n        tag(\"w.getStorageEntity\")\r\n    ], _Web.prototype, \"getStorageEntity\", null);\r\n    __decorate([\r\n        tag(\"w.setStorageEntity\")\r\n    ], _Web.prototype, \"setStorageEntity\", null);\r\n    __decorate([\r\n        tag(\"w.removeStorageEntity\")\r\n    ], _Web.prototype, \"removeStorageEntity\", null);\r\n    _Web = __decorate([\r\n        defaultPath(\"_api/web\")\r\n    ], _Web);\r\n    return _Web;\r\n}(_SharePointQueryableInstance));\r\nexport { _Web };\r\nexport var Web = spInvokableFactory(_Web);\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { addProp } from \"@pnp/odata\";\r\nimport { _Web, Web } from \"../webs/types\";\r\nimport { Lists, List } from \"./types\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { SharePointQueryableCollection } from \"../sharepointqueryable\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\naddProp(_Web, \"lists\", Lists);\r\naddProp(_Web, \"siteUserInfoList\", List, \"siteuserinfolist\");\r\naddProp(_Web, \"defaultDocumentLibrary\", List, \"DefaultDocumentLibrary\");\r\naddProp(_Web, \"customListTemplates\", SharePointQueryableCollection, \"getcustomlisttemplates\");\r\n_Web.prototype.getList = function (listRelativeUrl) {\r\n    return List(this, \"getList('\" + escapeQueryStrValue(listRelativeUrl) + \"')\");\r\n};\r\n_Web.prototype.getCatalog = function (type) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var data;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.clone(Web, \"getcatalog(\" + type + \")\").select(\"Id\").get()];\r\n                case 1:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, List(odataUrlFrom(data))];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import \"./web\";\r\nexport { List, Lists, ControlMode, RenderListDataOptions, } from \"./types\";\r\n","import { Web } from \"./types\";\r\nimport { SPRest } from \"../rest\";\r\nexport { Web, Webs, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"web\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Web(this._baseUrl).configure(this._options);\r\n    },\r\n});\r\nSPRest.prototype.createBatch = function () {\r\n    return this.web.createBatch();\r\n};\r\n","// reference: https://msdn.microsoft.com/en-us/library/office/dn600183.aspx\r\n/**\r\n * Specifies the type of a principal.\r\n */\r\n/* tslint:disable:no-bitwise */\r\nexport var PrincipalType;\r\n(function (PrincipalType) {\r\n    /**\r\n     * Enumeration whose value specifies no principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"None\"] = 0] = \"None\";\r\n    /**\r\n     * Enumeration whose value specifies a user as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"User\"] = 1] = \"User\";\r\n    /**\r\n     * Enumeration whose value specifies a distribution list as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"DistributionList\"] = 2] = \"DistributionList\";\r\n    /**\r\n     * Enumeration whose value specifies a security group as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"SecurityGroup\"] = 4] = \"SecurityGroup\";\r\n    /**\r\n     * Enumeration whose value specifies a group as the principal type.\r\n     */\r\n    PrincipalType[PrincipalType[\"SharePointGroup\"] = 8] = \"SharePointGroup\";\r\n    /**\r\n     * Enumeration whose value specifies all principal types.\r\n     */\r\n    PrincipalType[PrincipalType[\"All\"] = 15] = \"All\";\r\n})(PrincipalType || (PrincipalType = {}));\r\n/* tslint:enable:no-bitwise */\r\n/**\r\n * Specifies the source of a principal.\r\n */\r\n/* tslint:disable:no-bitwise */\r\nexport var PrincipalSource;\r\n(function (PrincipalSource) {\r\n    /**\r\n     * Enumeration whose value specifies no principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"None\"] = 0] = \"None\";\r\n    /**\r\n     * Enumeration whose value specifies user information list as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"UserInfoList\"] = 1] = \"UserInfoList\";\r\n    /**\r\n     * Enumeration whose value specifies Active Directory as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"Windows\"] = 2] = \"Windows\";\r\n    /**\r\n     * Enumeration whose value specifies the current membership provider as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"MembershipProvider\"] = 4] = \"MembershipProvider\";\r\n    /**\r\n     * Enumeration whose value specifies the current role provider as the principal source.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"RoleProvider\"] = 8] = \"RoleProvider\";\r\n    /**\r\n     * Enumeration whose value specifies all principal sources.\r\n     */\r\n    PrincipalSource[PrincipalSource[\"All\"] = 15] = \"All\";\r\n})(PrincipalSource || (PrincipalSource = {}));\r\nexport var PageType;\r\n(function (PageType) {\r\n    PageType[PageType[\"Invalid\"] = -1] = \"Invalid\";\r\n    PageType[PageType[\"DefaultView\"] = 0] = \"DefaultView\";\r\n    PageType[PageType[\"NormalView\"] = 1] = \"NormalView\";\r\n    PageType[PageType[\"DialogView\"] = 2] = \"DialogView\";\r\n    PageType[PageType[\"View\"] = 3] = \"View\";\r\n    PageType[PageType[\"DisplayForm\"] = 4] = \"DisplayForm\";\r\n    PageType[PageType[\"DisplayFormDialog\"] = 5] = \"DisplayFormDialog\";\r\n    PageType[PageType[\"EditForm\"] = 6] = \"EditForm\";\r\n    PageType[PageType[\"EditFormDialog\"] = 7] = \"EditFormDialog\";\r\n    PageType[PageType[\"NewForm\"] = 8] = \"NewForm\";\r\n    PageType[PageType[\"NewFormDialog\"] = 9] = \"NewFormDialog\";\r\n    PageType[PageType[\"SolutionForm\"] = 10] = \"SolutionForm\";\r\n    PageType[PageType[\"PAGE_MAXITEMS\"] = 11] = \"PAGE_MAXITEMS\";\r\n})(PageType || (PageType = {}));\r\n","import { metadata } from \"./metadata\";\r\nimport { assign } from \"@pnp/common\";\r\n/**\r\n * Creates an object representing a SharePoint Collection(SP.KeyValue)\r\n *\r\n * @param obj The plain object defining the properties\r\n */\r\nexport function objectToSPKeyValueCollection(obj) {\r\n    return assign(metadata(\"Collection(SP.KeyValue)\"), {\r\n        results: Object.keys(obj).map(function (key) { return assign(metadata(\"SP.KeyValue\"), {\r\n            Key: key,\r\n            Value: Reflect.get(obj, key),\r\n            ValueType: \"Edm.String\",\r\n        }); }),\r\n    });\r\n}\r\n","var InvalidFileFolderNameCharsOnlineRegex = /[\"*:<>?/\\\\|\\x00-\\x1f\\x7f-\\x9f]/g;\r\nvar InvalidFileFolderNameCharsOnPremiseRegex = /[\"#%*:<>?/\\\\|\\x00-\\x1f\\x7f-\\x9f]/g;\r\n/**\r\n * Checks if file or folder name contains invalid characters\r\n *\r\n * @param input File or folder name to check\r\n * @param onPremise Set to true for SharePoint On-Premise\r\n * @returns True if contains invalid chars, false otherwise\r\n */\r\nexport function containsInvalidFileFolderChars(input, onPremise) {\r\n    if (onPremise === void 0) { onPremise = false; }\r\n    if (onPremise) {\r\n        return InvalidFileFolderNameCharsOnPremiseRegex.test(input);\r\n    }\r\n    else {\r\n        return InvalidFileFolderNameCharsOnlineRegex.test(input);\r\n    }\r\n}\r\n/**\r\n * Removes invalid characters from file or folder name\r\n *\r\n * @param input File or folder name\r\n * @param replacer Value that will replace invalid characters\r\n * @param onPremise Set to true for SharePoint On-Premise\r\n * @returns File or folder name with replaced invalid characters\r\n */\r\nexport function stripInvalidFileFolderChars(input, replacer, onPremise) {\r\n    if (replacer === void 0) { replacer = \"\"; }\r\n    if (onPremise === void 0) { onPremise = false; }\r\n    if (onPremise) {\r\n        return input.replace(InvalidFileFolderNameCharsOnPremiseRegex, replacer);\r\n    }\r\n    else {\r\n        return input.replace(InvalidFileFolderNameCharsOnlineRegex, replacer);\r\n    }\r\n}\r\n","export { SharePointQueryableInstance, SharePointQueryableCollection, SharePointQueryable, spInvokableFactory, } from \"./sharepointqueryable\";\r\nexport { SPBatch, } from \"./batch\";\r\nexport * from \"./decorators\";\r\nexport * from \"./operations\";\r\nexport { SPHttpClient, } from \"./sphttpclient\";\r\nexport { SPRest, sp, } from \"./rest\";\r\nexport * from \"./types\";\r\nexport { toAbsoluteUrl, } from \"./utils/toabsoluteurl\";\r\nexport { extractWebUrl, } from \"./utils/extractweburl\";\r\nexport { objectToSPKeyValueCollection, } from \"./utils/objectToSPKeyValueCollection\";\r\nexport { stripInvalidFileFolderChars, containsInvalidFileFolderChars, } from \"./utils/file-names\";\r\n","import { SPRest } from \"../rest\";\r\nimport \"../items\";\r\nimport \"../lists\";\r\nimport \"../sites\";\r\nimport \"../webs\";\r\nexport * from \"../items\";\r\nexport * from \"../lists\";\r\nexport * from \"../sites\";\r\nexport * from \"../webs\";\r\nexport * from \"../index\";\r\nexport var sp = new SPRest();\r\n","import { sp } from \"@pnp/sp/presets/core\";\r\n\r\nlet config = {\r\nheaders: {\r\n[\"accept\"]:\"application/json;odata=nometadata\"\r\n    }\r\n}\r\n\r\n\r\nexport namespace urls {\r\n  export const site = _spPageContextInfo.siteServerRelativeUrl;\r\n  export const PWA = \"https://tccbpos.sharepoint.com/sites/pwa\"\r\n\r\n}\r\n\r\n\r\nexport namespace customFielPWA {\r\n  export const fields = [\r\n    { id: \"42de966a-fa8d-e911-b079-00155d603a3b\", type: \"String\", campo: \"Estado Proyecto\", lookup: [] },\r\n\r\n    { id: \"c08bc7c2-bc8b-e911-b083-00155d682b16\", type: \"String\", campo: \"Unidad Negocio\", lookup: [\r\n      {value: \"Paquetería\", key: \"328f1671-bc8b-e911-b082-00155d689230\"},\r\n      {value: \"Mensajería\", key: \"338f1671-bc8b-e911-b082-00155d689230\"},\r\n    ]}\r\n  ]\r\n}\r\n\r\n\r\n\r\nexport namespace lists {\r\n    export const Iniciativas = sp.web.lists.getById(\"1A9D7F85-A890-40A5-AAAC-B75FD53DD62D\");\r\n    Iniciativas.configure(config);\r\n\r\n    export const MetaData = sp.web.lists.getById(\"3763F83B-5D11-4251-81C6-355CD8D89729\");\r\n    MetaData.configure(config);\r\n\r\n    export const Puntaje = sp.web.lists.getById(\"0A7270B3-CC69-4138-9746-2CAD960DAF06\");\r\n    Puntaje.configure(config);\r\n\r\n    export const Historico = sp.web.lists.getById(\"5B2737F2-BC7F-42A8-9B61-5ECFE5540762\");\r\n    Historico.configure(config);\r\n\r\n    export const HistoricoEsfuerzo = sp.web.lists.getById(\"6BB91741-6C6E-4651-901B-69188C9CE9DB\");\r\n    HistoricoEsfuerzo.configure(config);\r\n\r\n    export const ComiteValoracion = sp.web.lists.getById(\"2608abb3-ec5b-435b-b4b9-4500ad427cfd\");\r\n    ComiteValoracion.configure(config);\r\n\r\n    export const ComiteValoracion1 = sp.web.lists.getById(\"b2ae66c3-c0fd-4e5f-8496-a5b172cc85bc\");\r\n    ComiteValoracion1.configure(config);\r\n\r\n    export const ComiteValoracion2 = sp.web.lists.getById(\"C08D86C4-2FEE-486A-8EB5-A39DB175CEFE\");\r\n    ComiteValoracion2.configure(config);\r\n\r\n    export const EquipoProductividad = sp.web.lists.getById(\"5b416733-d5fc-4d0e-a37d-a92d72d663b7\");\r\n    EquipoProductividad.configure(config);\r\n\r\n    export const EquipoProyectos = sp.web.lists.getById(\"21a81907-776e-4693-b865-e9476f609f2d\");\r\n    EquipoProyectos.configure(config);\r\n\r\n\r\n    export const EncargadosComite = sp.web.lists.getById(\"6ec10dd3-4f78-4ae1-a15a-e80ee06449e5\");\r\n    EncargadosComite.configure(config);\r\n\r\n    export const GrupoIniciativas = sp.web.lists.getById(\"c0f99104-f4bf-4f92-96ab-0a6b9edd6e1f\");\r\n    GrupoIniciativas.configure(config);\r\n}\r\n\r\nexport namespace ui {\r\n\r\n    export declare interface IFieldPayload {\r\n        className?: string;\r\n        id?: string;\r\n        name?: string;\r\n        required?: boolean;\r\n        title: string;\r\n        type: string;\r\n        value?: string;\r\n        readonly?:string;\r\n        others?:string;\r\n        classTitle?:string;\r\n        checkBox?:boolean;\r\n      }\r\n\r\n    export function renderFilterField(parameters:IFieldPayload): string {\r\n        const { title, value, type, id, className, required, name, readonly,others,classTitle } = parameters;\r\n        return `\r\n            <label class=\"label ${classTitle}\">${title}</label>\r\n            <div class=\"control\">\r\n              <${type} id=\"${id || \"\"}\" name=\"${name}\" class=\"${className || \"\"}\" data-bind=\"value: ${value}\" ${required ? \"required\" : \"\"} ${readonly ? readonly : \"\"} ${others ? others : \"\"}></${type}>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    export function renderFilterCheckField(parameters:IFieldPayload): string {\r\n      const { title, value, type, id, className, required, name, readonly,others,classTitle } = parameters;\r\n      return `\r\n          <label class=\"label ${classTitle}\">${title}</label>\r\n          <div class=\"control\">\r\n            <${type} id=\"${id || \"\"}\" name=\"${name}\" class=\"item-55 ${className || \"\"}\" data-bind=\"value: ${value}\" ${required ? \"required\" : \"\"} ${readonly ? readonly : \"\"} ${others ? others : \"\"}></${type}>\r\n            <div class=\"is-inline\">\r\n                <input type=\"checkbox\" id=\"filterCheck${id}\" class=\"k-checkbox\">\r\n                <label class=\"k-checkbox-label\" for=\"filterCheck${id}\">Contain</label>\r\n            </div>\r\n          </div>\r\n      `;\r\n    }\r\n\r\n    export function renderFieldDetail(parameters:IFieldPayload): string {\r\n      const { title, value, type, id, className, required, name, others,classTitle } = parameters;\r\n      return `\r\n          <label>${title}</label>\r\n          <div class=\"control\">\r\n            <${type} id=\"${id || \"\"}\" name=\"${name}\" class=\"${className || \"\"}\" data-bind=\"value: ${value}\" ${required ? \"required\" : \"\"} ${others ? others : \"\"}></${type}>\r\n          </div>\r\n      `;\r\n    }\r\n\r\n    export function renderFieldCheckbox(parameters:IFieldPayload, parameters2:IFieldPayload): string {\r\n      const { title, value, type, id, className, required, name, others,classTitle } = parameters;\r\n      return `\r\n          <label>${title}</label>\r\n          <div class=\"control\">\r\n            <${type} id=\"${id || \"\"}\" name=\"${name}\" class=\"${className || \"\"}\" data-bind=\"value: ${value}\" ${required ? \"required\" : \"\"} ${others ? others : \"\"}></${type}>\r\n          </div>\r\n      `;\r\n    }\r\n\r\n    export function renderFieldSwitch(parameters:IFieldPayload): string {\r\n      const { title, value, type, id, className } = parameters;\r\n      return `\r\n          <label>${title}</label>\r\n          <div class=\"control\">\r\n            <${type} id=\"${id || \"\"}\" name=\"${name}\" class=\"${className || \"\"}\" data-bind=\"value: ${value}\"></${type}>\r\n          </div>\r\n      `;\r\n  }\r\n}","import { ui } from \"../Utilities/utils\";\r\n\r\n\r\n\r\nconst { renderFieldDetail } = ui;\r\n\r\n// Principal\r\nconst EstadoIdea = renderFieldDetail({ id: \"EstadoIdea\", className: \"input dropdown\", title: \"Estado de la iniciativa \", type: \"input\", name: \"EstadoIdea\", others: \"validationMessage='Este campo es obligatorio'\", value: \"EstadoIdeaId\", required: true })\r\nconst UEN = renderFieldDetail({ id: \"UEN\", className: \"input dropdown\", title: \"UEN \", type: \"input\", name: \"UEN\", others: \"validationMessage='Este campo es obligatorio'\", value: \"UENId\", required: true })\r\nconst NombreOportunidad = renderFieldDetail({ id: \"NombreOportunidad\", className: \"input\", title: \"Nombre de la oportunidad \", type: \"input\", name: \"NombreOportunidad\", others: \"validationMessage='Este campo es obligatorio'\", value: \"NombreOportunidad\", required: true })\r\nconst Regional = renderFieldDetail({ id: \"Regional\", className: \"input dropdown\", title: \"Regional \", type: \"input\", name: \"Regional\", others: \"validationMessage='Este campo es obligatorio'\", value: \"RegionalId\", required: true })\r\nconst CostoAproximado = renderFieldDetail({ id: \"CostoAproximado\", className: \"input\", title: \"Costo aproximado \", type: \"input\", name: \"CostoAproximado\", others: \"validationMessage='Este campo es obligatorio' autocomplete='off' type='number'\", value: \"CostoAproximado\", required: true })\r\nconst TipoCosto = renderFieldDetail({ id: \"TipoCosto\", className: \"input dropdown\", title: \"Tipo Costo\", type: \"input\", name: \"TipoCosto\", others: \"validationMessage='Este campo es obligatorio'\", value: \"TipoCostoId\", required: true })\r\nconst Colaborador = renderFieldDetail({ id: \"Colaborador\", className: \"\", title: \"Colaborador \", type: \"div\", name: \"Colaborador\", others: \"validationMessage='Este campo es obligatorio'\", value: \"Colaborador\", required: true })\r\nconst Telefono = renderFieldDetail({ id: \"Telefono\", className: \"input\", title: \"Teléfono \", type: \"input\", name: \"Telefono\", others: \"validationMessage='Este campo es obligatorio'\", value: \"Telefono\", required: true })\r\nconst Correo = renderFieldDetail({ id: \"Correo\", className: \"input\", title: \"Correo \", type: \"input\", name: \"Correo\", others: \"validationMessage='Este campo es obligatorio'type='email'\", value: \"Correo\", required: true })\r\nconst SitioAplicacion = renderFieldDetail({ id: \"SitioAplicacion\", className: \"input\", title: \"Sitio de aplicación \", type: \"input\", name: \"SitioAplicacion\", others: \"validationMessage='Este campo es obligatorio'\", value: \"SitioAplicacion\", required: true })\r\nconst QueProponer = renderFieldDetail({ id: \"QueProponer\", className: \"input dropdown\", title: \"¿Qué quieres proponer? \", type: \"input\", name: \"QueProponer\", others: \"validationMessage='Este campo es obligatorio'\", value: \"QueProponerId\", required: true })\r\nconst AnalistaAsignado = renderFieldDetail({ id: \"AnalistaAsignado\", className: \"\", title: \"Analista asignado\", type: \"div\", name: \"AnalistaAsignado\", others: \"validationMessage='Este campo es obligatorio'\", value: \"AnalistaAsignado\", required: true })\r\nconst Continuidad = renderFieldDetail ({id: \"Continuidad\", className: \"k-checkbox\", title: \"\", type: \"input\", name: \"Continuidad\", others:\"type='checkbox'\",value:\"\",required: false})\r\n\r\n\r\n// Beneficios\r\n\r\nconst BeneficioEstimadoCosto = renderFieldDetail({ id: \"BeneficioEstimadoCosto\", className: \"input dropdown\", title: \"Beneficio Costo\", type: \"input\", name: \"BeneficioEstimadoCosto\", others: \"validationMessage='Este campo es obligatorio'\", value: \"BeneficioEstimadoCostoId\", required: true })\r\nconst AumentoVentas = renderFieldDetail({ id: \"AumentoVentas\", className: \"input dropdown\", title: \"Aumento Ventas \", type: \"input\", name: \"AumentoVentas\", others: \"validationMessage='Este campo es obligatorio'\", value: \"AumentoVentasId\", required: true })\r\nconst IncrementoServicio = renderFieldDetail({ id: \"IncrementoServicio\", className: \"input dropdown\", title: \"Nivel De Servicio\", type: \"input\", name: \"IncrementoServicio\", others: \"validationMessage='Este campo es obligatorio'\", value: \"IncrementoServicioId\", required: true })\r\nconst CumplimientoNormativo = renderFieldDetail({ id: \"CumplimientoNormativo\", className: \"input dropdown\", title: \"Cumplimiento Normativo \", type: \"input\", name: \"CumplimientoNormativo\", others: \"validationMessage='Este campo es obligatorio'\", value: \"CumplimientoNormativoId\", required: true })\r\nconst ProyectoInnovacion = renderFieldDetail({ id: \"ProyectoInnovacion\", className: \"input dropdown\", title: \"Proyecto de Innovación\", type: \"input\", name: \"ProyectoInnovacion\", others: \"validationMessage='Este campo es obligatorio'\", value: \"ProyectoInnovacionId\", required: true })\r\nconst EsfuerzoEnTiempo = renderFieldDetail({ id: \"EsfuerzoEnTiempo\", className: \"input dropdown\", title: \"Esfuerzo Tiempo \", type: \"input\", name: \"EsfuerzoEnTiempo\", others: \"validationMessage='Este campo es obligatorio'\", value: \"EsfuerzoEnTiempoId\", required: true })\r\nconst EsfuerzoEnCostos = renderFieldDetail({ id: \"EsfuerzoEnCostos\", className: \"input dropdown\", title: \"Nivel de Inversión \", type: \"input\", name: \"EsfuerzoEnCostos\", others: \"validationMessage='Este campo es obligatorio'\", value: \"EsfuerzoEnCostosId\", required: true })\r\nconst Beneficio = renderFieldDetail({ id: \"Beneficio\", className: \"input\", title: \"Beneficio \", type: \"input\", name: \"Beneficio\", others: \"validationMessage='Este campo es obligatorio'\", value: \"Beneficio\", required: true })\r\nconst ReduccionCostos = renderFieldDetail({ id: \"ReduccionCostos\", className: \"input dropdown\", title: \"Reducción de costos\", type: \"input\", name: \"ReduccionCostos\", others: \"validationMessage='Este campo es obligatorio'\", value: \"ReduccionCostosId\", required: true })\r\nconst TipoBeneficio = renderFieldDetail({ id: \"TipoBeneficio\", className: \"input dropdown\", title: \"Tipo de beneficio\", type: \"input\", name: \"TipoBeneficio\", others: \"validationMessage='Este campo es obligatorio'\", value: \"TipoBeneficioId\", required: true })\r\nconst BeneficioEstimadoServicio = renderFieldDetail({ id: \"BeneficioEstimadoServicio\", className: \"input dropdown\", title: \"Beneficio Estimado Servicio\", type: \"input\", name: \"BeneficioEstimadoServicio\", others: \"validationMessage='Este campo es obligatorio'\", value: \"BeneficioEstimadoServicioId\", required: true })\r\nconst BeneficioVenta = renderFieldDetail({ id: \"BeneficioVenta\", className: \"input dropdown\", title: \"Beneficio Venta\", type: \"input\", name: \"BeneficioVenta\", others: \"validationMessage='Este campo es obligatorio'\", value: \"BeneficioVentaId\", required: true })\r\n\r\n\r\n// General\r\nconst Coordinacion = renderFieldDetail({ id: \"Coordinacion\", className: \"input dropdown\", title: \"Coordinación\", type: \"input\", name: \"Coordinacion\", others: \"validationMessage='Este campo es obligatorio'\", value: \"CoordinacionId\", required: true })\r\nconst ComentariosEvaluacion = renderFieldDetail({ id: \"ComentariosEvaluacion\", className: \"input textarea\", title: \"Comentarios de evaluación\", type: \"textarea\", name: \"ComentariosEvaluacion\", others: \"validationMessage='Este campo es obligatorio'\", value: \"ComentariosEvaluacion\", required: true })\r\nconst DescripcionOportunidad = renderFieldDetail({ id: \"DescripcionOportunidad\", className: \"input textarea\", title: \"Descripción Oportunidad\", type: \"textarea\", name: \"DescripcionOportunidad\", others: \"validationMessage='Este campo es obligatorio'\", value: \"DescripcionOportunidad\", required: true })\r\nconst Area = renderFieldDetail({ id: \"Area\", className: \"input dropdown\", title: \"Área a la que pertenece\", type: \"input\", name: \"Area\", others: \"validationMessage='Este campo es obligatorio'\", value: \"AreaId\", required: true })\r\nconst IndicadorAsociado = renderFieldDetail({ id: \"IndicadorAsociado\", className: \"input textarea\", title: \"¿Tiene un Indicador Asociado? ¿Cuál?\", type: \"textarea\", name: \"IndicadorAsociado\", others: \"validationMessage='Este campo es obligatorio'\", value: \"IndicadorAsociado\", required: true })\r\n\r\n\r\n\r\nexport function getAttachments(): string{\r\n\treturn `\r\n\t<li style=\"list-style-type: decimal;\">\r\n\t\t<a target=\"_blank\" style=\"vertical-align: middle;\" href=\"#=ServerRelativeUrl#\">#= FileName #</a>\r\n\t\t<a class=\"k-delete-button\" href=\"#\"><span class=\"k-icon k-i-close\"><span></a>\r\n\t</li>\r\n\t\r\n\t`;\r\n}\r\n\r\n\r\n\r\n/**\r\n * Funcion que pemite devolver un String \r\n */\r\nexport function GetTemplate(): string {\r\n    return `\r\n    <div id=\"tabstrip\">\r\n        <ul>\r\n            <li class=\"k-state-active\">Principal</li>\r\n            <li>Beneficios</li>\r\n            <li>General</li>\r\n            <li id=\"tabHistorico\">Histórico</li>\r\n        </ul>\r\n\r\n\r\n        <div class=\"edit-container\">\r\n            <div class=\"columns\">\r\n                <div class=\"column is-6\">\r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${NombreOportunidad}\r\n                        <span class=\"k-invalid-msg\" data-for=\"NombreOportunidad\"></span>\r\n                    </div>\r\n\r\n                    <div class=\"column is-11 NumeroIdea\">\r\n                        <label>Numero de idea</label><br />\r\n                        <input type=\"text\" class=\"input\" id=\"NumeroIdea\" name=\"NumeroIdea\" />\r\n                        <span class=\"k-invalid-msg\" data-for=\"PublicoImpactado\"></span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"column is-11 col-titulo\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${EstadoIdea}\r\n                        <span class=\"k-invalid-msg\" data-for=\"EstadoIdea\"></span>\r\n                    </div>\r\n\r\n                                \r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${UEN}\r\n                        <span class=\"k-invalid-msg\" data-for=\"UEN\"></span>\r\n                    </div>\r\n                    \r\n                    <div class=\"column is-7\" id=\"columnCosto\">\r\n                        <span class=\"required-icon\">*</span>\r\n                            ${CostoAproximado}\r\n                        <span class=\"k-invalid-msg\" data-for=\"CostoAproximado\"></span>\r\n                    </div>  \r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${Regional}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Regional\"></span>\r\n                    </div>  \r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${Telefono}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Telefono\"></span>\r\n                    </div>  \r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${IndicadorAsociado}\r\n                        <span class=\"k-invalid-msg\" data-for=\"IndicadorAsociado\"></span>\r\n                    </div> \r\n                </div>      \r\n                            \r\n                <div class=\"column is-6\">\r\n\r\n                    <div class=\"column is-11 CreadoPor\">\r\n                        <label>Creado por</label><br />\r\n                        <input type=\"text\" class=\"input\" id=\"CreadoPor\" name=\"CreadoPor\" />\r\n                        <span class=\"k-invalid-msg\" data-for=\"PublicoImpactado\"></span>\r\n                    </div>\r\n\r\n                    <div class=\"column is-11 FechaCreacion\">\r\n                        <label>Fecha de creación</label><br />\r\n                        <input type=\"text\" class=\"input\" id=\"FechaCreacion\" name=\"FechaCreacion\" />\r\n                        <span class=\"k-invalid-msg\" data-for=\"PublicoImpactado\"></span>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${Area}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Area\"></span>\r\n                    </div> \r\n\r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${Colaborador}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Colaborador\"></span>\r\n                    </div>\r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${Correo}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Correo\"></span>\r\n                    </div> \r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${QueProponer}\r\n                        <span class=\"k-invalid-msg\" data-for=\"QueProponer\"></span>\r\n                    </div> \r\n                    \r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${DescripcionOportunidad}\r\n                        <span class=\"k-invalid-msg\" data-for=\"DescripcionOportunidad\"></span>\r\n                    </div>\r\n\r\n                    <div class=\"column is-11\">\r\n                        <label>Adjuntos</label><br />\r\n                        <input name=\"adjuntos\" id=\"adjuntos\" type=\"file\" aria-label=\"files\" />\r\n                        <div id=\"listViewAttachment\"></div>\r\n                    </div>\r\n                    <div class=\"column is-11\">\r\n                        <br />\r\n                        <div style=\"display: flex; align-items: center;\">${Continuidad}<span style=\"font-size: 18px;\">&nbsp; ¿Proyecto de Continuidad?</span></div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- Beneficios -->\r\n        <div class=\"edit-container\">\r\n            <div class=\"columns\">\r\n                <div class=\"column is-6\">\r\n                    <label style=\"color: gray; font-size: 15px;\">PUNTUACIÓN BENEFICIOS</label>\r\n                    <br />\r\n                    <div class=\"columnsBeneficio\">\r\n                        <div class=\"column is-11\">\r\n                            <span class=\"required-icon\">*</span>\r\n                            ${ReduccionCostos}\r\n                            <span class=\"k-invalid-msg\" data-for=\"ReduccionCostos\"></span>\r\n                        </div>\r\n\r\n                        <div class=\"column is-11\">\r\n                            <span class=\"required-icon\">*</span>\r\n                            ${AumentoVentas}\r\n                            <span class=\"k-invalid-msg\" data-for=\"AumentoVentas\"></span>\r\n                        </div>\r\n                                    \r\n                        <div class=\"column is-11\">\r\n                            <span class=\"required-icon\">*</span>\r\n                            ${IncrementoServicio}\r\n                            <span class=\"k-invalid-msg\" data-for=\"IncrementoServicio\"></span>\r\n                        </div>\r\n\r\n                        <div class=\"column is-11\">\r\n                            <span class=\"required-icon\">*</span>\r\n                            ${CumplimientoNormativo}\r\n                            <span class=\"k-invalid-msg\" data-for=\"CumplimientoNormativo\"></span>\r\n                        </div>\r\n\r\n                        <!--<div id=\"radio-md\"><br>\r\n                            \r\n                            <legend class=\"label\" id=\"labelapprovers\"><span class=\"required-icon\">*</span> Proyecto de Innovación</legend>\r\n                            <div class=\"content-radio\">\r\n                                <input validationMessage=\"Este campo es obligatorio\" type=\"radio\" class=\"k-radio\" id=\"innovacion1\" name=\"innovacion\" value=\"innovacion1\" required=\"true\">\r\n                                <label for=\"innovacion1\">No es un proyecto de innovación</label><br>\r\n                            </div>\r\n                            \r\n                            <div class=\"content-radio\">\r\n                                <input validationMessage=\"Este campo es obligatorio\" type=\"radio\" class=\"k-radio\" id=\"innovacion2\" name=\"innovacion\" value=\"innovacion2\" required=\"true\">\r\n                                <label for=\"innovacion2\">Es un proyecto de innovación</label><br>\r\n                            </div>\r\n\r\n                            <span class=\"k-invalid-msg\" data-for=\"CumplimientoNormativo\"></span>\r\n                        </div>-->\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"column is-6\">\r\n                    <label style=\"color: gray; font-size: 15px;\">PUNTUACIÓN ESFUERZOS</label>\r\n                    <div class=\"columnsBeneficio\">\r\n                        <div class=\"column is-11\">\r\n                            <span class=\"required-icon\">*</span>\r\n                            ${EsfuerzoEnTiempo}\r\n                            <span class=\"k-invalid-msg\" data-for=\"EsfuerzoEnTiempo\"></span>\r\n                        </div>\r\n                                \r\n                        <div class=\"column is-11\">\r\n                            <span class=\"required-icon\">*</span>\r\n                            ${EsfuerzoEnCostos}\r\n                            <span class=\"k-invalid-msg\" data-for=\"EsfuerzoEnCostos\"></span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <br />\r\n                    <!--<button class=\"button\" id=\"setPuntuacion\">Guardar Puntuación</button>-->\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- General -->\r\n        <div class=\"edit-container\">\r\n            <div class=\"columns\">\r\n                <div class=\"column is-6\">\r\n                                \r\n                    <!--<div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${TipoBeneficio}\r\n                        <span class=\"k-invalid-msg\" data-for=\"TipoBeneficio\"></span>\r\n                    </div>-->\r\n                                \r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${Coordinacion}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Coordinacion\"></span>\r\n                    </div>\r\n                    \r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${ComentariosEvaluacion}\r\n                        <span class=\"k-invalid-msg\" data-for=\"ComentariosEvaluacion\"></span>\r\n                    </div> \r\n                </div>      \r\n                            \r\n                <div class=\"column is-6\">\r\n\r\n                    <div class=\"column is-11\">\r\n                        <span class=\"required-icon\">*</span>\r\n                        ${AnalistaAsignado}\r\n                        <span class=\"k-invalid-msg\" data-for=\"AnalistaAsignado\"></span>\r\n                    </div>\r\n                            \r\n                    <br />\r\n\r\n                    <div id=\"promoteContent\" class=\"column is-7\">\r\n                        <label>Promover a Project Online</label>\r\n                        <fieldset class=\"box box-promover\">\r\n                            <button id=\"btnPromover\"><span class=\"k-icon k-i-filter-add-group\"></span></button>\r\n                        </fieldset>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"edit-container\" id=\"historico\">\r\n            \r\n            <fieldset class=\"box\">\r\n                <label style=\"color: gray; margin-bottom: 10px !important;\">HISTORICO DE PUNTUACIÓN BENEFICIO</label>\r\n                <div style=\"margin-top: 10px !important;\" id=\"gridHistorico\"></div>\r\n            </fieldset>\r\n\r\n            <fieldset class=\"box\">\r\n                <label style=\"color: gray; margin-bottom: 10px !important;\">HISTORICO DE PUNTUACIÓN ESFUERZO</label>\r\n                <div style=\"margin-top: 10px !important;\" id=\"gridHistoricoBeneficio\"></div>\r\n            </fieldset>\r\n        </div>\r\n\r\n    </div>\r\n  \r\n\r\n    <div id =\"load\"><div> \r\n    `;\r\n\r\n}","import { lists } from \"../Utilities/utils\";\r\n\r\nexport namespace HistoricoBL{\r\n\r\n    export var esfuerzo_tiempo;\r\n    export var esfuerzo_costo;\r\n    export var reduccion_costo;\r\n    export var aumento_ventas;\r\n    export var innovacion;\r\n    export var nivel_de_servicio;\r\n\r\n    export async function addHistorico(data){\r\n        return await lists.Historico.items.add(data);\r\n        \r\n    }\r\n\r\n    export async function addHistoricoEsfuerzo(data){\r\n        return await lists.HistoricoEsfuerzo.items.add(data);\r\n        \r\n    }\r\n\r\n    export async  function calcularCampos(){\r\n\r\n        let pesoReduccionCosto = await lists.MetaData.items\r\n        .filter(\"Title eq 'ReduccionCostos' and Calificacion eq '1'\")\r\n        .get();\r\n        reduccion_costo = parseInt(pesoReduccionCosto[0].qmrp)/100;\r\n\r\n        let pesoAumentoVentas = await lists.MetaData.items\r\n        .filter(\"Title eq 'AumentoVentas' and Calificacion eq '1'\")\r\n        .get();\r\n        aumento_ventas = parseInt(pesoAumentoVentas[0].qmrp)/100;\r\n\r\n        let pesoNivelDeServicio = await lists.MetaData.items\r\n        .filter(\"Title eq 'IncrementoServicio' and Calificacion eq '1'\")\r\n        .get();\r\n        nivel_de_servicio = parseInt(pesoNivelDeServicio[0].qmrp)/100;\r\n\r\n        let pesoEsfuerzoCosto = await lists.MetaData.items\r\n        .filter(\"Title eq 'EsfuerzoEnCostos' and Calificacion eq '1'\")\r\n        .get();\r\n        esfuerzo_costo = parseInt(pesoEsfuerzoCosto[0].qmrp)/100;\r\n\r\n        let pesoEsfuerzoTiempo = await lists.MetaData.items\r\n        .filter(\"Title eq 'EsfuerzoEnTiempo' and Calificacion eq '1'\")\r\n        .get();\r\n        esfuerzo_tiempo = parseInt(pesoEsfuerzoTiempo[0].qmrp)/100;\r\n    }\r\n}","import { lists } from \"../Utilities/utils\";\r\nimport { DataIniciativas, DataGridIniciativas, IniciativasEvents } from \"../BusinessLogic/IniciativasBL\";\r\nimport { HistoricoBL } from \"../BusinessLogic/HistoricoBL\";\r\n\r\nexport namespace PuntajeController{\r\n\r\n    export var dataBeneficio;\r\n    export var cambio;\r\n    export var cambioEsfuerzo;\r\n\r\n    export async function createPuntaje(data){\r\n\r\n        await HistoricoBL.calcularCampos();\r\n\r\n        var BeneficioCalculado = data.ReduccionCostosId * HistoricoBL.reduccion_costo + (data.AumentoVentasId * HistoricoBL.aumento_ventas) + (data.IncrementoServicioId * HistoricoBL.nivel_de_servicio);\r\n    \r\n        var EsfuerzoCalculado = data.EsfuerzoEnTiempoId * HistoricoBL.esfuerzo_tiempo + (data.EsfuerzoEnCostosId * HistoricoBL.esfuerzo_costo);\r\n        \r\n\r\n        var eb1 = BeneficioCalculado * (1/EsfuerzoCalculado);\r\n        var eb = eb1.toFixed(2);\r\n\r\n        \r\n\r\n\r\n        DataGridIniciativas.Historico = [\r\n            {\r\n                IdIniciativa: 0,\r\n                BeneficioCosto: data.BeneficioEstimadoCostoId,\r\n                AumentoVentas: data.AumentoVentasId,\r\n                NivelDeServicio: data.IncrementoServicioId,\r\n                ReduccionCostos: data.ReduccionCostosId,\r\n                BeneficioCalculado: BeneficioCalculado\r\n            }\r\n        ];\r\n\r\n        DataGridIniciativas.HistoricoEsfuerzo = [\r\n            {\r\n                IdIniciativa: 0,\r\n                EsfuerzoTiempo: data.EsfuerzoEnTiempoId,\r\n                EsfuerzoCostos: data.EsfuerzoEnCostosId,\r\n                EsfuerzoCalculado: EsfuerzoCalculado,\r\n                EB: eb\r\n            }\r\n        ];\r\n\r\n    }\r\n\r\n    export async function updatePuntaje(data){\r\n\r\n        await HistoricoBL.calcularCampos();\r\n\r\n        let result = await lists.Historico.items.\r\n        filter(\"IdIniciativa eq \" + data.Id)\r\n        .get();\r\n\r\n        let result2 = await lists.HistoricoEsfuerzo.items.\r\n        filter(\"IdIniciativa eq \" + data.Id)\r\n        .get();\r\n\r\n        var index1 = result.length -1;\r\n        var index2 = result2.length -1;\r\n\r\n        if(result[index1].BeneficioCosto != data.BeneficioEstimadoCostoId ||\r\n            result[index1].AumentoVentas != data.AumentoVentasId ||\r\n            result[index1].NivelDeServicio != data.IncrementoServicioId ||\r\n            result[index1].ReduccionCostos != data.ReduccionCostosId\r\n        ){\r\n\r\n                cambio = true;\r\n\r\n        }else{\r\n            cambio = false;\r\n        }\r\n\r\n        if(result2[index2].EsfuerzoTiempo != data.EsfuerzoEnTiempoId || result2[index2].EsfuerzoCostos != data.EsfuerzoEnCostosId){\r\n\r\n                cambioEsfuerzo = true;\r\n\r\n        }else{\r\n            cambioEsfuerzo = false;\r\n        }\r\n\r\n\r\n        if(cambio){\r\n            var BeneficioCalculado = data.ReduccionCostosId * HistoricoBL.reduccion_costo + (data.AumentoVentasId * HistoricoBL.aumento_ventas) + (data.IncrementoServicioId * HistoricoBL.nivel_de_servicio);\r\n\r\n\r\n            DataGridIniciativas.Historico = [\r\n                {\r\n                    IdIniciativa: data.IdIniciativa,\r\n                    BeneficioCosto: data.BeneficioEstimadoCostoId,\r\n                    AumentoVentas: data.AumentoVentasId,\r\n                    NivelDeServicio: data.IncrementoServicioId,\r\n                    ReduccionCostos: data.ReduccionCostosId,\r\n                    BeneficioCalculado: BeneficioCalculado\r\n                }\r\n            ];\r\n        }\r\n\r\n        if(cambioEsfuerzo){\r\n            var eb1;\r\n            var EsfuerzoCalculado = data.EsfuerzoEnTiempoId * HistoricoBL.esfuerzo_tiempo + (data.EsfuerzoEnCostosId * HistoricoBL.esfuerzo_costo);\r\n            \r\n            if(BeneficioCalculado != null && EsfuerzoCalculado != null){\r\n                eb1 = BeneficioCalculado * (1/EsfuerzoCalculado);\r\n                var eb = eb1.toFixed(2);\r\n            }else{\r\n                eb = 0;\r\n            }\r\n            \r\n            DataGridIniciativas.HistoricoEsfuerzo = [\r\n                {\r\n                    IdIniciativa: data.IdIniciativa,\r\n                    EsfuerzoTiempo: data.EsfuerzoEnTiempoId,\r\n                    EsfuerzoCostos: data.EsfuerzoEnCostosId,\r\n                    EsfuerzoCalculado: EsfuerzoCalculado,\r\n                    EB: eb\r\n                }\r\n            ];\r\n        }\r\n    }\r\n}","import { lists } from \"../Utilities/utils\";\r\nimport { IniciativasEvents, DataIniciativas, DataGridIniciativas } from \"../BusinessLogic/IniciativasBL\";\r\nimport { DataPuntaje } from \"../BusinessLogic/PuntajeBL\";\r\nimport { PuntajeController } from \"./PuntajeController\";\r\nimport { HistoricoBL } from \"../BusinessLogic/HistoricoBL\";\r\nimport { ComiteValoracionController } from \"./ComiteValoracionController\";\r\n\r\nexport namespace DataController {\r\n\r\n\r\n    export async function readData(filtro){\r\n        let result = await lists.Iniciativas.items\r\n        .orderBy(\"Created\", false)\r\n        .select(\"*\", \"Colaborador/Name\", \"AnalistaAsignado/Name\", \"Author/Title\", \"EstadoIdea/Valor\", \"UEN/Valor\")\r\n        .expand(\"Colaborador\", \"AnalistaAsignado\", \"Author\", \"EstadoIdea\", \"UEN\")\r\n        .filter(filtro)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function createData(data){\r\n\r\n      let promesas = [];\r\n            \r\n      await promesas.push(await lists.Iniciativas.items.add(data));\r\n      \r\n      DataGridIniciativas.Historico[0].IdIniciativa = promesas[0].data.Id;\r\n      DataGridIniciativas.HistoricoEsfuerzo[0].IdIniciativa = promesas[0].data.Id;\r\n\r\n      await promesas.push(await HistoricoBL.addHistorico(DataGridIniciativas.Historico[0]));\r\n      await promesas.push(await HistoricoBL.addHistoricoEsfuerzo(DataGridIniciativas.HistoricoEsfuerzo[0]));\r\n\r\n      \r\n\r\n      Promise.all(promesas).then((result) => {\r\n        IniciativasEvents.NotificationSuccess(\"Una nueva iniciativa fue agregada\");\r\n        $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n        $(\"#gridHistoricoBeneficio\").data(\"kendoGrid\").dataSource.read();\r\n        \r\n        return result;\r\n      });\r\n\r\n    }\r\n\r\n    export async function updateData(data){\r\n        \r\n            \r\n                let result = await lists.Iniciativas.items.getById(data.Id).update(data);\r\n\r\n                await PuntajeController.updatePuntaje(data);\r\n\r\n                if(PuntajeController.cambio){\r\n                    DataGridIniciativas.Historico[0].IdIniciativa = data.Id;\r\n                    await HistoricoBL.addHistorico(DataGridIniciativas.Historico[0]);\r\n                    $(\"#gridHistorico\").data(\"kendoGrid\").dataSource.read();\r\n                }\r\n\r\n                if(PuntajeController.cambioEsfuerzo){\r\n                    DataGridIniciativas.HistoricoEsfuerzo[0].IdIniciativa = data.Id;\r\n                    await HistoricoBL.addHistoricoEsfuerzo(DataGridIniciativas.HistoricoEsfuerzo[0]);\r\n                    $(\"#gridHistoricoBeneficio\").data(\"kendoGrid\").dataSource.read();\r\n                }\r\n\r\n\r\n                IniciativasEvents.NotificationSuccess(\"Una iniciativa fue modificada con exito\");\r\n                $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n                return result;\r\n       \r\n    }\r\n\r\n    export async function deleteData(data){\r\n        let result = await lists.Iniciativas.items.getById(data.Id).delete();\r\n        IniciativasEvents.NotificationSuccess(\"Una iniciativa fue eliminada con exito\");\r\n        return result;\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    export async function addAttachment(id:number, data:Array<any>){\r\n        let result =  await lists.Iniciativas.items.getById(id).attachmentFiles.addMultiple(data);\r\n        return result;\r\n    }\r\n      \r\n    \r\n    export async function getAttachment(id:number){\r\n      return await lists.Iniciativas.items.getById(id).attachmentFiles.get();\r\n    }\r\n  \r\n    \r\n    export async function deleteAttachment(id:number,name:string){\r\n      try {\r\n        let result =  await lists.Iniciativas.items.getById(id).attachmentFiles.getByName(name).delete();\r\n        IniciativasEvents.NotificationSuccess(\"Adjuntos eliminados con exito\");\r\n        return result;\r\n      } catch {\r\n        IniciativasEvents.NotificationError(\"Ocurrió un error al eliminar los adjuntos\");\r\n      }\r\n    }\r\n\r\n\r\n}","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, SharePointQueryableInstance, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { TextParser, BlobParser, JSONParser, BufferParser, headers, body } from \"@pnp/odata\";\r\nimport { assign, getGUID, isFunc, stringIsNullOrEmpty, isUrlAbsolute } from \"@pnp/common\";\r\nimport { Item } from \"../items\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { tag } from \"../telemetry\";\r\nimport { toResourcePath } from \"../utils/toResourcePath\";\r\n/**\r\n * Describes a collection of File objects\r\n *\r\n */\r\nvar _Files = /** @class */ (function (_super) {\r\n    __extends(_Files, _super);\r\n    function _Files() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a File by filename\r\n     *\r\n     * @param name The name of the file, including extension.\r\n     */\r\n    _Files.prototype.getByName = function (name) {\r\n        if (/\\%#/.test(name)) {\r\n            throw Error(\"For file names containing % or # please use web.getFileByServerRelativePath\");\r\n        }\r\n        return tag.configure(File(this).concat(\"('\" + escapeQueryStrValue(name) + \"')\"), \"fis.getByName\");\r\n    };\r\n    /**\r\n     * Uploads a file. Not supported for batching\r\n     *\r\n     * @param url The folder-relative url of the file.\r\n     * @param content The file contents blob.\r\n     * @param shouldOverWrite Should a file with the same name in the same location be overwritten? (default: true)\r\n     * @returns The new File and the raw response.\r\n     */\r\n    _Files.prototype.add = function (url, content, shouldOverWrite) {\r\n        if (shouldOverWrite === void 0) { shouldOverWrite = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(Files(this, \"add(overwrite=\" + shouldOverWrite + \",url='\" + escapeQueryStrValue(url) + \"')\"), {\r\n                            body: content,\r\n                        })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: response,\r\n                                file: this.getByName(url),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a file using the pound percent safe methods\r\n     *\r\n     * @param url Excoded url of the file\r\n     * @param content The file content\r\n     * @param parameters Additional parameters to control method behavior\r\n     */\r\n    _Files.prototype.addUsingPath = function (url, content, parameters) {\r\n        if (parameters === void 0) { parameters = { Overwrite: false }; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var path, resp;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        path = [\"AddUsingPath(decodedurl='\" + escapeQueryStrValue(url) + \"'\"];\r\n                        if (parameters) {\r\n                            if (parameters.Overwrite) {\r\n                                path.push(\",Overwrite=true\");\r\n                            }\r\n                            if (parameters.AutoCheckoutOnInvalidData) {\r\n                                path.push(\",AutoCheckoutOnInvalidData=true\");\r\n                            }\r\n                            if (!stringIsNullOrEmpty(parameters.XorHash)) {\r\n                                path.push(\",XorHash=\" + escapeQueryStrValue(parameters.XorHash));\r\n                            }\r\n                        }\r\n                        path.push(\")\");\r\n                        return [4 /*yield*/, spPost(Files(this, path.join(\"\")), { body: content })];\r\n                    case 1:\r\n                        resp = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: resp,\r\n                                file: File(odataUrlFrom(resp)),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Uploads a file. Not supported for batching\r\n     *\r\n     * @param url The folder-relative url of the file.\r\n     * @param content The Blob file content to add\r\n     * @param progress A callback function which can be used to track the progress of the upload\r\n     * @param shouldOverWrite Should a file with the same name in the same location be overwritten? (default: true)\r\n     * @param chunkSize The size of each file slice, in bytes (default: 10485760)\r\n     * @returns The new File and the raw response.\r\n     */\r\n    _Files.prototype.addChunked = function (url, content, progress, shouldOverWrite, chunkSize) {\r\n        if (shouldOverWrite === void 0) { shouldOverWrite = true; }\r\n        if (chunkSize === void 0) { chunkSize = 10485760; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var file;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Files, \"add(overwrite=\" + shouldOverWrite + \",url='\" + escapeQueryStrValue(url) + \"')\", false))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        file = this.getByName(url);\r\n                        return [4 /*yield*/, file.setContentChunked(content, progress, chunkSize)];\r\n                    case 2: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a ghosted file to an existing list or document library. Not supported for batching.\r\n     *\r\n     * @param fileUrl The server-relative url where you want to save the file.\r\n     * @param templateFileType The type of use to create the file.\r\n     * @returns The template file that was added and the raw response.\r\n     */\r\n    _Files.prototype.addTemplateFile = function (fileUrl, templateFileType) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Files, \"addTemplateFile(urloffile='\" + escapeQueryStrValue(fileUrl) + \"',templatefiletype=\" + templateFileType + \")\", false))];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: response,\r\n                                file: File(odataUrlFrom(response)),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"fis.add\")\r\n    ], _Files.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"fis.addUsingPath\")\r\n    ], _Files.prototype, \"addUsingPath\", null);\r\n    __decorate([\r\n        tag(\"fis.addChunked\")\r\n    ], _Files.prototype, \"addChunked\", null);\r\n    __decorate([\r\n        tag(\"fis.addTemplateFile\")\r\n    ], _Files.prototype, \"addTemplateFile\", null);\r\n    _Files = __decorate([\r\n        defaultPath(\"files\")\r\n    ], _Files);\r\n    return _Files;\r\n}(_SharePointQueryableCollection));\r\nexport { _Files };\r\nexport var Files = spInvokableFactory(_Files);\r\n/**\r\n * Describes a single File instance\r\n *\r\n */\r\nvar _File = /** @class */ (function (_super) {\r\n    __extends(_File, _super);\r\n    function _File() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"fi\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_File.prototype, \"listItemAllFields\", {\r\n        /**\r\n         * Gets a value that specifies the list item field values for the list item corresponding to the file.\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"listItemAllFields\"), \"fi.listItemAllFields\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_File.prototype, \"versions\", {\r\n        /**\r\n         * Gets a collection of versions\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(Versions(this), \"fi.versions\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Approves the file submitted for content approval with the specified comment.\r\n     * Only documents in lists that are enabled for content approval can be approved.\r\n     *\r\n     * @param comment The comment for the approval.\r\n     */\r\n    _File.prototype.approve = function (comment) {\r\n        if (comment === void 0) { comment = \"\"; }\r\n        return spPost(this.clone(File, \"approve(comment='\" + escapeQueryStrValue(comment) + \"')\"));\r\n    };\r\n    /**\r\n     * Stops the chunk upload session without saving the uploaded data. Does not support batching.\r\n     * If the file doesn’t already exist in the library, the partially uploaded file will be deleted.\r\n     * Use this in response to user action (as in a request to cancel an upload) or an error or exception.\r\n     * Use the uploadId value that was passed to the StartUpload method that started the upload session.\r\n     * This method is currently available only on Office 365.\r\n     *\r\n     * @param uploadId The unique identifier of the upload session.\r\n     */\r\n    _File.prototype.cancelUpload = function (uploadId) {\r\n        return spPost(this.clone(File, \"cancelUpload(uploadId=guid'\" + uploadId + \"')\", false));\r\n    };\r\n    /**\r\n     * Checks the file in to a document library based on the check-in type.\r\n     *\r\n     * @param comment A comment for the check-in. Its length must be <= 1023.\r\n     * @param checkinType The check-in type for the file.\r\n     */\r\n    _File.prototype.checkin = function (comment, checkinType) {\r\n        if (comment === void 0) { comment = \"\"; }\r\n        if (checkinType === void 0) { checkinType = CheckinType.Major; }\r\n        if (comment.length > 1023) {\r\n            throw Error(\"The maximum comment length is 1023 characters.\");\r\n        }\r\n        return spPost(this.clone(File, \"checkin(comment='\" + escapeQueryStrValue(comment) + \"',checkintype=\" + checkinType + \")\"));\r\n    };\r\n    /**\r\n     * Checks out the file from a document library.\r\n     */\r\n    _File.prototype.checkout = function () {\r\n        return spPost(this.clone(File, \"checkout\"));\r\n    };\r\n    /**\r\n     * Copies the file to the destination url.\r\n     *\r\n     * @param url The absolute url or server relative url of the destination file path to copy to.\r\n     * @param shouldOverWrite Should a file with the same name in the same location be overwritten?\r\n     */\r\n    _File.prototype.copyTo = function (url, shouldOverWrite) {\r\n        if (shouldOverWrite === void 0) { shouldOverWrite = true; }\r\n        return spPost(this.clone(File, \"copyTo(strnewurl='\" + escapeQueryStrValue(url) + \"',boverwrite=\" + shouldOverWrite + \")\"));\r\n    };\r\n    /**\r\n     * Copies the file by path to destination path.\r\n     * Also works with different site collections.\r\n     *\r\n     * @param destUrl The absolute url or server relative url of the destination file path to copy to.\r\n     * @param shouldOverWrite Should a file with the same name in the same location be overwritten?\r\n     * @param keepBoth Keep both if file with the same name in the same location already exists? Only relevant when shouldOverWrite is set to false.\r\n     */\r\n    _File.prototype.copyByPath = function (destUrl, shouldOverWrite, KeepBoth) {\r\n        if (KeepBoth === void 0) { KeepBoth = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, srcUrl, absoluteUrl, webBaseUrl, hostUrl;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"ServerRelativeUrl\")()];\r\n                    case 1:\r\n                        _a = _b.sent(), srcUrl = _a.ServerRelativeUrl, absoluteUrl = _a[\"odata.id\"];\r\n                        webBaseUrl = extractWebUrl(absoluteUrl);\r\n                        hostUrl = webBaseUrl.replace(\"://\", \"___\").split(\"/\")[0].replace(\"___\", \"://\");\r\n                        return [4 /*yield*/, spPost(File(webBaseUrl, \"/_api/SP.MoveCopyUtil.CopyFileByPath(overwrite=@a1)?@a1=\" + shouldOverWrite), body({\r\n                                destPath: toResourcePath(isUrlAbsolute(destUrl) ? destUrl : \"\" + hostUrl + destUrl),\r\n                                options: {\r\n                                    KeepBoth: KeepBoth,\r\n                                    ResetAuthorAndCreatedOnCopy: true,\r\n                                    ShouldBypassSharedLocks: true,\r\n                                    __metadata: {\r\n                                        type: \"SP.MoveCopyOptions\",\r\n                                    },\r\n                                },\r\n                                srcPath: toResourcePath(isUrlAbsolute(srcUrl) ? srcUrl : \"\" + hostUrl + srcUrl),\r\n                            }))];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Denies approval for a file that was submitted for content approval.\r\n     * Only documents in lists that are enabled for content approval can be denied.\r\n     *\r\n     * @param comment The comment for the denial.\r\n     */\r\n    _File.prototype.deny = function (comment) {\r\n        if (comment === void 0) { comment = \"\"; }\r\n        if (comment.length > 1023) {\r\n            throw Error(\"The maximum comment length is 1023 characters.\");\r\n        }\r\n        return spPost(this.clone(File, \"deny(comment='\" + escapeQueryStrValue(comment) + \"')\"));\r\n    };\r\n    /**\r\n     * Moves the file to the specified destination url.\r\n     *\r\n     * @param url The absolute url or server relative url of the destination file path to move to.\r\n     * @param moveOperations The bitwise MoveOperations value for how to move the file.\r\n     */\r\n    _File.prototype.moveTo = function (url, moveOperations) {\r\n        if (moveOperations === void 0) { moveOperations = MoveOperations.Overwrite; }\r\n        return spPost(this.clone(File, \"moveTo(newurl='\" + escapeQueryStrValue(url) + \"',flags=\" + moveOperations + \")\"));\r\n    };\r\n    /**\r\n     * Moves the file by path to the specified destination url.\r\n     * Also works with different site collections.\r\n     *\r\n     * @param destUrl The absolute url or server relative url of the destination file path to move to.\r\n     * @param shouldOverWrite Should a file with the same name in the same location be overwritten?\r\n     * @param keepBoth Keep both if file with the same name in the same location already exists? Only relevant when shouldOverWrite is set to false.\r\n     */\r\n    _File.prototype.moveByPath = function (destUrl, shouldOverWrite, KeepBoth) {\r\n        if (KeepBoth === void 0) { KeepBoth = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, srcUrl, absoluteUrl, webBaseUrl, hostUrl;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"ServerRelativeUrl\")()];\r\n                    case 1:\r\n                        _a = _b.sent(), srcUrl = _a.ServerRelativeUrl, absoluteUrl = _a[\"odata.id\"];\r\n                        webBaseUrl = extractWebUrl(absoluteUrl);\r\n                        hostUrl = webBaseUrl.replace(\"://\", \"___\").split(\"/\")[0].replace(\"___\", \"://\");\r\n                        return [4 /*yield*/, spPost(File(webBaseUrl, \"/_api/SP.MoveCopyUtil.MoveFileByPath(overwrite=@a1)?@a1=\" + shouldOverWrite), body({\r\n                                destPath: toResourcePath(isUrlAbsolute(destUrl) ? destUrl : \"\" + hostUrl + destUrl),\r\n                                options: {\r\n                                    KeepBoth: KeepBoth,\r\n                                    ResetAuthorAndCreatedOnCopy: false,\r\n                                    ShouldBypassSharedLocks: true,\r\n                                    __metadata: {\r\n                                        type: \"SP.MoveCopyOptions\",\r\n                                    },\r\n                                },\r\n                                srcPath: toResourcePath(isUrlAbsolute(srcUrl) ? srcUrl : \"\" + hostUrl + srcUrl),\r\n                            }))];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Submits the file for content approval with the specified comment.\r\n     *\r\n     * @param comment The comment for the published file. Its length must be <= 1023.\r\n     */\r\n    _File.prototype.publish = function (comment) {\r\n        if (comment === void 0) { comment = \"\"; }\r\n        if (comment.length > 1023) {\r\n            throw Error(\"The maximum comment length is 1023 characters.\");\r\n        }\r\n        return spPost(this.clone(File, \"publish(comment='\" + escapeQueryStrValue(comment) + \"')\"));\r\n    };\r\n    /**\r\n     * Moves the file to the Recycle Bin and returns the identifier of the new Recycle Bin item.\r\n     *\r\n     * @returns The GUID of the recycled file.\r\n     */\r\n    _File.prototype.recycle = function () {\r\n        return spPost(this.clone(File, \"recycle\"));\r\n    };\r\n    /**\r\n     * Reverts an existing checkout for the file.\r\n     *\r\n     */\r\n    _File.prototype.undoCheckout = function () {\r\n        return spPost(this.clone(File, \"undoCheckout\"));\r\n    };\r\n    /**\r\n     * Removes the file from content approval or unpublish a major version.\r\n     *\r\n     * @param comment The comment for the unpublish operation. Its length must be <= 1023.\r\n     */\r\n    _File.prototype.unpublish = function (comment) {\r\n        if (comment === void 0) { comment = \"\"; }\r\n        if (comment.length > 1023) {\r\n            throw Error(\"The maximum comment length is 1023 characters.\");\r\n        }\r\n        return spPost(this.clone(File, \"unpublish(comment='\" + escapeQueryStrValue(comment) + \"')\"));\r\n    };\r\n    /**\r\n     * Gets the contents of the file as text. Not supported in batching.\r\n     *\r\n     */\r\n    _File.prototype.getText = function () {\r\n        return this.clone(File, \"$value\", false).usingParser(new TextParser())(headers({ \"binaryStringResponseBody\": \"true\" }));\r\n    };\r\n    /**\r\n     * Gets the contents of the file as a blob, does not work in Node.js. Not supported in batching.\r\n     *\r\n     */\r\n    _File.prototype.getBlob = function () {\r\n        return this.clone(File, \"$value\", false).usingParser(new BlobParser())(headers({ \"binaryStringResponseBody\": \"true\" }));\r\n    };\r\n    /**\r\n     * Gets the contents of a file as an ArrayBuffer, works in Node.js. Not supported in batching.\r\n     */\r\n    _File.prototype.getBuffer = function () {\r\n        return this.clone(File, \"$value\", false).usingParser(new BufferParser())(headers({ \"binaryStringResponseBody\": \"true\" }));\r\n    };\r\n    /**\r\n     * Gets the contents of a file as an ArrayBuffer, works in Node.js. Not supported in batching.\r\n     */\r\n    _File.prototype.getJSON = function () {\r\n        return this.clone(File, \"$value\", false).usingParser(new JSONParser())(headers({ \"binaryStringResponseBody\": \"true\" }));\r\n    };\r\n    /**\r\n     * Sets the content of a file, for large files use setContentChunked. Not supported in batching.\r\n     *\r\n     * @param content The file content\r\n     *\r\n     */\r\n    _File.prototype.setContent = function (content) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(File, \"$value\", false), {\r\n                            body: content,\r\n                            headers: {\r\n                                \"X-HTTP-Method\": \"PUT\",\r\n                            },\r\n                        })];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, File(this)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the associated list item for this folder, loading the default properties\r\n     */\r\n    _File.prototype.getItem = function () {\r\n        var selects = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            selects[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, d;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = this.listItemAllFields;\r\n                        return [4 /*yield*/, q.select.apply(q, selects)()];\r\n                    case 1:\r\n                        d = _a.sent();\r\n                        return [2 /*return*/, assign(Item(odataUrlFrom(d)), d)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Sets the contents of a file using a chunked upload approach. Not supported in batching.\r\n     *\r\n     * @param file The file to upload\r\n     * @param progress A callback function which can be used to track the progress of the upload\r\n     * @param chunkSize The size of each file slice, in bytes (default: 10485760)\r\n     */\r\n    _File.prototype.setContentChunked = function (file, progress, chunkSize) {\r\n        if (chunkSize === void 0) { chunkSize = 10485760; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var fileSize, totalBlocks, uploadId, currentPointer, i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!isFunc(progress)) {\r\n                            progress = function () { return null; };\r\n                        }\r\n                        fileSize = file.size;\r\n                        totalBlocks = parseInt((fileSize / chunkSize).toString(), 10) + ((fileSize % chunkSize === 0) ? 1 : 0);\r\n                        uploadId = getGUID();\r\n                        // report that we are starting\r\n                        progress({ uploadId: uploadId, blockNumber: 1, chunkSize: chunkSize, currentPointer: 0, fileSize: fileSize, stage: \"starting\", totalBlocks: totalBlocks });\r\n                        return [4 /*yield*/, this.startUpload(uploadId, file.slice(0, chunkSize))];\r\n                    case 1:\r\n                        currentPointer = _a.sent();\r\n                        i = 2;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (!(i < totalBlocks)) return [3 /*break*/, 5];\r\n                        progress({ uploadId: uploadId, blockNumber: i, chunkSize: chunkSize, currentPointer: currentPointer, fileSize: fileSize, stage: \"continue\", totalBlocks: totalBlocks });\r\n                        return [4 /*yield*/, this.continueUpload(uploadId, currentPointer, file.slice(currentPointer, currentPointer + chunkSize))];\r\n                    case 3:\r\n                        currentPointer = _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        i++;\r\n                        return [3 /*break*/, 2];\r\n                    case 5:\r\n                        progress({ uploadId: uploadId, blockNumber: totalBlocks, chunkSize: chunkSize, currentPointer: currentPointer, fileSize: fileSize, stage: \"finishing\", totalBlocks: totalBlocks });\r\n                        return [2 /*return*/, this.finishUpload(uploadId, currentPointer, file.slice(currentPointer))];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Starts a new chunk upload session and uploads the first fragment.\r\n     * The current file content is not changed when this method completes.\r\n     * The method is idempotent (and therefore does not change the result) as long as you use the same values for uploadId and stream.\r\n     * The upload session ends either when you use the CancelUpload method or when you successfully\r\n     * complete the upload session by passing the rest of the file contents through the ContinueUpload and FinishUpload methods.\r\n     * The StartUpload and ContinueUpload methods return the size of the running total of uploaded data in bytes,\r\n     * so you can pass those return values to subsequent uses of ContinueUpload and FinishUpload.\r\n     * This method is currently available only on Office 365.\r\n     *\r\n     * @param uploadId The unique identifier of the upload session.\r\n     * @param fragment The file contents.\r\n     * @returns The size of the total uploaded data in bytes.\r\n     */\r\n    _File.prototype.startUpload = function (uploadId, fragment) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var n;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(File, \"startUpload(uploadId=guid'\" + uploadId + \"')\", false), { body: fragment })];\r\n                    case 1:\r\n                        n = _a.sent();\r\n                        if (typeof n === \"object\") {\r\n                            // When OData=verbose the payload has the following shape:\r\n                            // { StartUpload: \"10485760\" }\r\n                            n = n.StartUpload;\r\n                        }\r\n                        return [2 /*return*/, parseFloat(n)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Continues the chunk upload session with an additional fragment.\r\n     * The current file content is not changed.\r\n     * Use the uploadId value that was passed to the StartUpload method that started the upload session.\r\n     * This method is currently available only on Office 365.\r\n     *\r\n     * @param uploadId The unique identifier of the upload session.\r\n     * @param fileOffset The size of the offset into the file where the fragment starts.\r\n     * @param fragment The file contents.\r\n     * @returns The size of the total uploaded data in bytes.\r\n     */\r\n    _File.prototype.continueUpload = function (uploadId, fileOffset, fragment) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var n;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(File, \"continueUpload(uploadId=guid'\" + uploadId + \"',fileOffset=\" + fileOffset + \")\", false), { body: fragment })];\r\n                    case 1:\r\n                        n = _a.sent();\r\n                        if (typeof n === \"object\") {\r\n                            // When OData=verbose the payload has the following shape:\r\n                            // { ContinueUpload: \"20971520\" }\r\n                            n = n.ContinueUpload;\r\n                        }\r\n                        return [2 /*return*/, parseFloat(n)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Uploads the last file fragment and commits the file. The current file content is changed when this method completes.\r\n     * Use the uploadId value that was passed to the StartUpload method that started the upload session.\r\n     * This method is currently available only on Office 365.\r\n     *\r\n     * @param uploadId The unique identifier of the upload session.\r\n     * @param fileOffset The size of the offset into the file where the fragment starts.\r\n     * @param fragment The file contents.\r\n     * @returns The newly uploaded file.\r\n     */\r\n    _File.prototype.finishUpload = function (uploadId, fileOffset, fragment) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(File, \"finishUpload(uploadId=guid'\" + uploadId + \"',fileOffset=\" + fileOffset + \")\", false), { body: fragment })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: response,\r\n                                file: File(odataUrlFrom(response)),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"fi.approve\")\r\n    ], _File.prototype, \"approve\", null);\r\n    __decorate([\r\n        tag(\"fi.cancelUpload\")\r\n    ], _File.prototype, \"cancelUpload\", null);\r\n    __decorate([\r\n        tag(\"fi.checkin\")\r\n    ], _File.prototype, \"checkin\", null);\r\n    __decorate([\r\n        tag(\"fi.checkout\")\r\n    ], _File.prototype, \"checkout\", null);\r\n    __decorate([\r\n        tag(\"fi.copyTo\")\r\n    ], _File.prototype, \"copyTo\", null);\r\n    __decorate([\r\n        tag(\"fi.copyByPath\")\r\n    ], _File.prototype, \"copyByPath\", null);\r\n    __decorate([\r\n        tag(\"fi.deny\")\r\n    ], _File.prototype, \"deny\", null);\r\n    __decorate([\r\n        tag(\"fi.moveTo\")\r\n    ], _File.prototype, \"moveTo\", null);\r\n    __decorate([\r\n        tag(\"fi.moveByPath\")\r\n    ], _File.prototype, \"moveByPath\", null);\r\n    __decorate([\r\n        tag(\"fi.publish\")\r\n    ], _File.prototype, \"publish\", null);\r\n    __decorate([\r\n        tag(\"fi.recycle\")\r\n    ], _File.prototype, \"recycle\", null);\r\n    __decorate([\r\n        tag(\"fi.undoCheckout\")\r\n    ], _File.prototype, \"undoCheckout\", null);\r\n    __decorate([\r\n        tag(\"fi.unpublish\")\r\n    ], _File.prototype, \"unpublish\", null);\r\n    __decorate([\r\n        tag(\"fi.getText\")\r\n    ], _File.prototype, \"getText\", null);\r\n    __decorate([\r\n        tag(\"fi.getBlob\")\r\n    ], _File.prototype, \"getBlob\", null);\r\n    __decorate([\r\n        tag(\"fi.getBuffer\")\r\n    ], _File.prototype, \"getBuffer\", null);\r\n    __decorate([\r\n        tag(\"fi.getJSON\")\r\n    ], _File.prototype, \"getJSON\", null);\r\n    __decorate([\r\n        tag(\"fi.setContent\")\r\n    ], _File.prototype, \"setContent\", null);\r\n    __decorate([\r\n        tag(\"fi.getItem\")\r\n    ], _File.prototype, \"getItem\", null);\r\n    __decorate([\r\n        tag(\"fi.startUpload\")\r\n    ], _File.prototype, \"startUpload\", null);\r\n    __decorate([\r\n        tag(\"fi.continueUpload\")\r\n    ], _File.prototype, \"continueUpload\", null);\r\n    __decorate([\r\n        tag(\"fi.finishUpload\")\r\n    ], _File.prototype, \"finishUpload\", null);\r\n    return _File;\r\n}(_SharePointQueryableInstance));\r\nexport { _File };\r\nexport var File = spInvokableFactory(_File);\r\n/**\r\n * Describes a collection of Version objects\r\n *\r\n */\r\nvar _Versions = /** @class */ (function (_super) {\r\n    __extends(_Versions, _super);\r\n    function _Versions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a version by id\r\n     *\r\n     * @param versionId The id of the version to retrieve\r\n     */\r\n    _Versions.prototype.getById = function (versionId) {\r\n        return tag.configure(Version(this).concat(\"(\" + versionId + \")\"), \"vers.getById\");\r\n    };\r\n    /**\r\n     * Deletes all the file version objects in the collection.\r\n     *\r\n     */\r\n    _Versions.prototype.deleteAll = function () {\r\n        return spPost(Versions(this, \"deleteAll\"));\r\n    };\r\n    /**\r\n     * Deletes the specified version of the file.\r\n     *\r\n     * @param versionId The ID of the file version to delete.\r\n     */\r\n    _Versions.prototype.deleteById = function (versionId) {\r\n        return spPost(this.clone(Versions, \"deleteById(vid=\" + versionId + \")\"));\r\n    };\r\n    /**\r\n     * Recycles the specified version of the file.\r\n     *\r\n     * @param versionId The ID of the file version to delete.\r\n     */\r\n    _Versions.prototype.recycleByID = function (versionId) {\r\n        return spPost(this.clone(Versions, \"recycleByID(vid=\" + versionId + \")\"));\r\n    };\r\n    /**\r\n     * Deletes the file version object with the specified version label.\r\n     *\r\n     * @param label The version label of the file version to delete, for example: 1.2\r\n     */\r\n    _Versions.prototype.deleteByLabel = function (label) {\r\n        return spPost(this.clone(Versions, \"deleteByLabel(versionlabel='\" + escapeQueryStrValue(label) + \"')\"));\r\n    };\r\n    /**\r\n     * Recycles the file version object with the specified version label.\r\n     *\r\n     * @param label The version label of the file version to delete, for example: 1.2\r\n     */\r\n    _Versions.prototype.recycleByLabel = function (label) {\r\n        return spPost(this.clone(Versions, \"recycleByLabel(versionlabel='\" + escapeQueryStrValue(label) + \"')\"));\r\n    };\r\n    /**\r\n     * Creates a new file version from the file specified by the version label.\r\n     *\r\n     * @param label The version label of the file version to restore, for example: 1.2\r\n     */\r\n    _Versions.prototype.restoreByLabel = function (label) {\r\n        return spPost(this.clone(Versions, \"restoreByLabel(versionlabel='\" + escapeQueryStrValue(label) + \"')\"));\r\n    };\r\n    __decorate([\r\n        tag(\"vers.deleteAll\")\r\n    ], _Versions.prototype, \"deleteAll\", null);\r\n    __decorate([\r\n        tag(\"vers.deleteById\")\r\n    ], _Versions.prototype, \"deleteById\", null);\r\n    __decorate([\r\n        tag(\"vers.recycleByID\")\r\n    ], _Versions.prototype, \"recycleByID\", null);\r\n    __decorate([\r\n        tag(\"vers.deleteByLabel\")\r\n    ], _Versions.prototype, \"deleteByLabel\", null);\r\n    __decorate([\r\n        tag(\"vers.recycleByLabel\")\r\n    ], _Versions.prototype, \"recycleByLabel\", null);\r\n    __decorate([\r\n        tag(\"vers.restoreByLabel\")\r\n    ], _Versions.prototype, \"restoreByLabel\", null);\r\n    _Versions = __decorate([\r\n        defaultPath(\"versions\")\r\n    ], _Versions);\r\n    return _Versions;\r\n}(_SharePointQueryableCollection));\r\nexport { _Versions };\r\nexport var Versions = spInvokableFactory(_Versions);\r\n/**\r\n * Describes a single Version instance\r\n *\r\n */\r\nvar _Version = /** @class */ (function (_super) {\r\n    __extends(_Version, _super);\r\n    function _Version() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"ver\");\r\n        return _this;\r\n    }\r\n    return _Version;\r\n}(_SharePointQueryableInstance));\r\nexport { _Version };\r\nexport var Version = spInvokableFactory(_Version);\r\n/**\r\n * Types for document check in.\r\n * Minor = 0\r\n * Major = 1\r\n * Overwrite = 2\r\n */\r\nexport var CheckinType;\r\n(function (CheckinType) {\r\n    CheckinType[CheckinType[\"Minor\"] = 0] = \"Minor\";\r\n    CheckinType[CheckinType[\"Major\"] = 1] = \"Major\";\r\n    CheckinType[CheckinType[\"Overwrite\"] = 2] = \"Overwrite\";\r\n})(CheckinType || (CheckinType = {}));\r\n/**\r\n * File move opertions\r\n * Overwrite = 1\r\n * AllowBrokenThickets = 8\r\n */\r\nexport var MoveOperations;\r\n(function (MoveOperations) {\r\n    MoveOperations[MoveOperations[\"Overwrite\"] = 1] = \"Overwrite\";\r\n    MoveOperations[MoveOperations[\"AllowBrokenThickets\"] = 8] = \"AllowBrokenThickets\";\r\n})(MoveOperations || (MoveOperations = {}));\r\nexport var TemplateFileType;\r\n(function (TemplateFileType) {\r\n    TemplateFileType[TemplateFileType[\"StandardPage\"] = 0] = \"StandardPage\";\r\n    TemplateFileType[TemplateFileType[\"WikiPage\"] = 1] = \"WikiPage\";\r\n    TemplateFileType[TemplateFileType[\"FormPage\"] = 2] = \"FormPage\";\r\n    TemplateFileType[TemplateFileType[\"ClientSidePage\"] = 3] = \"ClientSidePage\";\r\n})(TemplateFileType || (TemplateFileType = {}));\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { spPost } from \"../operations\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { File } from \"../files/types\";\r\nimport { tag } from \"../telemetry\";\r\nimport { Web } from \"../webs\";\r\nimport \"../items\";\r\nvar _AppCatalog = /** @class */ (function (_super) {\r\n    __extends(_AppCatalog, _super);\r\n    function _AppCatalog(baseUrl, path) {\r\n        if (path === void 0) { path = \"_api/web/tenantappcatalog/AvailableApps\"; }\r\n        return _super.call(this, extractWebUrl(typeof baseUrl === \"string\" ? baseUrl : baseUrl.toUrl()), path) || this;\r\n    }\r\n    /**\r\n     * Get details of specific app from the app catalog\r\n     * @param id - Specify the guid of the app\r\n     */\r\n    _AppCatalog.prototype.getAppById = function (id) {\r\n        return tag.configure(App(this, \"getById('\" + id + \"')\"), \"ac.getAppById\");\r\n    };\r\n    /**\r\n     * Synchronize a solution to the Microsoft Teams App Catalog\r\n     * @param id - Specify the guid of the app\r\n     * @param useSharePointItemId (optional) - By default this REST call requires the SP Item id of the app, not the app id.\r\n     *                            PnPjs will try to fetch the item id by default, you can still use this parameter to pass your own item id in the first parameter\r\n     */\r\n    _AppCatalog.prototype.syncSolutionToTeams = function (id, useSharePointItemId) {\r\n        if (useSharePointItemId === void 0) { useSharePointItemId = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var appId, webUrl, web, listId, listItems, poster;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        appId = null;\r\n                        webUrl = extractWebUrl(this.toUrl());\r\n                        if (!useSharePointItemId) return [3 /*break*/, 1];\r\n                        appId = id;\r\n                        return [3 /*break*/, 4];\r\n                    case 1:\r\n                        web = Web(webUrl);\r\n                        return [4 /*yield*/, web.lists.select(\"Id\").filter(\"EntityTypeName eq 'AppCatalog'\")()];\r\n                    case 2:\r\n                        listId = (_a.sent())[0].Id;\r\n                        return [4 /*yield*/, web.lists.getById(listId).items.filter(\"AppProductID eq '\" + id + \"'\").top(1)()];\r\n                    case 3:\r\n                        listItems = _a.sent();\r\n                        if (listItems && listItems.length > 0) {\r\n                            appId = listItems[0].Id;\r\n                        }\r\n                        else {\r\n                            throw Error(\"Did not find the app with id \" + id + \" in the appcatalog.\");\r\n                        }\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        poster = tag.configure(AppCatalog(webUrl, \"_api/web/tenantappcatalog/SyncSolutionToTeams(id=\" + appId + \")\"), \"ac.syncSolutionToTeams\");\r\n                        return [4 /*yield*/, spPost(poster, {})];\r\n                    case 5: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Uploads an app package. Not supported for batching\r\n     *\r\n     * @param filename Filename to create.\r\n     * @param content app package data (eg: the .app or .sppkg file).\r\n     * @param shouldOverWrite Should an app with the same name in the same location be overwritten? (default: true)\r\n     * @returns Promise<IAppAddResult>\r\n     */\r\n    _AppCatalog.prototype.add = function (filename, content, shouldOverWrite) {\r\n        if (shouldOverWrite === void 0) { shouldOverWrite = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var adder, r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        adder = tag.configure(AppCatalog(extractWebUrl(this.toUrl()), \"_api/web/tenantappcatalog/add(overwrite=\" + shouldOverWrite + \",url='\" + filename + \"')\"), \"ac.add\");\r\n                        return [4 /*yield*/, spPost(adder, {\r\n                                body: content, headers: {\r\n                                    \"binaryStringRequestBody\": \"true\",\r\n                                },\r\n                            })];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: r,\r\n                                file: File(odataUrlFrom(r)),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return _AppCatalog;\r\n}(_SharePointQueryableCollection));\r\nexport { _AppCatalog };\r\nexport var AppCatalog = spInvokableFactory(_AppCatalog);\r\nvar _App = /** @class */ (function (_super) {\r\n    __extends(_App, _super);\r\n    function _App() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * This method deploys an app on the app catalog. It must be called in the context\r\n     * of the tenant app catalog web or it will fail.\r\n     *\r\n     * @param skipFeatureDeployment Deploy the app to the entire tenant\r\n     */\r\n    _App.prototype.deploy = function (skipFeatureDeployment) {\r\n        if (skipFeatureDeployment === void 0) { skipFeatureDeployment = false; }\r\n        return this.do(\"Deploy(\" + skipFeatureDeployment + \")\");\r\n    };\r\n    /**\r\n     * This method retracts a deployed app on the app catalog. It must be called in the context\r\n     * of the tenant app catalog web or it will fail.\r\n     */\r\n    _App.prototype.retract = function () {\r\n        return this.do(\"Retract\");\r\n    };\r\n    /**\r\n     * This method allows an app which is already deployed to be installed on a web\r\n     */\r\n    _App.prototype.install = function () {\r\n        return this.do(\"Install\");\r\n    };\r\n    /**\r\n     * This method allows an app which is already installed to be uninstalled on a web\r\n     * Note: when you use the REST API to uninstall a solution package from the site, it is not relocated to the recycle bin\r\n     */\r\n    _App.prototype.uninstall = function () {\r\n        return this.do(\"Uninstall\");\r\n    };\r\n    /**\r\n     * This method allows an app which is already installed to be upgraded on a web\r\n     */\r\n    _App.prototype.upgrade = function () {\r\n        return this.do(\"Upgrade\");\r\n    };\r\n    /**\r\n     * This method removes an app from the app catalog. It must be called in the context\r\n     * of the tenant app catalog web or it will fail.\r\n     */\r\n    _App.prototype.remove = function () {\r\n        return this.do(\"Remove\");\r\n    };\r\n    _App.prototype.do = function (path) {\r\n        return spPost(this.clone(App, path));\r\n    };\r\n    __decorate([\r\n        tag(\"app.deploy\")\r\n    ], _App.prototype, \"deploy\", null);\r\n    __decorate([\r\n        tag(\"app.retract\")\r\n    ], _App.prototype, \"retract\", null);\r\n    __decorate([\r\n        tag(\"app.install\")\r\n    ], _App.prototype, \"install\", null);\r\n    __decorate([\r\n        tag(\"app.uninstall\")\r\n    ], _App.prototype, \"uninstall\", null);\r\n    __decorate([\r\n        tag(\"app.upgrade\")\r\n    ], _App.prototype, \"upgrade\", null);\r\n    __decorate([\r\n        tag(\"app.remove\")\r\n    ], _App.prototype, \"remove\", null);\r\n    return _App;\r\n}(_SharePointQueryableInstance));\r\nexport { _App };\r\nexport var App = spInvokableFactory(_App);\r\n","import { _Web } from \"../webs/types\";\r\nimport { AppCatalog } from \"./types\";\r\n_Web.prototype.getAppCatalog = function (url) {\r\n    return AppCatalog(url || this);\r\n};\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { SPRest } from \"../rest\";\r\nimport { Web } from \"../webs/types\";\r\nimport \"./web\";\r\nimport { SharePointQueryable } from \"../sharepointqueryable\";\r\nexport { App, AppCatalog, } from \"./types\";\r\nSPRest.prototype.getTenantAppCatalogWeb = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var data;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, SharePointQueryable(\"/\", \"_api/SP_TenantSettings_Current\")()];\r\n                case 1:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, Web(data.CorporateCatalogUrl)];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { TextParser, BlobParser, JSONParser, BufferParser, headers } from \"@pnp/odata\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Attachments = /** @class */ (function (_super) {\r\n    __extends(_Attachments, _super);\r\n    function _Attachments() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n    * Gets a Attachment File by filename\r\n    *\r\n    * @param name The name of the file, including extension.\r\n    */\r\n    _Attachments.prototype.getByName = function (name) {\r\n        var f = tag.configure(Attachment(this), \"ats.getByName\");\r\n        f.concat(\"('\" + name + \"')\");\r\n        return f;\r\n    };\r\n    /**\r\n     * Adds a new attachment to the collection. Not supported for batching.\r\n     *\r\n     * @param name The name of the file, including extension.\r\n     * @param content The Base64 file content.\r\n     */\r\n    _Attachments.prototype.add = function (name, content) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Attachments, \"add(FileName='\" + name + \"')\", false), { body: content })];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: response,\r\n                                file: this.getByName(name),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds multiple new attachment to the collection. Not supported for batching.\r\n     *\r\n     * @param files The collection of files to add\r\n     */\r\n    _Attachments.prototype.addMultiple = function (files) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < files.length)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this.add(files[i].name, files[i].content)];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Delete multiple attachments from the collection. Not supported for batching.\r\n     *\r\n     * @param files The collection of files to delete\r\n     */\r\n    _Attachments.prototype.deleteMultiple = function () {\r\n        var files = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            files[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < files.length)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this.getByName(files[i]).delete()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Delete multiple attachments from the collection and send to recycle bin. Not supported for batching.\r\n     *\r\n     * @param files The collection of files to be deleted and sent to recycle bin\r\n     */\r\n    _Attachments.prototype.recycleMultiple = function () {\r\n        var files = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            files[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var i;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        i = 0;\r\n                        _a.label = 1;\r\n                    case 1:\r\n                        if (!(i < files.length)) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, this.getByName(files[i]).recycle()];\r\n                    case 2:\r\n                        _a.sent();\r\n                        _a.label = 3;\r\n                    case 3:\r\n                        i++;\r\n                        return [3 /*break*/, 1];\r\n                    case 4: return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"ats.add\")\r\n    ], _Attachments.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"ats.addMultiple\")\r\n    ], _Attachments.prototype, \"addMultiple\", null);\r\n    __decorate([\r\n        tag(\"ats.deleteMultiple\")\r\n    ], _Attachments.prototype, \"deleteMultiple\", null);\r\n    __decorate([\r\n        tag(\"ats.recycleMultiple\")\r\n    ], _Attachments.prototype, \"recycleMultiple\", null);\r\n    _Attachments = __decorate([\r\n        defaultPath(\"AttachmentFiles\")\r\n    ], _Attachments);\r\n    return _Attachments;\r\n}(_SharePointQueryableCollection));\r\nexport { _Attachments };\r\nexport var Attachments = spInvokableFactory(_Attachments);\r\nvar _Attachment = /** @class */ (function (_super) {\r\n    __extends(_Attachment, _super);\r\n    function _Attachment() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"at\");\r\n        return _this;\r\n    }\r\n    /**\r\n     * Gets the contents of the file as text\r\n     *\r\n     */\r\n    _Attachment.prototype.getText = function () {\r\n        return this.getParsed(new TextParser());\r\n    };\r\n    /**\r\n     * Gets the contents of the file as a blob, does not work in Node.js\r\n     *\r\n     */\r\n    _Attachment.prototype.getBlob = function () {\r\n        return this.getParsed(new BlobParser());\r\n    };\r\n    /**\r\n     * Gets the contents of a file as an ArrayBuffer, works in Node.js\r\n     */\r\n    _Attachment.prototype.getBuffer = function () {\r\n        return this.getParsed(new BufferParser());\r\n    };\r\n    /**\r\n     * Gets the contents of a file as an ArrayBuffer, works in Node.js\r\n     */\r\n    _Attachment.prototype.getJSON = function () {\r\n        return this.getParsed(new JSONParser());\r\n    };\r\n    /**\r\n     * Sets the content of a file. Not supported for batching\r\n     *\r\n     * @param content The value to set for the file contents\r\n     */\r\n    _Attachment.prototype.setContent = function (content) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Attachment, \"$value\", false), headers({ \"X-HTTP-Method\": \"PUT\" }, {\r\n                            body: content,\r\n                        }))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, Attachment(this)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Delete this attachment file and send it to recycle bin\r\n     *\r\n     * @param eTag Value used in the IF-Match header, by default \"*\"\r\n     */\r\n    _Attachment.prototype.recycle = function (eTag) {\r\n        if (eTag === void 0) { eTag = \"*\"; }\r\n        return spPost(this.clone(Attachment, \"recycleObject\"), headers({\r\n            \"IF-Match\": eTag,\r\n            \"X-HTTP-Method\": \"DELETE\",\r\n        }));\r\n    };\r\n    _Attachment.prototype.getParsed = function (parser) {\r\n        return this.clone(Attachment, \"$value\", false).usingParser(parser)();\r\n    };\r\n    __decorate([\r\n        tag(\"at.getText\")\r\n    ], _Attachment.prototype, \"getText\", null);\r\n    __decorate([\r\n        tag(\"at.getBlob\")\r\n    ], _Attachment.prototype, \"getBlob\", null);\r\n    __decorate([\r\n        tag(\"at.getBuffer\")\r\n    ], _Attachment.prototype, \"getBuffer\", null);\r\n    __decorate([\r\n        tag(\"at.getJSON\")\r\n    ], _Attachment.prototype, \"getJSON\", null);\r\n    __decorate([\r\n        tag(\"at.setContent\")\r\n    ], _Attachment.prototype, \"setContent\", null);\r\n    __decorate([\r\n        tag(\"at.recycle\")\r\n    ], _Attachment.prototype, \"recycle\", null);\r\n    return _Attachment;\r\n}(_SharePointQueryableInstance));\r\nexport { _Attachment };\r\nexport var Attachment = spInvokableFactory(_Attachment);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Item } from \"../items/types\";\r\nimport { Attachments } from \"./types\";\r\naddProp(_Item, \"attachmentFiles\", Attachments);\r\n","import \"./item\";\r\nexport { Attachment, Attachments, } from \"./types\";\r\n","import { hOP } from \"@pnp/common\";\r\n/**\r\n * Gets the next order value 1 based for the provided collection\r\n *\r\n * @param collection Collection of orderable things\r\n */\r\nexport function getNextOrder(collection) {\r\n    return collection.length < 1 ? 1 : (Math.max.apply(null, collection.map(function (i) { return i.order; })) + 1);\r\n}\r\n/**\r\n * Normalizes the order value for all the sections, columns, and controls to be 1 based and stepped (1, 2, 3...)\r\n *\r\n * @param collection The collection to normalize\r\n */\r\nexport function reindex(collection) {\r\n    for (var i = 0; i < collection.length; i++) {\r\n        collection[i].order = i + 1;\r\n        if (hOP(collection[i], \"columns\")) {\r\n            reindex(collection[i].columns);\r\n        }\r\n        else if (hOP(collection[i], \"controls\")) {\r\n            reindex(collection[i].controls);\r\n        }\r\n    }\r\n}\r\n","import { _Web } from \"../webs/types\";\r\nimport { File } from \"./types\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\n_Web.prototype.getFileByServerRelativeUrl = function (fileRelativeUrl) {\r\n    return File(this, \"getFileByServerRelativeUrl('\" + escapeQueryStrValue(fileRelativeUrl) + \"')\");\r\n};\r\n_Web.prototype.getFileByServerRelativePath = function (fileRelativeUrl) {\r\n    return File(this, \"getFileByServerRelativePath(decodedUrl='\" + escapeQueryStrValue(fileRelativeUrl) + \"')\");\r\n};\r\n_Web.prototype.getFileById = function (uniqueId) {\r\n    return File(this, \"getFileById('\" + uniqueId + \"')\");\r\n};\r\n_Web.prototype.getFileByUrl = function (fileUrl) {\r\n    return File(this, \"getFileByUrl('!@p1::\" + escapeQueryStrValue(fileUrl) + \"')\");\r\n};\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Comments = /** @class */ (function (_super) {\r\n    __extends(_Comments, _super);\r\n    function _Comments() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Adds a new comment to this collection\r\n     *\r\n     * @param info Comment information to add\r\n     */\r\n    _Comments.prototype.add = function (info) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, d;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof info === \"string\") {\r\n                            info = { text: info };\r\n                        }\r\n                        postBody = body(assign(metadata(\"Microsoft.SharePoint.Comments.comment\"), info));\r\n                        return [4 /*yield*/, spPost(this.clone(Comments, null), postBody)];\r\n                    case 1:\r\n                        d = _a.sent();\r\n                        return [2 /*return*/, assign(this.getById(d.id), d)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a comment by id\r\n     *\r\n     * @param id Id of the comment to load\r\n     */\r\n    _Comments.prototype.getById = function (id) {\r\n        return tag.configure(Comment(this).concat(\"(\" + id + \")\"), \"coms.getById\");\r\n    };\r\n    /**\r\n     * Deletes all the comments in this collection\r\n     */\r\n    _Comments.prototype.clear = function () {\r\n        return spPost(tag.configure(this.clone(Comments, \"DeleteAll\"), \"coms.clear\"));\r\n    };\r\n    __decorate([\r\n        tag(\"coms.add\")\r\n    ], _Comments.prototype, \"add\", null);\r\n    _Comments = __decorate([\r\n        defaultPath(\"comments\")\r\n    ], _Comments);\r\n    return _Comments;\r\n}(_SharePointQueryableCollection));\r\nexport { _Comments };\r\nexport var Comments = spInvokableFactory(_Comments);\r\nvar _Comment = /** @class */ (function (_super) {\r\n    __extends(_Comment, _super);\r\n    function _Comment() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Comment.prototype, \"replies\", {\r\n        /**\r\n         * A comment's replies\r\n         */\r\n        get: function () {\r\n            return tag.configure(Replies(this), \"com.replies\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Likes the comment as the current user\r\n     */\r\n    _Comment.prototype.like = function () {\r\n        return spPost(this.clone(Comment, \"Like\"));\r\n    };\r\n    /**\r\n     * Unlikes the comment as the current user\r\n     */\r\n    _Comment.prototype.unlike = function () {\r\n        return spPost(this.clone(Comment, \"Unlike\"));\r\n    };\r\n    /**\r\n     * Deletes this comment\r\n     */\r\n    _Comment.prototype.delete = function () {\r\n        return spPost(this.clone(Comment, \"DeleteComment\"));\r\n    };\r\n    __decorate([\r\n        tag(\"com.like\")\r\n    ], _Comment.prototype, \"like\", null);\r\n    __decorate([\r\n        tag(\"com.unlike\")\r\n    ], _Comment.prototype, \"unlike\", null);\r\n    __decorate([\r\n        tag(\"com.delete\")\r\n    ], _Comment.prototype, \"delete\", null);\r\n    return _Comment;\r\n}(_SharePointQueryableInstance));\r\nexport { _Comment };\r\nexport var Comment = spInvokableFactory(_Comment);\r\nvar _Replies = /** @class */ (function (_super) {\r\n    __extends(_Replies, _super);\r\n    function _Replies() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Adds a new reply to this collection\r\n     *\r\n     * @param info Comment information to add\r\n     */\r\n    _Replies.prototype.add = function (info) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, d;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof info === \"string\") {\r\n                            info = { text: info };\r\n                        }\r\n                        postBody = body(assign(metadata(\"Microsoft.SharePoint.Comments.comment\"), info));\r\n                        return [4 /*yield*/, spPost(this.clone(Replies, null), postBody)];\r\n                    case 1:\r\n                        d = _a.sent();\r\n                        return [2 /*return*/, assign(Comment(odataUrlFrom(d)), d)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"reps.add\")\r\n    ], _Replies.prototype, \"add\", null);\r\n    _Replies = __decorate([\r\n        defaultPath(\"replies\")\r\n    ], _Replies);\r\n    return _Replies;\r\n}(_SharePointQueryableCollection));\r\nexport { _Replies };\r\nexport var Replies = spInvokableFactory(_Replies);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Item, Item } from \"../items/types\";\r\nimport { Comments } from \"./types\";\r\nimport { spPost } from \"../operations\";\r\naddProp(_Item, \"comments\", Comments);\r\n_Item.prototype.getLikedBy = function () {\r\n    return spPost(this.clone(Item, \"likedBy\"));\r\n};\r\n_Item.prototype.like = function () {\r\n    return spPost(this.clone(Item, \"like\"));\r\n};\r\n_Item.prototype.unlike = function () {\r\n    return spPost(this.clone(Item, \"unlike\"));\r\n};\r\n_Item.prototype.getLikedByInformation = function () {\r\n    return this.clone(Item, \"likedByInformation\").expand(\"likedby\")();\r\n};\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { invokableFactory, body, headers } from \"@pnp/odata\";\r\nimport { assign, getGUID, hOP, stringIsNullOrEmpty, objectDefinedNotNull, combine, isUrlAbsolute, isArray } from \"@pnp/common\";\r\nimport { Item } from \"../items/types\";\r\nimport { SharePointQueryable, _SharePointQueryable, SharePointQueryableCollection } from \"../sharepointqueryable\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { List } from \"../lists/types\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { Web } from \"../webs/types\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { Site } from \"../sites/types\";\r\nimport { spPost } from \"../operations\";\r\nimport { getNextOrder, reindex } from \"./funcs\";\r\nimport \"../files/web\";\r\nimport \"../comments/item\";\r\nimport { tag } from \"../telemetry\";\r\n/**\r\n * Page promotion state\r\n */\r\nexport var PromotedState;\r\n(function (PromotedState) {\r\n    /**\r\n     * Regular client side page\r\n     */\r\n    PromotedState[PromotedState[\"NotPromoted\"] = 0] = \"NotPromoted\";\r\n    /**\r\n     * Page that will be promoted as news article after publishing\r\n     */\r\n    PromotedState[PromotedState[\"PromoteOnPublish\"] = 1] = \"PromoteOnPublish\";\r\n    /**\r\n     * Page that is promoted as news article\r\n     */\r\n    PromotedState[PromotedState[\"Promoted\"] = 2] = \"Promoted\";\r\n})(PromotedState || (PromotedState = {}));\r\nfunction initFrom(o, url) {\r\n    return ClientsidePage(extractWebUrl(o.toUrl()), url).configureFrom(o);\r\n}\r\n/**\r\n * Represents the data and methods associated with client side \"modern\" pages\r\n */\r\nvar _ClientsidePage = /** @class */ (function (_super) {\r\n    __extends(_ClientsidePage, _super);\r\n    /**\r\n     * PLEASE DON'T USE THIS CONSTRUCTOR DIRECTLY, thank you 🐇\r\n     */\r\n    function _ClientsidePage(baseUrl, path, json, noInit, sections, commentsDisabled) {\r\n        if (noInit === void 0) { noInit = false; }\r\n        if (sections === void 0) { sections = []; }\r\n        if (commentsDisabled === void 0) { commentsDisabled = false; }\r\n        var _this = _super.call(this, baseUrl, path) || this;\r\n        _this.json = json;\r\n        _this.sections = sections;\r\n        _this.commentsDisabled = commentsDisabled;\r\n        _this._bannerImageDirty = false;\r\n        // ensure we have a good url to build on for the pages api\r\n        if (typeof baseUrl === \"string\") {\r\n            _this.data.parentUrl = \"\";\r\n            _this.data.url = combine(extractWebUrl(baseUrl), path);\r\n        }\r\n        else {\r\n            _this.assign(initFrom(baseUrl, null), path);\r\n        }\r\n        // set a default page settings slice\r\n        _this._pageSettings = { controlType: 0, pageSettingsSlice: { isDefaultDescription: true, isDefaultThumbnail: true } };\r\n        // set a default layout part\r\n        _this._layoutPart = _ClientsidePage.getDefaultLayoutPart();\r\n        if (typeof json !== \"undefined\" && !noInit) {\r\n            _this.fromJSON(json);\r\n        }\r\n        return _this;\r\n    }\r\n    _ClientsidePage.getDefaultLayoutPart = function () {\r\n        return {\r\n            dataVersion: \"1.4\",\r\n            description: \"Title Region Description\",\r\n            id: \"cbe7b0a9-3504-44dd-a3a3-0e5cacd07788\",\r\n            instanceId: \"cbe7b0a9-3504-44dd-a3a3-0e5cacd07788\",\r\n            properties: {\r\n                authorByline: [],\r\n                authors: [],\r\n                layoutType: \"FullWidthImage\",\r\n                showPublishDate: false,\r\n                showTopicHeader: false,\r\n                textAlignment: \"Left\",\r\n                title: \"\",\r\n                topicHeader: \"\",\r\n            },\r\n            serverProcessedContent: { htmlStrings: {}, searchablePlainTexts: {}, imageSources: {}, links: {} },\r\n            title: \"Title area\",\r\n        };\r\n    };\r\n    Object.defineProperty(_ClientsidePage.prototype, \"pageLayout\", {\r\n        get: function () {\r\n            return this.json.PageLayoutType;\r\n        },\r\n        set: function (value) {\r\n            this.json.PageLayoutType = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"bannerImageUrl\", {\r\n        get: function () {\r\n            return this.json.BannerImageUrl;\r\n        },\r\n        set: function (value) {\r\n            this.json.BannerImageUrl = value;\r\n            this._bannerImageDirty = true;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"topicHeader\", {\r\n        get: function () {\r\n            return objectDefinedNotNull(this.json.TopicHeader) ? this.json.TopicHeader : \"\";\r\n        },\r\n        set: function (value) {\r\n            this.json.TopicHeader = value;\r\n            this._layoutPart.properties.topicHeader = value;\r\n            if (stringIsNullOrEmpty(value)) {\r\n                this.showTopicHeader = false;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"title\", {\r\n        get: function () {\r\n            return this._layoutPart.properties.title;\r\n        },\r\n        set: function (value) {\r\n            this.json.Title = value;\r\n            this._layoutPart.properties.title = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"layoutType\", {\r\n        get: function () {\r\n            return this._layoutPart.properties.layoutType;\r\n        },\r\n        set: function (value) {\r\n            this._layoutPart.properties.layoutType = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"headerTextAlignment\", {\r\n        get: function () {\r\n            return this._layoutPart.properties.textAlignment;\r\n        },\r\n        set: function (value) {\r\n            this._layoutPart.properties.textAlignment = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"showTopicHeader\", {\r\n        get: function () {\r\n            return this._layoutPart.properties.showTopicHeader;\r\n        },\r\n        set: function (value) {\r\n            this._layoutPart.properties.showTopicHeader = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"showPublishDate\", {\r\n        get: function () {\r\n            return this._layoutPart.properties.showPublishDate;\r\n        },\r\n        set: function (value) {\r\n            this._layoutPart.properties.showPublishDate = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"hasVerticalSection\", {\r\n        get: function () {\r\n            return this.sections.findIndex(function (s) { return s.layoutIndex === 2; }) > -1;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"authorByLine\", {\r\n        get: function () {\r\n            if (isArray(this.json.AuthorByline) && this.json.AuthorByline.length > 0) {\r\n                return this.json.AuthorByline[0];\r\n            }\r\n            return null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ClientsidePage.prototype, \"verticalSection\", {\r\n        get: function () {\r\n            if (this.hasVerticalSection) {\r\n                return this.addVerticalSection();\r\n            }\r\n            return null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Add a section to this page\r\n     */\r\n    _ClientsidePage.prototype.addSection = function () {\r\n        var section = new CanvasSection(this, getNextOrder(this.sections), 1);\r\n        this.sections.push(section);\r\n        return section;\r\n    };\r\n    /**\r\n     * Add a section to this page\r\n     */\r\n    _ClientsidePage.prototype.addVerticalSection = function () {\r\n        // we can only have one vertical section so we find it if it exists\r\n        var sectionIndex = this.sections.findIndex(function (s) { return s.layoutIndex === 2; });\r\n        if (sectionIndex > -1) {\r\n            return this.sections[sectionIndex];\r\n        }\r\n        var section = new CanvasSection(this, getNextOrder(this.sections), 2);\r\n        this.sections.push(section);\r\n        return section;\r\n    };\r\n    /**\r\n     * Loads this instance from the appropriate JSON data\r\n     *\r\n     * @param pageData JSON data to load (replaces any existing data)\r\n     */\r\n    _ClientsidePage.prototype.fromJSON = function (pageData) {\r\n        this.json = pageData;\r\n        var canvasControls = JSON.parse(pageData.CanvasContent1);\r\n        var layouts = JSON.parse(pageData.LayoutWebpartsContent);\r\n        if (layouts && layouts.length > 0) {\r\n            this._layoutPart = layouts[0];\r\n        }\r\n        this.setControls(canvasControls);\r\n        return this;\r\n    };\r\n    /**\r\n     * Loads this page's content from the server\r\n     */\r\n    _ClientsidePage.prototype.load = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var item, pageData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.getItem(\"Id\", \"CommentsDisabled\")];\r\n                    case 1:\r\n                        item = _a.sent();\r\n                        return [4 /*yield*/, SharePointQueryable(this, \"_api/sitepages/pages(\" + item.Id + \")\")()];\r\n                    case 2:\r\n                        pageData = _a.sent();\r\n                        this.commentsDisabled = item.CommentsDisabled;\r\n                        return [2 /*return*/, this.fromJSON(pageData)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Persists the content changes (sections, columns, and controls) [does not work with batching]\r\n     *\r\n     * @param publish If true the page is published, if false the changes are persisted to SharePoint but not published [Default: true]\r\n     */\r\n    _ClientsidePage.prototype.save = function (publish) {\r\n        if (publish === void 0) { publish = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var origImgUrl, site, web, imgFile, siteId_1, webId_1, imgId_1, listId_1, webUrl_1, batch, f, saveBody, updater, r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.json.Id === null) {\r\n                            throw Error(\"The id for this page is null. If you want to create a new page, please use ClientSidePage.Create\");\r\n                        }\r\n                        if (!this._bannerImageDirty) return [3 /*break*/, 2];\r\n                        origImgUrl = this.json.BannerImageUrl;\r\n                        if (isUrlAbsolute(origImgUrl)) {\r\n                            // do our best to make this a server relative url by removing the x.sharepoint.com part\r\n                            origImgUrl = origImgUrl.replace(/^https?:\\/\\/[a-z0-9\\.]*?\\.[a-z]{2,3}\\//i, \"/\");\r\n                        }\r\n                        site = Site(extractWebUrl(this.toUrl()));\r\n                        web = Web(extractWebUrl(this.toUrl()));\r\n                        imgFile = web.getFileByServerRelativePath(origImgUrl);\r\n                        siteId_1 = \"\";\r\n                        webId_1 = \"\";\r\n                        imgId_1 = \"\";\r\n                        listId_1 = \"\";\r\n                        webUrl_1 = \"\";\r\n                        batch = web.createBatch();\r\n                        site.select(\"Id\", \"Url\").inBatch(batch)().then(function (r1) { return siteId_1 = r1.Id; });\r\n                        web.select(\"Id\", \"Url\").inBatch(batch)().then(function (r2) { webId_1 = r2.Id; webUrl_1 = r2.Url; });\r\n                        imgFile.listItemAllFields.select(\"UniqueId\", \"ParentList/Id\").expand(\"ParentList\").inBatch(batch)()\r\n                            .then(function (r3) { imgId_1 = r3.UniqueId; listId_1 = r3.ParentList.Id; });\r\n                        // we know the .then calls above will run before execute resolves, ensuring the vars are set\r\n                        return [4 /*yield*/, batch.execute()];\r\n                    case 1:\r\n                        // we know the .then calls above will run before execute resolves, ensuring the vars are set\r\n                        _a.sent();\r\n                        f = SharePointQueryable(webUrl_1, \"_layouts/15/getpreview.ashx\");\r\n                        f.query.set(\"guidSite\", \"\" + siteId_1);\r\n                        f.query.set(\"guidWeb\", \"\" + webId_1);\r\n                        f.query.set(\"guidFile\", \"\" + imgId_1);\r\n                        this.bannerImageUrl = f.toUrlAndQuery();\r\n                        if (!objectDefinedNotNull(this._layoutPart.serverProcessedContent)) {\r\n                            this._layoutPart.serverProcessedContent = {};\r\n                        }\r\n                        this._layoutPart.serverProcessedContent.imageSources = { imageSource: origImgUrl };\r\n                        if (!objectDefinedNotNull(this._layoutPart.serverProcessedContent.customMetadata)) {\r\n                            this._layoutPart.serverProcessedContent.customMetadata = {};\r\n                        }\r\n                        this._layoutPart.serverProcessedContent.customMetadata.imageSource = {\r\n                            listId: listId_1,\r\n                            siteId: siteId_1,\r\n                            uniqueId: imgId_1,\r\n                            webId: webId_1,\r\n                        };\r\n                        this._layoutPart.properties.webId = webId_1;\r\n                        this._layoutPart.properties.siteId = siteId_1;\r\n                        this._layoutPart.properties.listId = listId_1;\r\n                        this._layoutPart.properties.uniqueId = imgId_1;\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        if (!!this.json.IsPageCheckedOutToCurrentUser) return [3 /*break*/, 4];\r\n                        return [4 /*yield*/, spPost(initFrom(this, \"_api/sitepages/pages(\" + this.json.Id + \")/checkoutpage\"))];\r\n                    case 3:\r\n                        _a.sent();\r\n                        _a.label = 4;\r\n                    case 4:\r\n                        saveBody = Object.assign(metadata(\"SP.Publishing.SitePage\"), {\r\n                            AuthorByline: this.json.AuthorByline || [],\r\n                            BannerImageUrl: this.bannerImageUrl,\r\n                            CanvasContent1: this.getCanvasContent1(),\r\n                            LayoutWebpartsContent: this.getLayoutWebpartsContent(),\r\n                            Title: this.title,\r\n                            TopicHeader: this.topicHeader,\r\n                        });\r\n                        updater = initFrom(this, \"_api/sitepages/pages(\" + this.json.Id + \")/savepage\");\r\n                        return [4 /*yield*/, spPost(updater, headers({ \"if-match\": \"*\" }, body(saveBody)))];\r\n                    case 5:\r\n                        _a.sent();\r\n                        r = true;\r\n                        if (!publish) return [3 /*break*/, 7];\r\n                        return [4 /*yield*/, spPost(initFrom(this, \"_api/sitepages/pages(\" + this.json.Id + \")/publish\"))];\r\n                    case 6:\r\n                        r = _a.sent();\r\n                        if (r) {\r\n                            this.json.IsPageCheckedOutToCurrentUser = false;\r\n                        }\r\n                        _a.label = 7;\r\n                    case 7:\r\n                        this._bannerImageDirty = false;\r\n                        return [2 /*return*/, r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Discards the checkout of this page\r\n     */\r\n    _ClientsidePage.prototype.discardPageCheckout = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var d;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.json.Id === null) {\r\n                            throw Error(\"The id for this page is null. If you want to create a new page, please use ClientSidePage.Create\");\r\n                        }\r\n                        return [4 /*yield*/, spPost(initFrom(this, \"_api/sitepages/pages(\" + this.json.Id + \")/discardPage\"), body(metadata(\"SP.Publishing.SitePage\")))];\r\n                    case 1:\r\n                        d = _a.sent();\r\n                        this.fromJSON(d);\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Promotes this page as a news item\r\n     */\r\n    _ClientsidePage.prototype.promoteToNews = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                return [2 /*return*/, this.promoteNewsImpl(\"promoteToNews\")];\r\n            });\r\n        });\r\n    };\r\n    // API is currently broken on server side\r\n    // public async demoteFromNews(): Promise<boolean> {\r\n    //     return this.promoteNewsImpl(\"demoteFromNews\");\r\n    // }\r\n    /**\r\n     * Finds a control by the specified instance id\r\n     *\r\n     * @param id Instance id of the control to find\r\n     */\r\n    _ClientsidePage.prototype.findControlById = function (id) {\r\n        return this.findControl(function (c) { return c.id === id; });\r\n    };\r\n    /**\r\n     * Finds a control within this page's control tree using the supplied predicate\r\n     *\r\n     * @param predicate Takes a control and returns true or false, if true that control is returned by findControl\r\n     */\r\n    _ClientsidePage.prototype.findControl = function (predicate) {\r\n        // check all sections\r\n        for (var i = 0; i < this.sections.length; i++) {\r\n            // check all columns\r\n            for (var j = 0; j < this.sections[i].columns.length; j++) {\r\n                // check all controls\r\n                for (var k = 0; k < this.sections[i].columns[j].controls.length; k++) {\r\n                    // check to see if the predicate likes this control\r\n                    if (predicate(this.sections[i].columns[j].controls[k])) {\r\n                        return this.sections[i].columns[j].controls[k];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        // we found nothing so give nothing back\r\n        return null;\r\n    };\r\n    /**\r\n     * Creates a copy of this page\r\n     *\r\n     * @param web The web where we will create the copy\r\n     * @param pageName The file name of the new page\r\n     * @param title The title of the new page\r\n     * @param publish If true the page will be published\r\n     */\r\n    _ClientsidePage.prototype.copy = function (web, pageName, title, publish, promotedState) {\r\n        if (publish === void 0) { publish = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var page, url, makeGuid, guidSite, guidWeb, guidFile, site, id, openWeb, file, props;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, CreateClientsidePage(web, pageName, title, this.pageLayout, promotedState)];\r\n                    case 1:\r\n                        page = _a.sent();\r\n                        // we know the method is on the class - but it is protected so not part of the interface\r\n                        page.setControls(this.getControls());\r\n                        if (!!stringIsNullOrEmpty(this.json.BannerImageUrl)) return [3 /*break*/, 5];\r\n                        url = new URL(this.json.BannerImageUrl);\r\n                        makeGuid = function (s) { return s.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/g, \"$1-$2-$3-$4-$5\"); };\r\n                        if (!(url.searchParams.has(\"guidSite\") && url.searchParams.has(\"guidWeb\") && url.searchParams.has(\"guidFile\"))) return [3 /*break*/, 5];\r\n                        guidSite = makeGuid(url.searchParams.get(\"guidSite\"));\r\n                        guidWeb = makeGuid(url.searchParams.get(\"guidWeb\"));\r\n                        guidFile = makeGuid(url.searchParams.get(\"guidFile\"));\r\n                        site = Site(extractWebUrl(this.toUrl()));\r\n                        return [4 /*yield*/, site.select(\"Id\")()];\r\n                    case 2:\r\n                        id = _a.sent();\r\n                        if (!(id.Id === guidSite)) return [3 /*break*/, 5];\r\n                        return [4 /*yield*/, site.openWebById(guidWeb)];\r\n                    case 3:\r\n                        openWeb = _a.sent();\r\n                        return [4 /*yield*/, openWeb.web.getFileById(guidFile).select(\"ServerRelativeUrl\")()];\r\n                    case 4:\r\n                        file = _a.sent();\r\n                        props = {};\r\n                        if (this._layoutPart.properties) {\r\n                            if (hOP(this._layoutPart.properties, \"translateX\")) {\r\n                                props.translateX = this._layoutPart.properties.translateX;\r\n                            }\r\n                            if (hOP(this._layoutPart.properties, \"translateY\")) {\r\n                                props.translateY = this._layoutPart.properties.translateY;\r\n                            }\r\n                            if (hOP(this._layoutPart.properties, \"imageSourceType\")) {\r\n                                props.imageSourceType = this._layoutPart.properties.imageSourceType;\r\n                            }\r\n                            if (hOP(this._layoutPart.properties, \"altText\")) {\r\n                                props.altText = this._layoutPart.properties.altText;\r\n                            }\r\n                        }\r\n                        page.setBannerImage(file.ServerRelativeUrl, props);\r\n                        _a.label = 5;\r\n                    case 5: return [4 /*yield*/, page.save(publish)];\r\n                    case 6:\r\n                        _a.sent();\r\n                        return [2 /*return*/, page];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Sets the modern page banner image\r\n     *\r\n     * @param url Url of the image to display\r\n     * @param altText Alt text to describe the image\r\n     * @param bannerProps Additional properties to control display of the banner\r\n     */\r\n    _ClientsidePage.prototype.setBannerImage = function (url, props) {\r\n        this.bannerImageUrl = url;\r\n        this._layoutPart.properties.imageSourceType = 2; // this seems to always be true, so default?\r\n        if (objectDefinedNotNull(props)) {\r\n            if (hOP(props, \"translateX\")) {\r\n                this._layoutPart.properties.translateX = props.translateX;\r\n            }\r\n            if (hOP(props, \"translateY\")) {\r\n                this._layoutPart.properties.translateY = props.translateY;\r\n            }\r\n            if (hOP(props, \"imageSourceType\")) {\r\n                this._layoutPart.properties.imageSourceType = props.imageSourceType;\r\n            }\r\n            if (hOP(props, \"altText\")) {\r\n                this._layoutPart.properties.altText = props.altText;\r\n            }\r\n        }\r\n    };\r\n    /**\r\n     * Sets the authors for this page from the supplied list of user integer ids\r\n     *\r\n     * @param authorId The integer id of the user to set as the author\r\n     */\r\n    _ClientsidePage.prototype.setAuthorById = function (authorId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var userLoginData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, SharePointQueryableCollection(extractWebUrl(this.toUrl()), \"/_api/web/siteusers\")\r\n                            .configureFrom(this)\r\n                            .filter(\"Id eq \" + authorId)\r\n                            .select(\"LoginName\")()];\r\n                    case 1:\r\n                        userLoginData = _a.sent();\r\n                        if (userLoginData.length < 1) {\r\n                            throw Error(\"Could not find user with id \" + authorId + \".\");\r\n                        }\r\n                        return [2 /*return*/, this.setAuthorByLoginName(userLoginData[0].LoginName)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Sets the authors for this page from the supplied list of user integer ids\r\n     *\r\n     * @param authorLoginName The login name of the user (ex: i:0#.f|membership|name@tenant.com)\r\n     */\r\n    _ClientsidePage.prototype.setAuthorByLoginName = function (authorLoginName) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var userLoginData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, SharePointQueryableCollection(extractWebUrl(this.toUrl()), \"/_api/web/siteusers\")\r\n                            .configureFrom(this)\r\n                            .filter(\"LoginName eq '\" + encodeURIComponent(authorLoginName) + \"'\")\r\n                            .select(\"UserPrincipalName\", \"Title\")()];\r\n                    case 1:\r\n                        userLoginData = _a.sent();\r\n                        if (userLoginData.length < 1) {\r\n                            throw Error(\"Could not find user with login name '\" + authorLoginName + \"'.\");\r\n                        }\r\n                        this.json.AuthorByline = [authorLoginName];\r\n                        this._layoutPart.properties.authorByline = [authorLoginName];\r\n                        this._layoutPart.properties.authors = [{\r\n                                id: authorLoginName,\r\n                                name: userLoginData[0].Title,\r\n                                role: \"\",\r\n                                upn: userLoginData[0].UserPrincipalName,\r\n                            }];\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the list item associated with this clientside page\r\n     *\r\n     * @param selects Specific set of fields to include when getting the item\r\n     */\r\n    _ClientsidePage.prototype.getItem = function () {\r\n        var selects = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            selects[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var initer, listData, item, itemData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        initer = initFrom(this, \"/_api/lists/EnsureClientRenderedSitePagesLibrary\").select(\"EnableModeration\", \"EnableMinorVersions\", \"Id\");\r\n                        return [4 /*yield*/, spPost(initer)];\r\n                    case 1:\r\n                        listData = _a.sent();\r\n                        item = (List(listData[\"odata.id\"])).configureFrom(this).items.getById(this.json.Id);\r\n                        return [4 /*yield*/, item.select.apply(item, selects)()];\r\n                    case 2:\r\n                        itemData = _a.sent();\r\n                        return [2 /*return*/, assign((Item(odataUrlFrom(itemData))).configureFrom(this), itemData)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Extends this queryable from the provided parent\r\n     *\r\n     * @param parent Parent queryable from which we will derive a base url\r\n     * @param path Additional path\r\n     */\r\n    _ClientsidePage.prototype.assign = function (parent, path) {\r\n        this.data.parentUrl = parent.data.url;\r\n        this.data.url = combine(this.data.parentUrl, path || \"\");\r\n        this.configureFrom(parent);\r\n    };\r\n    _ClientsidePage.prototype.getCanvasContent1 = function () {\r\n        return JSON.stringify(this.getControls());\r\n    };\r\n    _ClientsidePage.prototype.getLayoutWebpartsContent = function () {\r\n        if (this._layoutPart) {\r\n            return JSON.stringify([this._layoutPart]);\r\n        }\r\n        else {\r\n            return JSON.stringify(null);\r\n        }\r\n    };\r\n    _ClientsidePage.prototype.setControls = function (controls) {\r\n        if (controls && controls.length) {\r\n            for (var i = 0; i < controls.length; i++) {\r\n                // if no control type is present this is a column which we give type 0 to let us process it\r\n                var controlType = hOP(controls[i], \"controlType\") ? controls[i].controlType : 0;\r\n                switch (controlType) {\r\n                    case 0:\r\n                        // empty canvas column or page settings\r\n                        if (hOP(controls[i], \"pageSettingsSlice\")) {\r\n                            this._pageSettings = controls[i];\r\n                        }\r\n                        else {\r\n                            // we have an empty column\r\n                            this.mergeColumnToTree(new CanvasColumn(controls[i]));\r\n                        }\r\n                        break;\r\n                    case 3:\r\n                        var part = new ClientsideWebpart(controls[i]);\r\n                        this.mergePartToTree(part, part.data.position);\r\n                        break;\r\n                    case 4:\r\n                        var textData = controls[i];\r\n                        var text = new ClientsideText(textData.innerHTML, textData);\r\n                        this.mergePartToTree(text, text.data.position);\r\n                        break;\r\n                }\r\n            }\r\n            reindex(this.sections);\r\n        }\r\n    };\r\n    _ClientsidePage.prototype.getControls = function () {\r\n        var _this = this;\r\n        // reindex things\r\n        reindex(this.sections);\r\n        // rollup the control changes\r\n        var canvasData = [];\r\n        this.sections.forEach(function (section) {\r\n            section.columns.forEach(function (column) {\r\n                if (column.controls.length < 1) {\r\n                    // empty column\r\n                    canvasData.push({\r\n                        displayMode: column.data.displayMode,\r\n                        emphasis: _this.getEmphasisObj(section.emphasis),\r\n                        position: column.data.position,\r\n                    });\r\n                }\r\n                else {\r\n                    column.controls.forEach(function (control) {\r\n                        control.data.emphasis = _this.getEmphasisObj(section.emphasis);\r\n                        canvasData.push(control.data);\r\n                    });\r\n                }\r\n            });\r\n        });\r\n        canvasData.push(this._pageSettings);\r\n        return canvasData;\r\n    };\r\n    _ClientsidePage.prototype.getEmphasisObj = function (value) {\r\n        if (value < 1 || value > 3) {\r\n            return {};\r\n        }\r\n        return { zoneEmphasis: value };\r\n    };\r\n    _ClientsidePage.prototype.promoteNewsImpl = function (method) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var lastPubData;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (this.json.Id === null) {\r\n                            throw Error(\"The id for this page is null.\");\r\n                        }\r\n                        if (!stringIsNullOrEmpty(this.json.VersionInfo.LastVersionCreatedBy)) return [3 /*break*/, 2];\r\n                        lastPubData = new Date(this.json.VersionInfo.LastVersionCreated);\r\n                        if (!(lastPubData.getFullYear() < 2000)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.save(true)];\r\n                    case 1:\r\n                        _a.sent();\r\n                        _a.label = 2;\r\n                    case 2: return [4 /*yield*/, spPost(initFrom(this, \"_api/sitepages/pages(\" + this.json.Id + \")/\" + method), body(metadata(\"SP.Publishing.SitePage\")))];\r\n                    case 3: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Merges the control into the tree of sections and columns for this page\r\n     *\r\n     * @param control The control to merge\r\n     */\r\n    _ClientsidePage.prototype.mergePartToTree = function (control, positionData) {\r\n        var _a, _b, _c;\r\n        var column = null;\r\n        var sectionFactor = 12;\r\n        var sectionIndex = 0;\r\n        var zoneIndex = 0;\r\n        var layoutIndex = 1;\r\n        // handle case where we don't have position data (shouldn't happen?)\r\n        if (positionData) {\r\n            if (hOP(positionData, \"zoneIndex\")) {\r\n                zoneIndex = positionData.zoneIndex;\r\n            }\r\n            if (hOP(positionData, \"sectionIndex\")) {\r\n                sectionIndex = positionData.sectionIndex;\r\n            }\r\n            if (hOP(positionData, \"sectionFactor\")) {\r\n                sectionFactor = positionData.sectionFactor;\r\n            }\r\n            if (hOP(positionData, \"layoutIndex\")) {\r\n                layoutIndex = positionData.layoutIndex;\r\n            }\r\n        }\r\n        var zoneEmphasis = (_c = (_b = (_a = control.data) === null || _a === void 0 ? void 0 : _a.emphasis) === null || _b === void 0 ? void 0 : _b.zoneEmphasis) !== null && _c !== void 0 ? _c : 0;\r\n        var section = this.getOrCreateSection(zoneIndex, layoutIndex, zoneEmphasis);\r\n        var columns = section.columns.filter(function (c) { return c.order === sectionIndex; });\r\n        if (columns.length < 1) {\r\n            column = section.addColumn(sectionFactor, layoutIndex);\r\n        }\r\n        else {\r\n            column = columns[0];\r\n        }\r\n        control.column = column;\r\n        column.addControl(control);\r\n    };\r\n    /**\r\n     * Merges the supplied column into the tree\r\n     *\r\n     * @param column Column to merge\r\n     * @param position The position data for the column\r\n     */\r\n    _ClientsidePage.prototype.mergeColumnToTree = function (column) {\r\n        var order = hOP(column.data, \"position\") && hOP(column.data.position, \"zoneIndex\") ? column.data.position.zoneIndex : 0;\r\n        var layoutIndex = hOP(column.data, \"position\") && hOP(column.data.position, \"layoutIndex\") ? column.data.position.layoutIndex : 1;\r\n        var section = this.getOrCreateSection(order, layoutIndex, column.data.emphasis.zoneEmphasis || 0);\r\n        column.section = section;\r\n        section.columns.push(column);\r\n    };\r\n    /**\r\n     * Handle the logic to get or create a section based on the supplied order and layoutIndex\r\n     *\r\n     * @param order Section order\r\n     * @param layoutIndex Layout Index (1 === normal, 2 === vertical section)\r\n     * @param emphasis The section emphasis\r\n     */\r\n    _ClientsidePage.prototype.getOrCreateSection = function (order, layoutIndex, emphasis) {\r\n        var section = null;\r\n        var sections = this.sections.filter(function (s) { return s.order === order && s.layoutIndex === layoutIndex; });\r\n        if (sections.length < 1) {\r\n            section = layoutIndex === 2 ? this.addVerticalSection() : this.addSection();\r\n            section.order = order;\r\n            section.emphasis = emphasis;\r\n        }\r\n        else {\r\n            section = sections[0];\r\n        }\r\n        return section;\r\n    };\r\n    __decorate([\r\n        tag(\"csp.load\")\r\n    ], _ClientsidePage.prototype, \"load\", null);\r\n    __decorate([\r\n        tag(\"csp.save\")\r\n    ], _ClientsidePage.prototype, \"save\", null);\r\n    __decorate([\r\n        tag(\"csp.discardPageCheckout\")\r\n    ], _ClientsidePage.prototype, \"discardPageCheckout\", null);\r\n    __decorate([\r\n        tag(\"csp.promoteToNews\")\r\n    ], _ClientsidePage.prototype, \"promoteToNews\", null);\r\n    __decorate([\r\n        tag(\"csp.copy\")\r\n    ], _ClientsidePage.prototype, \"copy\", null);\r\n    __decorate([\r\n        tag(\"csp.getItem\")\r\n    ], _ClientsidePage.prototype, \"getItem\", null);\r\n    return _ClientsidePage;\r\n}(_SharePointQueryable));\r\nexport { _ClientsidePage };\r\n/**\r\n * Invokable factory for IClientSidePage instances\r\n */\r\nvar ClientsidePage = function (baseUrl, path, json, noInit, sections, commentsDisabled) {\r\n    if (noInit === void 0) { noInit = false; }\r\n    if (sections === void 0) { sections = []; }\r\n    if (commentsDisabled === void 0) { commentsDisabled = false; }\r\n    return invokableFactory(_ClientsidePage)(baseUrl, path, json, noInit, sections, commentsDisabled);\r\n};\r\n/**\r\n * Loads a client side page from the supplied IFile instance\r\n *\r\n * @param file Source IFile instance\r\n */\r\nexport var ClientsidePageFromFile = function (file) { return __awaiter(void 0, void 0, void 0, function () {\r\n    var item, page;\r\n    return __generator(this, function (_a) {\r\n        switch (_a.label) {\r\n            case 0: return [4 /*yield*/, file.getItem()];\r\n            case 1:\r\n                item = _a.sent();\r\n                page = ClientsidePage(extractWebUrl(file.toUrl()), \"\", { Id: item.Id }, true);\r\n                return [2 /*return*/, page.configureFrom(file).load()];\r\n        }\r\n    });\r\n}); };\r\n/**\r\n * Creates a new client side page\r\n *\r\n * @param web The web or list\r\n * @param pageName The name of the page (filename)\r\n * @param title The page's title\r\n * @param PageLayoutType Layout to use when creating the page\r\n */\r\nexport var CreateClientsidePage = function (web, pageName, title, PageLayoutType, promotedState) {\r\n    if (PageLayoutType === void 0) { PageLayoutType = \"Article\"; }\r\n    if (promotedState === void 0) { promotedState = 0; }\r\n    return __awaiter(void 0, void 0, void 0, function () {\r\n        var pageInitData, newPage;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    // patched because previously we used the full page name with the .aspx at the end\r\n                    // this allows folk's existing code to work after the re-write to the new API\r\n                    pageName = pageName.replace(/\\.aspx$/i, \"\");\r\n                    return [4 /*yield*/, spPost(initFrom(web, \"_api/sitepages/pages\"), body(Object.assign(metadata(\"SP.Publishing.SitePage\"), {\r\n                            PageLayoutType: PageLayoutType,\r\n                            PromotedState: promotedState,\r\n                        })))];\r\n                case 1:\r\n                    pageInitData = _a.sent();\r\n                    newPage = ClientsidePage(web, \"\", pageInitData);\r\n                    newPage.title = pageName;\r\n                    return [4 /*yield*/, newPage.save(false)];\r\n                case 2:\r\n                    _a.sent();\r\n                    newPage.title = title;\r\n                    return [2 /*return*/, newPage];\r\n            }\r\n        });\r\n    });\r\n};\r\nvar CanvasSection = /** @class */ (function () {\r\n    function CanvasSection(page, order, layoutIndex, columns, _emphasis) {\r\n        if (columns === void 0) { columns = []; }\r\n        if (_emphasis === void 0) { _emphasis = 0; }\r\n        this.page = page;\r\n        this.columns = columns;\r\n        this._emphasis = _emphasis;\r\n        this._memId = getGUID();\r\n        this._order = order;\r\n        this._layoutIndex = layoutIndex;\r\n    }\r\n    Object.defineProperty(CanvasSection.prototype, \"order\", {\r\n        get: function () {\r\n            return this._order;\r\n        },\r\n        set: function (value) {\r\n            this._order = value;\r\n            for (var i = 0; i < this.columns.length; i++) {\r\n                this.columns[i].data.position.zoneIndex = value;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasSection.prototype, \"layoutIndex\", {\r\n        get: function () {\r\n            return this._layoutIndex;\r\n        },\r\n        set: function (value) {\r\n            this._layoutIndex = value;\r\n            for (var i = 0; i < this.columns.length; i++) {\r\n                this.columns[i].data.position.layoutIndex = value;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasSection.prototype, \"defaultColumn\", {\r\n        /**\r\n         * Default column (this.columns[0]) for this section\r\n         */\r\n        get: function () {\r\n            if (this.columns.length < 1) {\r\n                this.addColumn(12);\r\n            }\r\n            return this.columns[0];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Adds a new column to this section\r\n     */\r\n    CanvasSection.prototype.addColumn = function (factor, layoutIndex) {\r\n        if (layoutIndex === void 0) { layoutIndex = 1; }\r\n        var column = new CanvasColumn();\r\n        column.section = this;\r\n        column.data.position.zoneIndex = this.order;\r\n        column.data.position.layoutIndex = layoutIndex;\r\n        column.data.position.sectionFactor = factor;\r\n        column.order = getNextOrder(this.columns);\r\n        this.columns.push(column);\r\n        return column;\r\n    };\r\n    /**\r\n     * Adds a control to the default column for this section\r\n     *\r\n     * @param control Control to add to the default column\r\n     */\r\n    CanvasSection.prototype.addControl = function (control) {\r\n        this.defaultColumn.addControl(control);\r\n        return this;\r\n    };\r\n    Object.defineProperty(CanvasSection.prototype, \"emphasis\", {\r\n        get: function () {\r\n            return this._emphasis;\r\n        },\r\n        set: function (value) {\r\n            this._emphasis = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Removes this section and all contained columns and controls from the collection\r\n     */\r\n    CanvasSection.prototype.remove = function () {\r\n        var _this = this;\r\n        this.page.sections = this.page.sections.filter(function (section) { return section._memId !== _this._memId; });\r\n        reindex(this.page.sections);\r\n    };\r\n    return CanvasSection;\r\n}());\r\nexport { CanvasSection };\r\nvar CanvasColumn = /** @class */ (function () {\r\n    function CanvasColumn(json, controls) {\r\n        if (json === void 0) { json = JSON.parse(JSON.stringify(CanvasColumn.Default)); }\r\n        if (controls === void 0) { controls = []; }\r\n        this.json = json;\r\n        this.controls = controls;\r\n        this._section = null;\r\n        this._memId = getGUID();\r\n    }\r\n    Object.defineProperty(CanvasColumn.prototype, \"data\", {\r\n        get: function () {\r\n            return this.json;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasColumn.prototype, \"section\", {\r\n        get: function () {\r\n            return this._section;\r\n        },\r\n        set: function (section) {\r\n            this._section = section;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasColumn.prototype, \"order\", {\r\n        get: function () {\r\n            return this.data.position.sectionIndex;\r\n        },\r\n        set: function (value) {\r\n            this.data.position.sectionIndex = value;\r\n            for (var i = 0; i < this.controls.length; i++) {\r\n                this.controls[i].data.position.zoneIndex = this.data.position.zoneIndex;\r\n                this.controls[i].data.position.layoutIndex = this.data.position.layoutIndex;\r\n                this.controls[i].data.position.sectionIndex = value;\r\n            }\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CanvasColumn.prototype, \"factor\", {\r\n        get: function () {\r\n            return this.data.position.sectionFactor;\r\n        },\r\n        set: function (value) {\r\n            this.data.position.sectionFactor = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CanvasColumn.prototype.addControl = function (control) {\r\n        control.column = this;\r\n        this.controls.push(control);\r\n        return this;\r\n    };\r\n    CanvasColumn.prototype.getControl = function (index) {\r\n        return this.controls[index];\r\n    };\r\n    CanvasColumn.prototype.remove = function () {\r\n        var _this = this;\r\n        this.section.columns = this.section.columns.filter(function (column) { return column._memId !== _this._memId; });\r\n        reindex(this.section.columns);\r\n    };\r\n    CanvasColumn.Default = {\r\n        controlType: 0,\r\n        displayMode: 2,\r\n        emphasis: {},\r\n        position: {\r\n            layoutIndex: 1,\r\n            sectionFactor: 12,\r\n            sectionIndex: 1,\r\n            zoneIndex: 1,\r\n        },\r\n    };\r\n    return CanvasColumn;\r\n}());\r\nexport { CanvasColumn };\r\nvar ColumnControl = /** @class */ (function () {\r\n    function ColumnControl(json) {\r\n        this.json = json;\r\n    }\r\n    Object.defineProperty(ColumnControl.prototype, \"id\", {\r\n        get: function () {\r\n            return this.json.id;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnControl.prototype, \"data\", {\r\n        get: function () {\r\n            return this.json;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ColumnControl.prototype, \"column\", {\r\n        get: function () {\r\n            return this._column;\r\n        },\r\n        set: function (value) {\r\n            this._column = value;\r\n            this.onColumnChange(this._column);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ColumnControl.prototype.remove = function () {\r\n        var _this = this;\r\n        this.column.controls = this.column.controls.filter(function (control) { return control.id !== _this.id; });\r\n        reindex(this.column.controls);\r\n    };\r\n    ColumnControl.prototype.setData = function (data) {\r\n        this.json = data;\r\n    };\r\n    return ColumnControl;\r\n}());\r\nexport { ColumnControl };\r\nvar ClientsideText = /** @class */ (function (_super) {\r\n    __extends(ClientsideText, _super);\r\n    function ClientsideText(text, json) {\r\n        if (json === void 0) { json = JSON.parse(JSON.stringify(ClientsideText.Default)); }\r\n        var _this = this;\r\n        if (stringIsNullOrEmpty(json.id)) {\r\n            json.id = getGUID();\r\n            json.anchorComponentId = json.id;\r\n        }\r\n        _this = _super.call(this, json) || this;\r\n        _this.text = text;\r\n        return _this;\r\n    }\r\n    Object.defineProperty(ClientsideText.prototype, \"text\", {\r\n        get: function () {\r\n            return this.data.innerHTML;\r\n        },\r\n        set: function (value) {\r\n            if (!value.startsWith(\"<p>\")) {\r\n                value = \"<p>\" + value + \"</p>\";\r\n            }\r\n            this.data.innerHTML = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientsideText.prototype, \"order\", {\r\n        get: function () {\r\n            return this.data.position.controlIndex;\r\n        },\r\n        set: function (value) {\r\n            this.data.position.controlIndex = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ClientsideText.prototype.onColumnChange = function (col) {\r\n        this.data.position.sectionFactor = col.factor;\r\n        this.data.position.controlIndex = getNextOrder(col.controls);\r\n        this.data.position.zoneIndex = col.data.position.zoneIndex;\r\n        this.data.position.sectionIndex = col.order;\r\n        this.data.position.layoutIndex = col.data.position.layoutIndex;\r\n    };\r\n    ClientsideText.Default = {\r\n        addedFromPersistedData: false,\r\n        anchorComponentId: \"\",\r\n        controlType: 4,\r\n        displayMode: 2,\r\n        editorType: \"CKEditor\",\r\n        emphasis: {},\r\n        id: \"\",\r\n        innerHTML: \"\",\r\n        position: {\r\n            controlIndex: 1,\r\n            layoutIndex: 1,\r\n            sectionFactor: 12,\r\n            sectionIndex: 1,\r\n            zoneIndex: 1,\r\n        },\r\n    };\r\n    return ClientsideText;\r\n}(ColumnControl));\r\nexport { ClientsideText };\r\nvar ClientsideWebpart = /** @class */ (function (_super) {\r\n    __extends(ClientsideWebpart, _super);\r\n    function ClientsideWebpart(json) {\r\n        if (json === void 0) { json = JSON.parse(JSON.stringify(ClientsideWebpart.Default)); }\r\n        return _super.call(this, json) || this;\r\n    }\r\n    ClientsideWebpart.fromComponentDef = function (definition) {\r\n        var part = new ClientsideWebpart();\r\n        part.import(definition);\r\n        return part;\r\n    };\r\n    Object.defineProperty(ClientsideWebpart.prototype, \"title\", {\r\n        get: function () {\r\n            return this.data.webPartData.title;\r\n        },\r\n        set: function (value) {\r\n            this.data.webPartData.title = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientsideWebpart.prototype, \"description\", {\r\n        get: function () {\r\n            return this.data.webPartData.description;\r\n        },\r\n        set: function (value) {\r\n            this.data.webPartData.description = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientsideWebpart.prototype, \"order\", {\r\n        get: function () {\r\n            return this.data.position.controlIndex;\r\n        },\r\n        set: function (value) {\r\n            this.data.position.controlIndex = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientsideWebpart.prototype, \"height\", {\r\n        get: function () {\r\n            return this.data.reservedHeight;\r\n        },\r\n        set: function (value) {\r\n            this.data.reservedHeight = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientsideWebpart.prototype, \"width\", {\r\n        get: function () {\r\n            return this.data.reservedWidth;\r\n        },\r\n        set: function (value) {\r\n            this.data.reservedWidth = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ClientsideWebpart.prototype, \"dataVersion\", {\r\n        get: function () {\r\n            return this.data.webPartData.dataVersion;\r\n        },\r\n        set: function (value) {\r\n            this.data.webPartData.dataVersion = value;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    ClientsideWebpart.prototype.setProperties = function (properties) {\r\n        this.data.webPartData.properties = assign(this.data.webPartData.properties, properties);\r\n        return this;\r\n    };\r\n    ClientsideWebpart.prototype.getProperties = function () {\r\n        return this.data.webPartData.properties;\r\n    };\r\n    ClientsideWebpart.prototype.onColumnChange = function (col) {\r\n        this.data.position.sectionFactor = col.factor;\r\n        this.data.position.controlIndex = getNextOrder(col.controls);\r\n        this.data.position.zoneIndex = col.data.position.zoneIndex;\r\n        this.data.position.sectionIndex = col.data.position.sectionIndex;\r\n        this.data.position.layoutIndex = col.data.position.layoutIndex;\r\n    };\r\n    ClientsideWebpart.prototype.import = function (component) {\r\n        var id = getGUID();\r\n        var componendId = component.Id.replace(/^\\{|\\}$/g, \"\").toLowerCase();\r\n        var manifest = JSON.parse(component.Manifest);\r\n        var preconfiguredEntries = manifest.preconfiguredEntries[0];\r\n        this.setData(Object.assign({}, this.data, {\r\n            id: id,\r\n            webPartData: {\r\n                dataVersion: \"1.0\",\r\n                description: preconfiguredEntries.description.default,\r\n                id: componendId,\r\n                instanceId: id,\r\n                properties: preconfiguredEntries.properties,\r\n                title: preconfiguredEntries.title.default,\r\n            },\r\n            webPartId: componendId,\r\n        }));\r\n    };\r\n    ClientsideWebpart.Default = {\r\n        addedFromPersistedData: false,\r\n        controlType: 3,\r\n        displayMode: 2,\r\n        emphasis: {},\r\n        id: null,\r\n        position: {\r\n            controlIndex: 1,\r\n            layoutIndex: 1,\r\n            sectionFactor: 12,\r\n            sectionIndex: 1,\r\n            zoneIndex: 1,\r\n        },\r\n        reservedHeight: 500,\r\n        reservedWidth: 500,\r\n        webPartData: null,\r\n        webPartId: null,\r\n    };\r\n    return ClientsideWebpart;\r\n}(ColumnControl));\r\nexport { ClientsideWebpart };\r\n","import { _Web } from \"../webs/types\";\r\nimport { CreateClientsidePage, ClientsidePageFromFile } from \"./types\";\r\nimport { SharePointQueryableCollection } from \"../sharepointqueryable\";\r\n_Web.prototype.getClientsideWebParts = function () {\r\n    return this.clone(SharePointQueryableCollection, \"GetClientSideWebParts\")();\r\n};\r\n_Web.prototype.addClientsidePage =\r\n    function (pageName, title, layout, promotedState) {\r\n        if (title === void 0) { title = pageName.replace(/\\.[^/.]+$/, \"\"); }\r\n        return CreateClientsidePage(this, pageName, title, layout, promotedState);\r\n    };\r\n_Web.prototype.loadClientsidePage = function (path) {\r\n    return ClientsidePageFromFile(this.getFileByServerRelativePath(path));\r\n};\r\n","import \"./web\";\r\nexport { ClientsidePageFromFile, CreateClientsidePage, CanvasColumn, CanvasSection, ClientsideText, ClientsideWebpart, ColumnControl, PromotedState, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator, __read, __spread } from \"tslib\";\r\nimport { assign, isUrlAbsolute } from \"@pnp/common\";\r\nimport { SharePointQueryable, SharePointQueryableCollection, SharePointQueryableInstance, _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteableWithETag, } from \"../sharepointqueryable\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { Item } from \"../items/types\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { tag } from \"../telemetry\";\r\nimport { toResourcePath } from \"../utils/toResourcePath\";\r\nvar _Folders = /** @class */ (function (_super) {\r\n    __extends(_Folders, _super);\r\n    function _Folders() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a folder by it's name\r\n     *\r\n     * @param name Folder's name\r\n     */\r\n    _Folders.prototype.getByName = function (name) {\r\n        return tag.configure(Folder(this).concat(\"('\" + escapeQueryStrValue(name) + \"')\"), \"fs.getByName\");\r\n    };\r\n    /**\r\n     * Adds a new folder at the specified URL\r\n     *\r\n     * @param url\r\n     */\r\n    _Folders.prototype.add = function (url) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Folders, \"add('\" + escapeQueryStrValue(url) + \"')\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                folder: this.getByName(url),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new folder by path and should be prefered over add\r\n     *\r\n     * @param serverRelativeUrl The server relative url of the new folder to create\r\n     * @param overwrite True to overwrite an existing folder, default false\r\n     */\r\n    _Folders.prototype.addUsingPath = function (serverRelativeUrl, overwrite) {\r\n        if (overwrite === void 0) { overwrite = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Folders, \"addUsingPath(DecodedUrl='\" + escapeQueryStrValue(serverRelativeUrl) + \"',overwrite=\" + overwrite + \")\"))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                folder: Folder(extractWebUrl(this.toUrl()), \"_api/web/getFolderByServerRelativePath(decodedUrl='\" + escapeQueryStrValue(serverRelativeUrl) + \"')\"),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"fs.add\")\r\n    ], _Folders.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"fs.addUsingPath\")\r\n    ], _Folders.prototype, \"addUsingPath\", null);\r\n    _Folders = __decorate([\r\n        defaultPath(\"folders\")\r\n    ], _Folders);\r\n    return _Folders;\r\n}(_SharePointQueryableCollection));\r\nexport { _Folders };\r\nexport var Folders = spInvokableFactory(_Folders);\r\nvar _Folder = /** @class */ (function (_super) {\r\n    __extends(_Folder, _super);\r\n    function _Folder() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteableWithETag(\"f\");\r\n        /**\r\n         * Updates folder's properties\r\n         * @param props Folder's properties to update\r\n         */\r\n        _this.update = _this._update(\"SP.Folder\", function (data) { return ({ data: data, folder: _this }); });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_Folder.prototype, \"contentTypeOrder\", {\r\n        /**\r\n         * Specifies the sequence in which content types are displayed.\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"contentTypeOrder\"), \"f.contentTypeOrder\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Folder.prototype, \"folders\", {\r\n        /**\r\n         * Gets this folder's sub folders\r\n         *\r\n         */\r\n        get: function () {\r\n            return Folders(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Folder.prototype, \"listItemAllFields\", {\r\n        /**\r\n         * Gets this folder's list item field values\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"listItemAllFields\"), \"f.listItemAllFields\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Folder.prototype, \"parentFolder\", {\r\n        /**\r\n         * Gets the parent folder, if available\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(Folder(this, \"parentFolder\"), \"f.parentFolder\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Folder.prototype, \"properties\", {\r\n        /**\r\n         * Gets this folder's properties\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableInstance(this, \"properties\"), \"f.properties\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Folder.prototype, \"serverRelativeUrl\", {\r\n        /**\r\n         * Gets this folder's server relative url\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"serverRelativeUrl\"), \"f.serverRelativeUrl\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Folder.prototype, \"uniqueContentTypeOrder\", {\r\n        /**\r\n         * Gets a value that specifies the content type order.\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"uniqueContentTypeOrder\"), \"f.uniqueContentTypeOrder\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Moves the folder to the Recycle Bin and returns the identifier of the new Recycle Bin item.\r\n     */\r\n    _Folder.prototype.recycle = function () {\r\n        return spPost(this.clone(Folder, \"recycle\"));\r\n    };\r\n    /**\r\n     * Gets the associated list item for this folder, loading the default properties\r\n     */\r\n    _Folder.prototype.getItem = function () {\r\n        var selects = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            selects[_i] = arguments[_i];\r\n        }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q;\r\n            var _a;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, (_a = this.listItemAllFields).select.apply(_a, __spread(selects))()];\r\n                    case 1:\r\n                        q = _b.sent();\r\n                        return [2 /*return*/, assign(Item(odataUrlFrom(q)), q)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Moves a folder to destination path\r\n     *\r\n     * @param destUrl Absolute or relative URL of the destination path\r\n     */\r\n    _Folder.prototype.moveTo = function (destUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, srcUrl, absoluteUrl, webBaseUrl, hostUrl;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"ServerRelativeUrl\")()];\r\n                    case 1:\r\n                        _a = _b.sent(), srcUrl = _a.ServerRelativeUrl, absoluteUrl = _a[\"odata.id\"];\r\n                        webBaseUrl = extractWebUrl(absoluteUrl);\r\n                        hostUrl = webBaseUrl.replace(\"://\", \"___\").split(\"/\")[0].replace(\"___\", \"://\");\r\n                        return [4 /*yield*/, spPost(Folder(webBaseUrl, \"/_api/SP.MoveCopyUtil.MoveFolder()\"), body({\r\n                                destUrl: isUrlAbsolute(destUrl) ? destUrl : \"\" + hostUrl + destUrl,\r\n                                srcUrl: \"\" + hostUrl + srcUrl,\r\n                            }))];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Moves a folder by path to destination path\r\n     * Also works with different site collections.\r\n     *\r\n     * @param destUrl Absolute or relative URL of the destination path\r\n     * @param keepBoth Keep both if folder with the same name in the same location already exists?\r\n     */\r\n    _Folder.prototype.moveByPath = function (destUrl, KeepBoth) {\r\n        if (KeepBoth === void 0) { KeepBoth = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, srcUrl, absoluteUrl, webBaseUrl, hostUrl;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"ServerRelativeUrl\")()];\r\n                    case 1:\r\n                        _a = _b.sent(), srcUrl = _a.ServerRelativeUrl, absoluteUrl = _a[\"odata.id\"];\r\n                        webBaseUrl = extractWebUrl(absoluteUrl);\r\n                        hostUrl = webBaseUrl.replace(\"://\", \"___\").split(\"/\")[0].replace(\"___\", \"://\");\r\n                        return [4 /*yield*/, spPost(Folder(webBaseUrl, \"/_api/SP.MoveCopyUtil.MoveFolderByPath()\"), body({\r\n                                destPath: toResourcePath(isUrlAbsolute(destUrl) ? destUrl : \"\" + hostUrl + destUrl),\r\n                                options: {\r\n                                    KeepBoth: KeepBoth,\r\n                                    ResetAuthorAndCreatedOnCopy: true,\r\n                                    ShouldBypassSharedLocks: true,\r\n                                    __metadata: {\r\n                                        type: \"SP.MoveCopyOptions\",\r\n                                    },\r\n                                },\r\n                                srcPath: toResourcePath(isUrlAbsolute(srcUrl) ? srcUrl : \"\" + hostUrl + srcUrl),\r\n                            }))];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Copies a folder to destination path\r\n     *\r\n     * @param destUrl Absolute or relative URL of the destination path\r\n     */\r\n    _Folder.prototype.copyTo = function (destUrl) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, srcUrl, absoluteUrl, webBaseUrl, hostUrl;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"ServerRelativeUrl\")()];\r\n                    case 1:\r\n                        _a = _b.sent(), srcUrl = _a.ServerRelativeUrl, absoluteUrl = _a[\"odata.id\"];\r\n                        webBaseUrl = extractWebUrl(absoluteUrl);\r\n                        hostUrl = webBaseUrl.replace(\"://\", \"___\").split(\"/\")[0].replace(\"___\", \"://\");\r\n                        return [4 /*yield*/, spPost(Folder(webBaseUrl, \"/_api/SP.MoveCopyUtil.CopyFolder()\"), body({\r\n                                destUrl: isUrlAbsolute(destUrl) ? destUrl : \"\" + hostUrl + destUrl,\r\n                                srcUrl: \"\" + hostUrl + srcUrl,\r\n                            }))];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Copies a folder by path to destination path\r\n     * Also works with different site collections.\r\n     *\r\n     * @param destUrl Absolute or relative URL of the destination path\r\n     * @param keepBoth Keep both if folder with the same name in the same location already exists?\r\n     */\r\n    _Folder.prototype.copyByPath = function (destUrl, KeepBoth) {\r\n        if (KeepBoth === void 0) { KeepBoth = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var _a, srcUrl, absoluteUrl, webBaseUrl, hostUrl;\r\n            return __generator(this, function (_b) {\r\n                switch (_b.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"ServerRelativeUrl\")()];\r\n                    case 1:\r\n                        _a = _b.sent(), srcUrl = _a.ServerRelativeUrl, absoluteUrl = _a[\"odata.id\"];\r\n                        webBaseUrl = extractWebUrl(absoluteUrl);\r\n                        hostUrl = webBaseUrl.replace(\"://\", \"___\").split(\"/\")[0].replace(\"___\", \"://\");\r\n                        return [4 /*yield*/, spPost(Folder(webBaseUrl, \"/_api/SP.MoveCopyUtil.CopyFolderByPath()\"), body({\r\n                                destPath: toResourcePath(isUrlAbsolute(destUrl) ? destUrl : \"\" + hostUrl + destUrl),\r\n                                options: {\r\n                                    KeepBoth: KeepBoth,\r\n                                    ResetAuthorAndCreatedOnCopy: true,\r\n                                    ShouldBypassSharedLocks: true,\r\n                                    __metadata: {\r\n                                        type: \"SP.MoveCopyOptions\",\r\n                                    },\r\n                                },\r\n                                srcPath: toResourcePath(isUrlAbsolute(srcUrl) ? srcUrl : \"\" + hostUrl + srcUrl),\r\n                            }))];\r\n                    case 2:\r\n                        _b.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets the shareable item associated with this folder\r\n     */\r\n    _Folder.prototype.getShareable = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var d, shareable;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(SharePointQueryableInstance, \"listItemAllFields\", false).select(\"odata.id\")()];\r\n                    case 1:\r\n                        d = _a.sent();\r\n                        shareable = Item(odataUrlFrom(d));\r\n                        // we need to handle batching\r\n                        if (this.hasBatch) {\r\n                            shareable = shareable.inBatch(this.batch);\r\n                        }\r\n                        return [2 /*return*/, shareable];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"f.recycle\")\r\n    ], _Folder.prototype, \"recycle\", null);\r\n    __decorate([\r\n        tag(\"f.getItem\")\r\n    ], _Folder.prototype, \"getItem\", null);\r\n    __decorate([\r\n        tag(\"f.moveTo\")\r\n    ], _Folder.prototype, \"moveTo\", null);\r\n    __decorate([\r\n        tag(\"f.moveByPath\")\r\n    ], _Folder.prototype, \"moveByPath\", null);\r\n    __decorate([\r\n        tag(\"f.copyTo\")\r\n    ], _Folder.prototype, \"copyTo\", null);\r\n    __decorate([\r\n        tag(\"f.copyByPath\")\r\n    ], _Folder.prototype, \"copyByPath\", null);\r\n    __decorate([\r\n        tag(\"f.getShareable\")\r\n    ], _Folder.prototype, \"getShareable\", null);\r\n    return _Folder;\r\n}(_SharePointQueryableInstance));\r\nexport { _Folder };\r\nexport var Folder = spInvokableFactory(_Folder);\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { addProp, TextParser, headers, body } from \"@pnp/odata\";\r\nimport { _List, List } from \"../lists/types\";\r\nimport { Folder } from \"../folders/types\";\r\nimport { combine, isArray } from \"@pnp/common\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport { Logger } from \"@pnp/logging\";\r\nimport { spPost } from \"../operations\";\r\nimport { SharePointQueryableCollection } from \"../presets/all\";\r\naddProp(_List, \"rootFolder\", Folder, \"rootFolder\");\r\n_List.prototype.getDefaultColumnValues = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var pathPart, webUrl, path, baseFilePath, xml, e_1, matches, tags;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.rootFolder.select(\"ServerRelativePath\")()];\r\n                case 1:\r\n                    pathPart = _a.sent();\r\n                    return [4 /*yield*/, this.select(\"ParentWeb/Url\").expand(\"ParentWeb\")()];\r\n                case 2:\r\n                    webUrl = _a.sent();\r\n                    path = combine(\"/\", pathPart.ServerRelativePath.DecodedUrl, \"Forms/client_LocationBasedDefaults.html\");\r\n                    baseFilePath = combine(webUrl.ParentWeb.Url, \"_api/web\", \"getFileByServerRelativePath(decodedUrl='\" + escapeQueryStrValue(path) + \"')\");\r\n                    xml = \"\";\r\n                    _a.label = 3;\r\n                case 3:\r\n                    _a.trys.push([3, 5, , 6]);\r\n                    return [4 /*yield*/, Folder(baseFilePath, \"$value\").usingParser(new TextParser())(headers({ \"binaryStringResponseBody\": \"true\" }))];\r\n                case 4:\r\n                    xml = _a.sent();\r\n                    return [3 /*break*/, 6];\r\n                case 5:\r\n                    e_1 = _a.sent();\r\n                    // if this call fails we assume it is because the file is 404\r\n                    if (e_1 && e_1.status && e_1.status === 404) {\r\n                        // return an empty array\r\n                        return [2 /*return*/, []];\r\n                    }\r\n                    throw e_1;\r\n                case 6:\r\n                    matches = xml.match(/<a.*?<\\/a>/ig);\r\n                    tags = matches === null ? [] : matches.map(function (t) { return t.trim(); });\r\n                    // now we need to turn these tags of form into objects\r\n                    // <a href=\"/sites/dev/My%20Title\"><DefaultValue FieldName=\"TextField\">Test</DefaultValue></a>\r\n                    return [2 /*return*/, tags.map(function (t) {\r\n                            var m = /<a href=\"(.*?)\"><DefaultValue FieldName=\"(.*?)\">(.*?)<\\/DefaultValue>/ig.exec(t);\r\n                            // if things worked our captures are:\r\n                            // 0: whole string\r\n                            // 1: ENCODED server relative path\r\n                            // 2: Field internal name\r\n                            // 3: Default value as string\r\n                            if (m.length < 1) {\r\n                                // this indicates an error somewhere, but we have no way to meaningfully recover\r\n                                // perhaps the way the tags are stored has changed on the server? Check that first.\r\n                                Logger.write(\"Could not parse default column value from '\" + t + \"'\", 2 /* Warning */);\r\n                                return null;\r\n                            }\r\n                            // return the parsed out values\r\n                            return {\r\n                                name: m[2],\r\n                                path: decodeURIComponent(m[1]),\r\n                                value: m[3],\r\n                            };\r\n                        }).filter(function (v) { return v !== null; })];\r\n            }\r\n        });\r\n    });\r\n};\r\n_List.prototype.setDefaultColumnValues = function (defaults) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var fieldDefs, tags, xml, pathPart, webUrl, path, baseFilePath, existingReceivers;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, SharePointQueryableCollection(this, \"fields\").select(\"InternalName\", \"TypeAsString\").filter(\"Hidden ne true\")()];\r\n                case 1:\r\n                    fieldDefs = _a.sent();\r\n                    tags = defaults.map(function (fieldDefault) {\r\n                        var index = fieldDefs.findIndex(function (fd) { return fd.InternalName === fieldDefault.name; });\r\n                        if (index < 0) {\r\n                            throw Error(\"Field '\" + fieldDefault.name + \"' does not exist in the list. Please check the internal field name. Failed to set defaults.\");\r\n                        }\r\n                        var fieldDef = fieldDefs[index];\r\n                        var value = \"\";\r\n                        switch (fieldDef.TypeAsString) {\r\n                            case \"Boolean\":\r\n                            case \"Currency\":\r\n                            case \"Text\":\r\n                            case \"DateTime\":\r\n                            case \"Number\":\r\n                            case \"Choice\":\r\n                            case \"User\":\r\n                                if (isArray(fieldDefault.value)) {\r\n                                    throw Error(\"The type '\" + fieldDef.TypeAsString + \"' does not support multiple values.\");\r\n                                }\r\n                                value = \"\" + fieldDefault.value;\r\n                                break;\r\n                            case \"MultiChoice\":\r\n                                if (isArray(fieldDefault.value)) {\r\n                                    value = fieldDefault.value.map(function (v) { return \"\" + v; }).join(\";\");\r\n                                }\r\n                                else {\r\n                                    value = \"\" + fieldDefault.value;\r\n                                }\r\n                                break;\r\n                            case \"UserMulti\":\r\n                                if (isArray(fieldDefault.value)) {\r\n                                    value = fieldDefault.value.map(function (v) { return \"\" + v; }).join(\";#\");\r\n                                }\r\n                                else {\r\n                                    value = \"\" + fieldDefault.value;\r\n                                }\r\n                                break;\r\n                            case \"Taxonomy\":\r\n                                if (isArray(fieldDefault.value)) {\r\n                                    throw Error(\"The type '\" + fieldDef.TypeAsString + \"' does not support multiple values.\");\r\n                                }\r\n                                else {\r\n                                    value = fieldDefault.value.wssId + \";#\" + fieldDefault.value.termName + \"|\" + fieldDefault.value.termId;\r\n                                }\r\n                                break;\r\n                            case \"TaxonomyMulti\":\r\n                                if (isArray(fieldDefault.value)) {\r\n                                    value = fieldDefault.value.map(function (v) { return v.wssId + \";#\" + v.termName + \"|\" + v.termId; }).join(\";#\");\r\n                                }\r\n                                value = fieldDefault.value.wssId + \";#\" + fieldDefault.value.termName + \"|\" + fieldDefault.value.termId;\r\n                                break;\r\n                        }\r\n                        return \"<a href=\\\"\" + fieldDefault.path.replace(/ /gi, \"%20\") + \"\\\"><DefaultValue FieldName=\\\"\" + fieldDefault.name + \"\\\">\" + value + \"</DefaultValue></a>\";\r\n                    });\r\n                    xml = \"<MetadataDefaults>\" + tags.join(\"\") + \"</MetadataDefaults>\";\r\n                    return [4 /*yield*/, this.rootFolder.select(\"ServerRelativePath\")()];\r\n                case 2:\r\n                    pathPart = _a.sent();\r\n                    return [4 /*yield*/, this.select(\"ParentWeb/Url\").expand(\"ParentWeb\")()];\r\n                case 3:\r\n                    webUrl = _a.sent();\r\n                    path = combine(\"/\", pathPart.ServerRelativePath.DecodedUrl, \"Forms\");\r\n                    baseFilePath = combine(webUrl.ParentWeb.Url, \"_api/web\", \"getFolderByServerRelativePath(decodedUrl='\" + escapeQueryStrValue(path) + \"')\", \"files\");\r\n                    return [4 /*yield*/, spPost(Folder(baseFilePath, \"add(overwrite=true,url='client_LocationBasedDefaults.html')\"), { body: xml })];\r\n                case 4:\r\n                    _a.sent();\r\n                    return [4 /*yield*/, this.eventReceivers.filter(\"ReceiverName eq 'LocationBasedMetadataDefaultsReceiver ItemAdded'\").select(\"ReceiverId\")()];\r\n                case 5:\r\n                    existingReceivers = _a.sent();\r\n                    if (!(existingReceivers.length < 1)) return [3 /*break*/, 7];\r\n                    return [4 /*yield*/, spPost(List(this.eventReceivers, \"add\"), body({\r\n                            eventReceiverCreationInformation: {\r\n                                EventType: 10001,\r\n                                ReceiverAssembly: \"Microsoft.Office.DocumentManagement, Version=16.0.0.0, Culture=neutral, PublicKeyToken=71e9bce111e9429c\",\r\n                                ReceiverClass: \"Microsoft.Office.DocumentManagement.LocationBasedMetadataDefaultsReceiver\",\r\n                                ReceiverName: \"LocationBasedMetadataDefaultsReceiver ItemAdded\",\r\n                                SequenceNumber: 1000,\r\n                                Synchronization: 1,\r\n                            },\r\n                        }))];\r\n                case 6:\r\n                    _a.sent();\r\n                    _a.label = 7;\r\n                case 7: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { Web } from \"../webs/types\";\r\nimport \"../lists/web\";\r\nimport { _Folder, Folder } from \"../folders/types\";\r\n_Folder.prototype.getDefaultColumnValues = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var folderProps, serRelPath, web, docLib;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, Folder(this, \"Properties\").select(\"vti_x005f_listname\")()];\r\n                case 1:\r\n                    folderProps = _a.sent();\r\n                    return [4 /*yield*/, this.select(\"ServerRelativePath\")()];\r\n                case 2:\r\n                    serRelPath = (_a.sent()).ServerRelativePath;\r\n                    web = Web(extractWebUrl(odataUrlFrom(folderProps)));\r\n                    docLib = web.lists.getById(folderProps.vti_x005f_listname);\r\n                    return [4 /*yield*/, docLib.getDefaultColumnValues()];\r\n                case 3: \r\n                // and we return the defaults associated with this folder's server relative path only\r\n                // if you want all the defaults use list.getDefaultColumnValues()\r\n                return [2 /*return*/, (_a.sent()).filter(function (v) { return v.path.toLowerCase() === serRelPath.DecodedUrl.toLowerCase(); })];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.setDefaultColumnValues = function (fieldDefaults, merge) {\r\n    if (merge === void 0) { merge = true; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var folderProps, web, docLib, folderPath, existingDefaults, filteredExistingDefaults;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, Folder(this, \"Properties\").select(\"vti_x005f_listname\")()];\r\n                case 1:\r\n                    folderProps = _a.sent();\r\n                    web = Web(extractWebUrl(odataUrlFrom(folderProps)));\r\n                    docLib = web.lists.getById(folderProps.vti_x005f_listname);\r\n                    return [4 /*yield*/, this.select(\"ServerRelativePath\")()];\r\n                case 2:\r\n                    folderPath = (_a.sent()).ServerRelativePath.DecodedUrl;\r\n                    return [4 /*yield*/, docLib.getDefaultColumnValues()];\r\n                case 3:\r\n                    existingDefaults = _a.sent();\r\n                    filteredExistingDefaults = merge ? existingDefaults : existingDefaults.filter(function (f) { return f.path !== folderPath; });\r\n                    // we update / add any new defaults from those passed to this method\r\n                    fieldDefaults.forEach(function (d) {\r\n                        var existing = filteredExistingDefaults.find(function (ed) { return ed.name === d.name && ed.path === folderPath; });\r\n                        if (existing) {\r\n                            existing.value = d.value;\r\n                        }\r\n                        else {\r\n                            filteredExistingDefaults.push({\r\n                                name: d.name,\r\n                                path: folderPath,\r\n                                value: d.value,\r\n                            });\r\n                        }\r\n                    });\r\n                    // after this operation filteredExistingDefaults should contain all the value we want to write to the file\r\n                    return [4 /*yield*/, docLib.setDefaultColumnValues(filteredExistingDefaults)];\r\n                case 4:\r\n                    // after this operation filteredExistingDefaults should contain all the value we want to write to the file\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.clearDefaultColumnValues = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.setDefaultColumnValues([], false)];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import \"./list\";\r\nimport \"./folder\";\r\n","import \"./item\";\r\nexport { Comment, Comments, Replies, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { SharePointQueryableCollection, _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _ContentTypes = /** @class */ (function (_super) {\r\n    __extends(_ContentTypes, _super);\r\n    function _ContentTypes() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Adds an existing contenttype to a content type collection\r\n     *\r\n     * @param contentTypeId in the following format, for example: 0x010102\r\n     */\r\n    _ContentTypes.prototype.addAvailableContentType = function (contentTypeId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(ContentTypes, \"addAvailableContentType\"), body({ \"contentTypeId\": contentTypeId }))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                contentType: this.getById(data.id),\r\n                                data: data,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a ContentType by content type id\r\n     * @param id The id of the content type to get, in the following format, for example: 0x010102\r\n     */\r\n    _ContentTypes.prototype.getById = function (id) {\r\n        return tag.configure(ContentType(this).concat(\"('\" + id + \"')\"), \"cts.getById\");\r\n    };\r\n    /**\r\n     * Adds a new content type to the collection\r\n     *\r\n     * @param id The desired content type id for the new content type (also determines the parent content type)\r\n     * @param name The name of the content type\r\n     * @param description The description of the content type\r\n     * @param group The group in which to add the content type\r\n     * @param additionalSettings Any additional settings to provide when creating the content type\r\n     *\r\n     */\r\n    _ContentTypes.prototype.add = function (id, name, description, group, additionalSettings) {\r\n        if (description === void 0) { description = \"\"; }\r\n        if (group === void 0) { group = \"Custom Content Types\"; }\r\n        if (additionalSettings === void 0) { additionalSettings = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(Object.assign(metadata(\"SP.ContentType\"), {\r\n                            \"Description\": description,\r\n                            \"Group\": group,\r\n                            \"Id\": { \"StringValue\": id },\r\n                            \"Name\": name,\r\n                        }, additionalSettings));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { contentType: this.getById(data.id), data: data }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"cts.addAvailableContentType\")\r\n    ], _ContentTypes.prototype, \"addAvailableContentType\", null);\r\n    __decorate([\r\n        tag(\"cts.add\")\r\n    ], _ContentTypes.prototype, \"add\", null);\r\n    _ContentTypes = __decorate([\r\n        defaultPath(\"contenttypes\")\r\n    ], _ContentTypes);\r\n    return _ContentTypes;\r\n}(_SharePointQueryableCollection));\r\nexport { _ContentTypes };\r\nexport var ContentTypes = spInvokableFactory(_ContentTypes);\r\nvar _ContentType = /** @class */ (function (_super) {\r\n    __extends(_ContentType, _super);\r\n    function _ContentType() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"ct\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_ContentType.prototype, \"fieldLinks\", {\r\n        /**\r\n         * Gets the column (also known as field) references in the content type.\r\n         */\r\n        get: function () {\r\n            return tag.configure(FieldLinks(this), \"ct.fieldLinks\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ContentType.prototype, \"fields\", {\r\n        /**\r\n         * Gets a value that specifies the collection of fields for the content type.\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"fields\"), \"ct.fields\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ContentType.prototype, \"parent\", {\r\n        /**\r\n         * Gets the parent content type of the content type.\r\n         */\r\n        get: function () {\r\n            return tag.configure(ContentType(this, \"parent\"), \"ct.parent\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_ContentType.prototype, \"workflowAssociations\", {\r\n        /**\r\n         * Gets a value that specifies the collection of workflow associations for the content type.\r\n         */\r\n        get: function () {\r\n            return tag.configure(SharePointQueryableCollection(this, \"workflowAssociations\"), \"ct.workflowAssociations\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _ContentType;\r\n}(_SharePointQueryableInstance));\r\nexport { _ContentType };\r\nexport var ContentType = spInvokableFactory(_ContentType);\r\nvar _FieldLinks = /** @class */ (function (_super) {\r\n    __extends(_FieldLinks, _super);\r\n    function _FieldLinks() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n    *  Gets a FieldLink by GUID id\r\n    *\r\n    * @param id The GUID id of the field link\r\n    */\r\n    _FieldLinks.prototype.getById = function (id) {\r\n        return tag.configure(FieldLink(this).concat(\"(guid'\" + id + \"')\"), \"fls.getById\");\r\n    };\r\n    _FieldLinks = __decorate([\r\n        defaultPath(\"fieldlinks\")\r\n    ], _FieldLinks);\r\n    return _FieldLinks;\r\n}(_SharePointQueryableCollection));\r\nexport { _FieldLinks };\r\nexport var FieldLinks = spInvokableFactory(_FieldLinks);\r\nvar _FieldLink = /** @class */ (function (_super) {\r\n    __extends(_FieldLink, _super);\r\n    function _FieldLink() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return _FieldLink;\r\n}(_SharePointQueryableInstance));\r\nexport { _FieldLink };\r\nexport var FieldLink = spInvokableFactory(_FieldLink);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { ContentTypes } from \"./types\";\r\naddProp(_Web, \"contentTypes\", ContentTypes);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Item } from \"../items/types\";\r\nimport { ContentType } from \"./types\";\r\naddProp(_Item, \"contentType\", ContentType, \"ContentType\");\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { ContentTypes } from \"./types\";\r\naddProp(_List, \"contentTypes\", ContentTypes);\r\n","import \"./web\";\r\nimport \"./item\";\r\nimport \"./list\";\r\nexport { ContentType, ContentTypes, FieldLink, FieldLinks, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Features = /** @class */ (function (_super) {\r\n    __extends(_Features, _super);\r\n    function _Features() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Adds (activates) the specified feature\r\n     *\r\n     * @param id The Id of the feature (GUID)\r\n     * @param force If true the feature activation will be forced\r\n     */\r\n    _Features.prototype.add = function (id, force) {\r\n        if (force === void 0) { force = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(Features, \"add\"), body({\r\n                            featdefScope: 0,\r\n                            featureId: id,\r\n                            force: force,\r\n                        }))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                feature: this.getById(id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a feature from the collection with the specified guid\r\n     *\r\n     * @param id The Id of the feature (GUID)\r\n     */\r\n    _Features.prototype.getById = function (id) {\r\n        var feature = Feature(this);\r\n        feature.concat(\"('\" + id + \"')\");\r\n        return tag.configure(feature, \"fes.getById\");\r\n    };\r\n    /**\r\n     * Removes (deactivates) a feature from the collection\r\n     *\r\n     * @param id The Id of the feature (GUID)\r\n     * @param force If true the feature deactivation will be forced\r\n     */\r\n    _Features.prototype.remove = function (id, force) {\r\n        if (force === void 0) { force = false; }\r\n        return spPost(this.clone(Features, \"remove\"), body({\r\n            featureId: id,\r\n            force: force,\r\n        }));\r\n    };\r\n    __decorate([\r\n        tag(\"fes.add\")\r\n    ], _Features.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"fes.remove\")\r\n    ], _Features.prototype, \"remove\", null);\r\n    _Features = __decorate([\r\n        defaultPath(\"features\")\r\n    ], _Features);\r\n    return _Features;\r\n}(_SharePointQueryableCollection));\r\nexport { _Features };\r\nexport var Features = spInvokableFactory(_Features);\r\nvar _Feature = /** @class */ (function (_super) {\r\n    __extends(_Feature, _super);\r\n    function _Feature() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Removes (deactivates) the feature\r\n     *\r\n     * @param force If true the feature deactivation will be forced\r\n     */\r\n    _Feature.prototype.deactivate = function (force) {\r\n        if (force === void 0) { force = false; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var removeDependency, feature, promise;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        removeDependency = this.addBatchDependency();\r\n                        return [4 /*yield*/, Feature(this).select(\"DefinitionId\")()];\r\n                    case 1:\r\n                        feature = _a.sent();\r\n                        promise = this.getParent(Features, this.parentUrl, \"\", this.batch).remove(feature.DefinitionId, force);\r\n                        removeDependency();\r\n                        return [2 /*return*/, promise];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"fe.deactivate\")\r\n    ], _Feature.prototype, \"deactivate\", null);\r\n    return _Feature;\r\n}(_SharePointQueryableInstance));\r\nexport { _Feature };\r\nexport var Feature = spInvokableFactory(_Feature);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Site } from \"../sites/types\";\r\nimport { Features } from \"./types\";\r\naddProp(_Site, \"features\", Features);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { Features } from \"./types\";\r\naddProp(_Web, \"features\", Features);\r\n","import \"./site\";\r\nimport \"./web\";\r\nexport { Feature, Features, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Fields = /** @class */ (function (_super) {\r\n    __extends(_Fields, _super);\r\n    function _Fields() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a field from the collection by id\r\n     *\r\n     * @param id The Id of the list\r\n     */\r\n    _Fields.prototype.getById = function (id) {\r\n        return tag.configure(Field(this).concat(\"('\" + id + \"')\"), \"fs.getById\");\r\n    };\r\n    /**\r\n     * Gets a field from the collection by title\r\n     *\r\n     * @param title The case-sensitive title of the field\r\n     */\r\n    _Fields.prototype.getByTitle = function (title) {\r\n        return tag.configure(Field(this, \"getByTitle('\" + title + \"')\"), \"fs.getByTitle\");\r\n    };\r\n    /**\r\n     * Gets a field from the collection by using internal name or title\r\n     *\r\n     * @param name The case-sensitive internal name or title of the field\r\n     */\r\n    _Fields.prototype.getByInternalNameOrTitle = function (name) {\r\n        return tag.configure(Field(this, \"getByInternalNameOrTitle('\" + name + \"')\"), \"fs.getByInternalNameOrTitle\");\r\n    };\r\n    /**\r\n     * Creates a field based on the specified schema\r\n     *\r\n     * @param xml A string or XmlSchemaFieldCreationInformation instance descrbing the field to create\r\n     */\r\n    _Fields.prototype.createFieldAsXml = function (xml) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof xml === \"string\") {\r\n                            xml = { SchemaXml: xml };\r\n                        }\r\n                        postBody = body({\r\n                            \"parameters\": assign(metadata(\"SP.XmlSchemaFieldCreationInformation\"), xml),\r\n                        });\r\n                        return [4 /*yield*/, spPost(this.clone(Fields, \"createfieldasxml\"), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                field: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new field to the collection\r\n     *\r\n     * @param title The new field's title\r\n     * @param fieldType The new field's type (ex: SP.FieldText)\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.add = function (title, fieldType, properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(Object.assign(metadata(fieldType), {\r\n                            \"Title\": title,\r\n                        }, properties));\r\n                        if (!tag.isTagged(this)) {\r\n                            tag.configure(this, \"fs.add\");\r\n                        }\r\n                        return [4 /*yield*/, spPost(this.clone(Fields, null), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                field: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldText to the collection\r\n     *\r\n     * @param title The field title\r\n     * @param maxLength The maximum number of characters allowed in the value of the field.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addText = function (title, maxLength, properties) {\r\n        if (maxLength === void 0) { maxLength = 255; }\r\n        var props = {\r\n            FieldTypeKind: 2,\r\n            MaxLength: maxLength,\r\n        };\r\n        return this.add(title, \"SP.FieldText\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldCalculated to the collection\r\n     *\r\n     * @param title The field title.\r\n     * @param formula The formula for the field.\r\n     * @param dateFormat The date and time format that is displayed in the field.\r\n     * @param outputType Specifies the output format for the field. Represents a FieldType value.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addCalculated = function (title, formula, dateFormat, outputType, properties) {\r\n        if (outputType === void 0) { outputType = FieldTypes.Text; }\r\n        var props = {\r\n            DateFormat: dateFormat,\r\n            FieldTypeKind: 17,\r\n            Formula: formula,\r\n            OutputType: outputType,\r\n        };\r\n        return this.add(title, \"SP.FieldCalculated\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldDateTime to the collection\r\n     *\r\n     * @param title The field title\r\n     * @param displayFormat The format of the date and time that is displayed in the field.\r\n     * @param calendarType Specifies the calendar type of the field.\r\n     * @param friendlyDisplayFormat The type of friendly display format that is used in the field.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addDateTime = function (title, displayFormat, calendarType, friendlyDisplayFormat, properties) {\r\n        if (displayFormat === void 0) { displayFormat = DateTimeFieldFormatType.DateOnly; }\r\n        if (calendarType === void 0) { calendarType = CalendarType.Gregorian; }\r\n        if (friendlyDisplayFormat === void 0) { friendlyDisplayFormat = DateTimeFieldFriendlyFormatType.Unspecified; }\r\n        var props = {\r\n            DateTimeCalendarType: calendarType,\r\n            DisplayFormat: displayFormat,\r\n            FieldTypeKind: 4,\r\n            FriendlyDisplayFormat: friendlyDisplayFormat,\r\n        };\r\n        return this.add(title, \"SP.FieldDateTime\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldNumber to the collection\r\n     *\r\n     * @param title The field title\r\n     * @param minValue The field's minimum value\r\n     * @param maxValue The field's maximum value\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addNumber = function (title, minValue, maxValue, properties) {\r\n        var props = { FieldTypeKind: 9 };\r\n        if (minValue !== undefined) {\r\n            props = assign({ MinimumValue: minValue }, props);\r\n        }\r\n        if (maxValue !== undefined) {\r\n            props = assign({ MaximumValue: maxValue }, props);\r\n        }\r\n        return this.add(title, \"SP.FieldNumber\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldCurrency to the collection\r\n     *\r\n     * @param title The field title\r\n     * @param minValue The field's minimum value\r\n     * @param maxValue The field's maximum value\r\n     * @param currencyLocalId Specifies the language code identifier (LCID) used to format the value of the field\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addCurrency = function (title, minValue, maxValue, currencyLocalId, properties) {\r\n        if (currencyLocalId === void 0) { currencyLocalId = 1033; }\r\n        var props = {\r\n            CurrencyLocaleId: currencyLocalId,\r\n            FieldTypeKind: 10,\r\n        };\r\n        if (minValue !== undefined) {\r\n            props = assign({ MinimumValue: minValue }, props);\r\n        }\r\n        if (maxValue !== undefined) {\r\n            props = assign({ MaximumValue: maxValue }, props);\r\n        }\r\n        return this.add(title, \"SP.FieldCurrency\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldMultiLineText to the collection\r\n     *\r\n     * @param title The field title\r\n     * @param numberOfLines Specifies the number of lines of text to display for the field.\r\n     * @param richText Specifies whether the field supports rich formatting.\r\n     * @param restrictedMode Specifies whether the field supports a subset of rich formatting.\r\n     * @param appendOnly Specifies whether all changes to the value of the field are displayed in list forms.\r\n     * @param allowHyperlink Specifies whether a hyperlink is allowed as a value of the field.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     *\r\n     */\r\n    _Fields.prototype.addMultilineText = function (title, numberOfLines, richText, restrictedMode, appendOnly, allowHyperlink, properties) {\r\n        if (numberOfLines === void 0) { numberOfLines = 6; }\r\n        if (richText === void 0) { richText = true; }\r\n        if (restrictedMode === void 0) { restrictedMode = false; }\r\n        if (appendOnly === void 0) { appendOnly = false; }\r\n        if (allowHyperlink === void 0) { allowHyperlink = true; }\r\n        var props = {\r\n            AllowHyperlink: allowHyperlink,\r\n            AppendOnly: appendOnly,\r\n            FieldTypeKind: 3,\r\n            NumberOfLines: numberOfLines,\r\n            RestrictedMode: restrictedMode,\r\n            RichText: richText,\r\n        };\r\n        return this.add(title, \"SP.FieldMultiLineText\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldUrl to the collection\r\n     *\r\n     * @param title The field title\r\n     */\r\n    _Fields.prototype.addUrl = function (title, displayFormat, properties) {\r\n        if (displayFormat === void 0) { displayFormat = UrlFieldFormatType.Hyperlink; }\r\n        var props = {\r\n            DisplayFormat: displayFormat,\r\n            FieldTypeKind: 11,\r\n        };\r\n        return this.add(title, \"SP.FieldUrl\", assign(props, properties));\r\n    };\r\n    /** Adds a user field to the colleciton\r\n    *\r\n    * @param title The new field's title\r\n    * @param selectionMode The selection mode of the field\r\n    * @param selectionGroup Value that specifies the identifier of the SharePoint group whose members can be selected as values of the field\r\n    * @param properties\r\n    */\r\n    _Fields.prototype.addUser = function (title, selectionMode, properties) {\r\n        var props = {\r\n            FieldTypeKind: 20,\r\n            SelectionMode: selectionMode,\r\n        };\r\n        return this.add(title, \"SP.FieldUser\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a SP.FieldLookup to the collection\r\n     *\r\n     * @param title The new field's title\r\n     * @param lookupListId The guid id of the list where the source of the lookup is found\r\n     * @param lookupFieldName The internal name of the field in the source list\r\n     * @param properties Set of additional properties to set on the new field\r\n     */\r\n    _Fields.prototype.addLookup = function (title, lookupListId, lookupFieldName, properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var props, postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        props = assign({\r\n                            FieldTypeKind: 7,\r\n                            LookupFieldName: lookupFieldName,\r\n                            LookupListId: lookupListId,\r\n                            Title: title,\r\n                        }, properties);\r\n                        postBody = body({\r\n                            \"parameters\": assign(metadata(\"SP.FieldCreationInformation\"), props),\r\n                        });\r\n                        return [4 /*yield*/, spPost(this.clone(Fields, \"addfield\"), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                field: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldChoice to the collection\r\n     *\r\n     * @param title The field title.\r\n     * @param choices The choices for the field.\r\n     * @param format The display format of the available options for the field.\r\n     * @param fillIn Specifies whether the field allows fill-in values.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addChoice = function (title, choices, format, fillIn, properties) {\r\n        if (format === void 0) { format = ChoiceFieldFormatType.Dropdown; }\r\n        var props = {\r\n            Choices: {\r\n                results: choices,\r\n            },\r\n            EditFormat: format,\r\n            FieldTypeKind: 6,\r\n            FillInChoice: fillIn,\r\n        };\r\n        return this.add(title, \"SP.FieldChoice\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldMultiChoice to the collection\r\n     *\r\n     * @param title The field title.\r\n     * @param choices The choices for the field.\r\n     * @param fillIn Specifies whether the field allows fill-in values.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addMultiChoice = function (title, choices, fillIn, properties) {\r\n        var props = {\r\n            Choices: {\r\n                results: choices,\r\n            },\r\n            FieldTypeKind: 15,\r\n            FillInChoice: fillIn,\r\n        };\r\n        return this.add(title, \"SP.FieldMultiChoice\", assign(props, properties));\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldBoolean to the collection\r\n     *\r\n     * @param title The field title.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addBoolean = function (title, properties) {\r\n        var props = {\r\n            FieldTypeKind: 8,\r\n        };\r\n        return this.add(title, \"SP.Field\", assign(props, properties));\r\n    };\r\n    /**\r\n    * Creates a secondary (dependent) lookup field, based on the Id of the primary lookup field.\r\n    *\r\n    * @param displayName The display name of the new field.\r\n    * @param primaryLookupFieldId The guid of the primary Lookup Field.\r\n    * @param showField Which field to show from the lookup list.\r\n    */\r\n    _Fields.prototype.addDependentLookupField = function (displayName, primaryLookupFieldId, showField) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var path, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        path = \"adddependentlookupfield(displayName='\" + displayName + \"', primarylookupfieldid='\" + primaryLookupFieldId + \"', showfield='\" + showField + \"')\";\r\n                        return [4 /*yield*/, spPost(this.clone(Fields, path))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                field: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Adds a new SP.FieldLocation to the collection\r\n     *\r\n     * @param title The field title.\r\n     * @param properties Differ by type of field being created (see: https://msdn.microsoft.com/en-us/library/office/dn600182.aspx)\r\n     */\r\n    _Fields.prototype.addLocation = function (title, properties) {\r\n        var props = { FieldTypeKind: 33 };\r\n        return this.add(title, \"SP.FieldLocation\", assign(props, properties));\r\n    };\r\n    __decorate([\r\n        tag(\"fs.createFieldAsXml\")\r\n    ], _Fields.prototype, \"createFieldAsXml\", null);\r\n    __decorate([\r\n        tag(\"fs.addText\")\r\n    ], _Fields.prototype, \"addText\", null);\r\n    __decorate([\r\n        tag(\"fs.addCalculated\")\r\n    ], _Fields.prototype, \"addCalculated\", null);\r\n    __decorate([\r\n        tag(\"fs.addDateTime\")\r\n    ], _Fields.prototype, \"addDateTime\", null);\r\n    __decorate([\r\n        tag(\"fs.addNumber\")\r\n    ], _Fields.prototype, \"addNumber\", null);\r\n    __decorate([\r\n        tag(\"fs.addCurrency\")\r\n    ], _Fields.prototype, \"addCurrency\", null);\r\n    __decorate([\r\n        tag(\"fs.addMultilineText\")\r\n    ], _Fields.prototype, \"addMultilineText\", null);\r\n    __decorate([\r\n        tag(\"fs.addUrl\")\r\n    ], _Fields.prototype, \"addUrl\", null);\r\n    __decorate([\r\n        tag(\"fs.addUser\")\r\n    ], _Fields.prototype, \"addUser\", null);\r\n    __decorate([\r\n        tag(\"fs.addLookup\")\r\n    ], _Fields.prototype, \"addLookup\", null);\r\n    __decorate([\r\n        tag(\"fs.addChoice\")\r\n    ], _Fields.prototype, \"addChoice\", null);\r\n    __decorate([\r\n        tag(\"fs.addMultiChoice\")\r\n    ], _Fields.prototype, \"addMultiChoice\", null);\r\n    __decorate([\r\n        tag(\"fs.addBoolean\")\r\n    ], _Fields.prototype, \"addBoolean\", null);\r\n    __decorate([\r\n        tag(\"fs.addDependentLookupField\")\r\n    ], _Fields.prototype, \"addDependentLookupField\", null);\r\n    __decorate([\r\n        tag(\"fs.addLocation\")\r\n    ], _Fields.prototype, \"addLocation\", null);\r\n    _Fields = __decorate([\r\n        defaultPath(\"fields\")\r\n    ], _Fields);\r\n    return _Fields;\r\n}(_SharePointQueryableCollection));\r\nexport { _Fields };\r\nexport var Fields = spInvokableFactory(_Fields);\r\nvar _Field = /** @class */ (function (_super) {\r\n    __extends(_Field, _super);\r\n    function _Field() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"f\");\r\n        return _this;\r\n    }\r\n    /**\r\n     * Updates this field instance with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the list\r\n     * @param fieldType The type value such as SP.FieldLookup. Optional, looked up from the field if not provided\r\n     */\r\n    _Field.prototype.update = function (properties, fieldType) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var info, req, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (!(typeof fieldType === \"undefined\" || fieldType === null)) return [3 /*break*/, 2];\r\n                        return [4 /*yield*/, this.select(\"FieldTypeKind\")()];\r\n                    case 1:\r\n                        info = _a.sent();\r\n                        fieldType = \"SP.Field\" + FieldTypes[info.FieldTypeKind];\r\n                        _a.label = 2;\r\n                    case 2:\r\n                        req = body(assign(metadata(fieldType), properties), headers({ \"X-HTTP-Method\": \"MERGE\" }));\r\n                        return [4 /*yield*/, spPost(this, req)];\r\n                    case 3:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                field: this,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Sets the value of the ShowInDisplayForm property for this field.\r\n     */\r\n    _Field.prototype.setShowInDisplayForm = function (show) {\r\n        return spPost(this.clone(Field, \"setshowindisplayform(\" + show + \")\"));\r\n    };\r\n    /**\r\n     * Sets the value of the ShowInEditForm property for this field.\r\n     */\r\n    _Field.prototype.setShowInEditForm = function (show) {\r\n        return spPost(this.clone(Field, \"setshowineditform(\" + show + \")\"));\r\n    };\r\n    /**\r\n     * Sets the value of the ShowInNewForm property for this field.\r\n     */\r\n    _Field.prototype.setShowInNewForm = function (show) {\r\n        return spPost(this.clone(Field, \"setshowinnewform(\" + show + \")\"));\r\n    };\r\n    __decorate([\r\n        tag(\"f.update\")\r\n    ], _Field.prototype, \"update\", null);\r\n    __decorate([\r\n        tag(\"f.setShowInDisplayForm\")\r\n    ], _Field.prototype, \"setShowInDisplayForm\", null);\r\n    __decorate([\r\n        tag(\"f.setShowInEditForm\")\r\n    ], _Field.prototype, \"setShowInEditForm\", null);\r\n    __decorate([\r\n        tag(\"f.setShowInNewForm\")\r\n    ], _Field.prototype, \"setShowInNewForm\", null);\r\n    return _Field;\r\n}(_SharePointQueryableInstance));\r\nexport { _Field };\r\nexport var Field = spInvokableFactory(_Field);\r\n/**\r\n * Specifies the type of the field.\r\n */\r\nexport var FieldTypes;\r\n(function (FieldTypes) {\r\n    FieldTypes[FieldTypes[\"Invalid\"] = 0] = \"Invalid\";\r\n    FieldTypes[FieldTypes[\"Integer\"] = 1] = \"Integer\";\r\n    FieldTypes[FieldTypes[\"Text\"] = 2] = \"Text\";\r\n    FieldTypes[FieldTypes[\"Note\"] = 3] = \"Note\";\r\n    FieldTypes[FieldTypes[\"DateTime\"] = 4] = \"DateTime\";\r\n    FieldTypes[FieldTypes[\"Counter\"] = 5] = \"Counter\";\r\n    FieldTypes[FieldTypes[\"Choice\"] = 6] = \"Choice\";\r\n    FieldTypes[FieldTypes[\"Lookup\"] = 7] = \"Lookup\";\r\n    FieldTypes[FieldTypes[\"Boolean\"] = 8] = \"Boolean\";\r\n    FieldTypes[FieldTypes[\"Number\"] = 9] = \"Number\";\r\n    FieldTypes[FieldTypes[\"Currency\"] = 10] = \"Currency\";\r\n    FieldTypes[FieldTypes[\"URL\"] = 11] = \"URL\";\r\n    FieldTypes[FieldTypes[\"Computed\"] = 12] = \"Computed\";\r\n    FieldTypes[FieldTypes[\"Threading\"] = 13] = \"Threading\";\r\n    FieldTypes[FieldTypes[\"Guid\"] = 14] = \"Guid\";\r\n    FieldTypes[FieldTypes[\"MultiChoice\"] = 15] = \"MultiChoice\";\r\n    FieldTypes[FieldTypes[\"GridChoice\"] = 16] = \"GridChoice\";\r\n    FieldTypes[FieldTypes[\"Calculated\"] = 17] = \"Calculated\";\r\n    FieldTypes[FieldTypes[\"File\"] = 18] = \"File\";\r\n    FieldTypes[FieldTypes[\"Attachments\"] = 19] = \"Attachments\";\r\n    FieldTypes[FieldTypes[\"User\"] = 20] = \"User\";\r\n    FieldTypes[FieldTypes[\"Recurrence\"] = 21] = \"Recurrence\";\r\n    FieldTypes[FieldTypes[\"CrossProjectLink\"] = 22] = \"CrossProjectLink\";\r\n    FieldTypes[FieldTypes[\"ModStat\"] = 23] = \"ModStat\";\r\n    FieldTypes[FieldTypes[\"Error\"] = 24] = \"Error\";\r\n    FieldTypes[FieldTypes[\"ContentTypeId\"] = 25] = \"ContentTypeId\";\r\n    FieldTypes[FieldTypes[\"PageSeparator\"] = 26] = \"PageSeparator\";\r\n    FieldTypes[FieldTypes[\"ThreadIndex\"] = 27] = \"ThreadIndex\";\r\n    FieldTypes[FieldTypes[\"WorkflowStatus\"] = 28] = \"WorkflowStatus\";\r\n    FieldTypes[FieldTypes[\"AllDayEvent\"] = 29] = \"AllDayEvent\";\r\n    FieldTypes[FieldTypes[\"WorkflowEventType\"] = 30] = \"WorkflowEventType\";\r\n})(FieldTypes || (FieldTypes = {}));\r\nexport var DateTimeFieldFormatType;\r\n(function (DateTimeFieldFormatType) {\r\n    DateTimeFieldFormatType[DateTimeFieldFormatType[\"DateOnly\"] = 0] = \"DateOnly\";\r\n    DateTimeFieldFormatType[DateTimeFieldFormatType[\"DateTime\"] = 1] = \"DateTime\";\r\n})(DateTimeFieldFormatType || (DateTimeFieldFormatType = {}));\r\nexport var DateTimeFieldFriendlyFormatType;\r\n(function (DateTimeFieldFriendlyFormatType) {\r\n    DateTimeFieldFriendlyFormatType[DateTimeFieldFriendlyFormatType[\"Unspecified\"] = 0] = \"Unspecified\";\r\n    DateTimeFieldFriendlyFormatType[DateTimeFieldFriendlyFormatType[\"Disabled\"] = 1] = \"Disabled\";\r\n    DateTimeFieldFriendlyFormatType[DateTimeFieldFriendlyFormatType[\"Relative\"] = 2] = \"Relative\";\r\n})(DateTimeFieldFriendlyFormatType || (DateTimeFieldFriendlyFormatType = {}));\r\n/**\r\n * Specifies the control settings while adding a field.\r\n */\r\nexport var AddFieldOptions;\r\n(function (AddFieldOptions) {\r\n    /**\r\n     *  Specify that a new field added to the list must also be added to the default content type in the site collection\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"DefaultValue\"] = 0] = \"DefaultValue\";\r\n    /**\r\n     * Specify that a new field added to the list must also be added to the default content type in the site collection.\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"AddToDefaultContentType\"] = 1] = \"AddToDefaultContentType\";\r\n    /**\r\n     * Specify that a new field must not be added to any other content type\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"AddToNoContentType\"] = 2] = \"AddToNoContentType\";\r\n    /**\r\n     *  Specify that a new field that is added to the specified list must also be added to all content types in the site collection\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"AddToAllContentTypes\"] = 4] = \"AddToAllContentTypes\";\r\n    /**\r\n     * Specify adding an internal field name hint for the purpose of avoiding possible database locking or field renaming operations\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"AddFieldInternalNameHint\"] = 8] = \"AddFieldInternalNameHint\";\r\n    /**\r\n     * Specify that a new field that is added to the specified list must also be added to the default list view\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"AddFieldToDefaultView\"] = 16] = \"AddFieldToDefaultView\";\r\n    /**\r\n     * Specify to confirm that no other field has the same display name\r\n     */\r\n    AddFieldOptions[AddFieldOptions[\"AddFieldCheckDisplayName\"] = 32] = \"AddFieldCheckDisplayName\";\r\n})(AddFieldOptions || (AddFieldOptions = {}));\r\nexport var CalendarType;\r\n(function (CalendarType) {\r\n    CalendarType[CalendarType[\"Gregorian\"] = 1] = \"Gregorian\";\r\n    CalendarType[CalendarType[\"Japan\"] = 3] = \"Japan\";\r\n    CalendarType[CalendarType[\"Taiwan\"] = 4] = \"Taiwan\";\r\n    CalendarType[CalendarType[\"Korea\"] = 5] = \"Korea\";\r\n    CalendarType[CalendarType[\"Hijri\"] = 6] = \"Hijri\";\r\n    CalendarType[CalendarType[\"Thai\"] = 7] = \"Thai\";\r\n    CalendarType[CalendarType[\"Hebrew\"] = 8] = \"Hebrew\";\r\n    CalendarType[CalendarType[\"GregorianMEFrench\"] = 9] = \"GregorianMEFrench\";\r\n    CalendarType[CalendarType[\"GregorianArabic\"] = 10] = \"GregorianArabic\";\r\n    CalendarType[CalendarType[\"GregorianXLITEnglish\"] = 11] = \"GregorianXLITEnglish\";\r\n    CalendarType[CalendarType[\"GregorianXLITFrench\"] = 12] = \"GregorianXLITFrench\";\r\n    CalendarType[CalendarType[\"KoreaJapanLunar\"] = 14] = \"KoreaJapanLunar\";\r\n    CalendarType[CalendarType[\"ChineseLunar\"] = 15] = \"ChineseLunar\";\r\n    CalendarType[CalendarType[\"SakaEra\"] = 16] = \"SakaEra\";\r\n    CalendarType[CalendarType[\"UmAlQura\"] = 23] = \"UmAlQura\";\r\n})(CalendarType || (CalendarType = {}));\r\nexport var UrlFieldFormatType;\r\n(function (UrlFieldFormatType) {\r\n    UrlFieldFormatType[UrlFieldFormatType[\"Hyperlink\"] = 0] = \"Hyperlink\";\r\n    UrlFieldFormatType[UrlFieldFormatType[\"Image\"] = 1] = \"Image\";\r\n})(UrlFieldFormatType || (UrlFieldFormatType = {}));\r\nexport var FieldUserSelectionMode;\r\n(function (FieldUserSelectionMode) {\r\n    FieldUserSelectionMode[FieldUserSelectionMode[\"PeopleAndGroups\"] = 1] = \"PeopleAndGroups\";\r\n    FieldUserSelectionMode[FieldUserSelectionMode[\"PeopleOnly\"] = 0] = \"PeopleOnly\";\r\n})(FieldUserSelectionMode || (FieldUserSelectionMode = {}));\r\nexport var ChoiceFieldFormatType;\r\n(function (ChoiceFieldFormatType) {\r\n    ChoiceFieldFormatType[ChoiceFieldFormatType[\"Dropdown\"] = 0] = \"Dropdown\";\r\n    ChoiceFieldFormatType[ChoiceFieldFormatType[\"RadioButtons\"] = 1] = \"RadioButtons\";\r\n})(ChoiceFieldFormatType || (ChoiceFieldFormatType = {}));\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { Fields } from \"./types\";\r\naddProp(_Web, \"fields\", Fields);\r\naddProp(_Web, \"availablefields\", Fields, \"availablefields\");\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Fields } from \"./types\";\r\naddProp(_List, \"fields\", Fields);\r\n","import \"./web\";\r\nimport \"./list\";\r\nimport \"./web\";\r\nexport { Fields, Field, AddFieldOptions, CalendarType, ChoiceFieldFormatType, DateTimeFieldFormatType, DateTimeFieldFriendlyFormatType, FieldTypes, FieldUserSelectionMode, UrlFieldFormatType, } from \"./types\";\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Folder } from \"../folders/types\";\r\nimport { Files } from \"./types\";\r\naddProp(_Folder, \"files\", Files);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Item } from \"../items/types\";\r\nimport { File } from \"./types\";\r\naddProp(_Item, \"file\", File, \"file\");\r\n","import \"./folder\";\r\nimport \"./item\";\r\nimport \"./web\";\r\nexport { File, Files, CheckinType, MoveOperations, TemplateFileType, Version, Versions, } from \"./types\";\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Item } from \"../items/types\";\r\nimport { Folder } from \"./types\";\r\naddProp(_Item, \"folder\", Folder, \"folder\");\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Folder } from \"./types\";\r\naddProp(_List, \"rootFolder\", Folder, \"rootFolder\");\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { Folders, Folder } from \"./types\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\naddProp(_Web, \"folders\", Folders);\r\naddProp(_Web, \"rootFolder\", Folder, \"rootFolder\");\r\n_Web.prototype.getFolderByServerRelativeUrl = function (folderRelativeUrl) {\r\n    return Folder(this, \"getFolderByServerRelativeUrl('\" + escapeQueryStrValue(folderRelativeUrl) + \"')\");\r\n};\r\n_Web.prototype.getFolderByServerRelativePath = function (folderRelativeUrl) {\r\n    return Folder(this, \"getFolderByServerRelativePath(decodedUrl='\" + escapeQueryStrValue(folderRelativeUrl) + \"')\");\r\n};\r\n_Web.prototype.getFolderById = function (uniqueId) {\r\n    return Folder(this, \"getFolderById('\" + uniqueId + \"')\");\r\n};\r\n","import \"./item\";\r\nimport \"./list\";\r\nimport \"./web\";\r\nexport { Folder, Folders, } from \"./types\";\r\n","import { __decorate, __extends } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { tag } from \"../telemetry\";\r\n/**\r\n * Describes a collection of Form objects\r\n *\r\n */\r\nvar _Forms = /** @class */ (function (_super) {\r\n    __extends(_Forms, _super);\r\n    function _Forms() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a form by id\r\n     *\r\n     * @param id The guid id of the item to retrieve\r\n     */\r\n    _Forms.prototype.getById = function (id) {\r\n        return tag.configure(Form(this).concat(\"('\" + id + \"')\"), \"fos.getById\");\r\n    };\r\n    _Forms = __decorate([\r\n        defaultPath(\"forms\")\r\n    ], _Forms);\r\n    return _Forms;\r\n}(_SharePointQueryableCollection));\r\nexport { _Forms };\r\nexport var Forms = spInvokableFactory(_Forms);\r\n/**\r\n * Describes a single of Form instance\r\n *\r\n */\r\nvar _Form = /** @class */ (function (_super) {\r\n    __extends(_Form, _super);\r\n    function _Form() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    return _Form;\r\n}(_SharePointQueryableInstance));\r\nexport { _Form };\r\nexport var Form = spInvokableFactory(_Form);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Forms } from \"./types\";\r\naddProp(_List, \"forms\", Forms, \"forms\");\r\n","import \"./list\";\r\nexport { Form, Forms, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { Site } from \"../sites/types\";\r\nimport { tag } from \"../telemetry\";\r\nvar _HubSites = /** @class */ (function (_super) {\r\n    __extends(_HubSites, _super);\r\n    function _HubSites() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a Hub Site from the collection by id\r\n     *\r\n     * @param id The Id of the Hub Site\r\n     */\r\n    _HubSites.prototype.getById = function (id) {\r\n        return tag.configure(HubSite(this, \"GetById?hubSiteId='\" + id + \"'\"), \"hss.getById\");\r\n    };\r\n    _HubSites = __decorate([\r\n        defaultPath(\"_api/hubsites\")\r\n    ], _HubSites);\r\n    return _HubSites;\r\n}(_SharePointQueryableCollection));\r\nexport { _HubSites };\r\nexport var HubSites = spInvokableFactory(_HubSites);\r\nvar _HubSite = /** @class */ (function (_super) {\r\n    __extends(_HubSite, _super);\r\n    function _HubSite() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets the ISite instance associated with this hubsite\r\n     */\r\n    _HubSite.prototype.getSite = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var d;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.select(\"SiteUrl\")()];\r\n                    case 1:\r\n                        d = _a.sent();\r\n                        return [2 /*return*/, Site(d.SiteUrl)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"hs.getSite\")\r\n    ], _HubSite.prototype, \"getSite\", null);\r\n    return _HubSite;\r\n}(_SharePointQueryableInstance));\r\nexport { _HubSite };\r\nexport var HubSite = spInvokableFactory(_HubSite);\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { _Site, Site } from \"../sites/types\";\r\nimport { spPost } from \"../operations\";\r\n_Site.prototype.joinHubSite = function (siteId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, spPost(this.clone(Site, \"joinHubSite('\" + siteId + \"')\"))];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Site.prototype.registerHubSite = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, spPost(this.clone(Site, \"registerHubSite\"))];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Site.prototype.unRegisterHubSite = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, spPost(this.clone(Site, \"unRegisterHubSite\"))];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { _Web, Web } from \"../webs/types\";\r\nimport { spPost } from \"../operations\";\r\n_Web.prototype.hubSiteData = function (forceRefresh) {\r\n    if (forceRefresh === void 0) { forceRefresh = false; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var data;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.clone(Web, \"hubSiteData(\" + forceRefresh + \")\")()];\r\n                case 1:\r\n                    data = _a.sent();\r\n                    if (typeof data === \"string\") {\r\n                        return [2 /*return*/, JSON.parse(data)];\r\n                    }\r\n                    return [2 /*return*/, data];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Web.prototype.syncHubSiteTheme = function () {\r\n    return spPost(this.clone(Web, \"syncHubSiteTheme\"));\r\n};\r\n","import { SPRest } from \"../rest\";\r\nimport { HubSites } from \"./types\";\r\nimport \"./site\";\r\nimport \"./web\";\r\nexport { HubSite, HubSites, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"hubSites\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return HubSites(this._baseUrl).configure(this._options);\r\n    },\r\n});\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, _SharePointQueryable, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\n/**\r\n * Represents a collection of navigation nodes\r\n *\r\n */\r\nvar _NavigationNodes = /** @class */ (function (_super) {\r\n    __extends(_NavigationNodes, _super);\r\n    function _NavigationNodes() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a navigation node by id\r\n     *\r\n     * @param id The id of the node\r\n     */\r\n    _NavigationNodes.prototype.getById = function (id) {\r\n        return tag.configure(NavigationNode(this).concat(\"(\" + id + \")\"), \"nns.getById\");\r\n    };\r\n    /**\r\n     * Adds a new node to the collection\r\n     *\r\n     * @param title Display name of the node\r\n     * @param url The url of the node\r\n     * @param visible If true the node is visible, otherwise it is hidden (default: true)\r\n     */\r\n    _NavigationNodes.prototype.add = function (title, url, visible) {\r\n        if (visible === void 0) { visible = true; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.NavigationNode\"), {\r\n                            IsVisible: visible,\r\n                            Title: title,\r\n                            Url: url,\r\n                        }));\r\n                        return [4 /*yield*/, spPost(this.clone(NavigationNodes, null), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                node: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Moves a node to be after another node in the navigation\r\n     *\r\n     * @param nodeId Id of the node to move\r\n     * @param previousNodeId Id of the node after which we move the node specified by nodeId\r\n     */\r\n    _NavigationNodes.prototype.moveAfter = function (nodeId, previousNodeId) {\r\n        var postBody = body({\r\n            nodeId: nodeId,\r\n            previousNodeId: previousNodeId,\r\n        });\r\n        return spPost(this.clone(NavigationNodes, \"MoveAfter\"), postBody);\r\n    };\r\n    __decorate([\r\n        tag(\"nns.add\")\r\n    ], _NavigationNodes.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"nns.moveAfter\")\r\n    ], _NavigationNodes.prototype, \"moveAfter\", null);\r\n    return _NavigationNodes;\r\n}(_SharePointQueryableCollection));\r\nexport { _NavigationNodes };\r\nexport var NavigationNodes = spInvokableFactory(_NavigationNodes);\r\n/**\r\n * Represents an instance of a navigation node\r\n *\r\n */\r\nvar _NavigationNode = /** @class */ (function (_super) {\r\n    __extends(_NavigationNode, _super);\r\n    function _NavigationNode() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"nn\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_NavigationNode.prototype, \"children\", {\r\n        /**\r\n         * Represents the child nodes of this node\r\n         */\r\n        get: function () {\r\n            return tag.configure(NavigationNodes(this, \"children\"), \"nn.children\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Updates this node\r\n     *\r\n     * @param properties Properties used to update this node\r\n     */\r\n    _NavigationNode.prototype.update = function (properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.NavigationNode\"), properties), headers({ \"X-HTTP-Method\": \"MERGE\" }));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                node: this,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"nn.update\")\r\n    ], _NavigationNode.prototype, \"update\", null);\r\n    return _NavigationNode;\r\n}(_SharePointQueryableInstance));\r\nexport { _NavigationNode };\r\nexport var NavigationNode = spInvokableFactory(_NavigationNode);\r\n/**\r\n * Exposes the navigation components\r\n *\r\n */\r\nvar _Navigation = /** @class */ (function (_super) {\r\n    __extends(_Navigation, _super);\r\n    function _Navigation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Navigation.prototype, \"quicklaunch\", {\r\n        /**\r\n         * Gets the quicklaunch navigation nodes for the current context\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(NavigationNodes(this, \"quicklaunch\"), \"n.quicklaunch\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Navigation.prototype, \"topNavigationBar\", {\r\n        /**\r\n         * Gets the top bar navigation nodes for the current context\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(NavigationNodes(this, \"topnavigationbar\"), \"n.topnavigationbar\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    _Navigation = __decorate([\r\n        defaultPath(\"navigation\")\r\n    ], _Navigation);\r\n    return _Navigation;\r\n}(_SharePointQueryable));\r\nexport { _Navigation };\r\nexport var Navigation = spInvokableFactory(_Navigation);\r\n/**\r\n * Represents the top level navigation service\r\n */\r\nvar _NavigationService = /** @class */ (function (_super) {\r\n    __extends(_NavigationService, _super);\r\n    function _NavigationService(path) {\r\n        if (path === void 0) { path = null; }\r\n        return _super.call(this, \"_api/navigation\", path) || this;\r\n    }\r\n    /**\r\n     * The MenuState service operation returns a Menu-State (dump) of a SiteMapProvider on a site.\r\n     *\r\n     * @param menuNodeKey MenuNode.Key of the start node within the SiteMapProvider If no key is provided the SiteMapProvider.RootNode will be the root of the menu state.\r\n     * @param depth Depth of the dump. If no value is provided a dump with the depth of 10 is returned\r\n     * @param mapProviderName The name identifying the SiteMapProvider to be used\r\n     * @param customProperties comma seperated list of custom properties to be returned.\r\n     */\r\n    _NavigationService.prototype.getMenuState = function (menuNodeKey, depth, mapProviderName, customProperties) {\r\n        if (menuNodeKey === void 0) { menuNodeKey = null; }\r\n        if (depth === void 0) { depth = 10; }\r\n        if (mapProviderName === void 0) { mapProviderName = null; }\r\n        if (customProperties === void 0) { customProperties = null; }\r\n        return spPost(NavigationService(\"MenuState\"), body({\r\n            customProperties: customProperties,\r\n            depth: depth,\r\n            mapProviderName: mapProviderName,\r\n            menuNodeKey: menuNodeKey,\r\n        }));\r\n    };\r\n    /**\r\n     * Tries to get a SiteMapNode.Key for a given URL within a site collection.\r\n     *\r\n     * @param currentUrl A url representing the SiteMapNode\r\n     * @param mapProviderName The name identifying the SiteMapProvider to be used\r\n     */\r\n    _NavigationService.prototype.getMenuNodeKey = function (currentUrl, mapProviderName) {\r\n        if (mapProviderName === void 0) { mapProviderName = null; }\r\n        return spPost(NavigationService(\"MenuNodeKey\"), body({\r\n            currentUrl: currentUrl,\r\n            mapProviderName: mapProviderName,\r\n        }));\r\n    };\r\n    __decorate([\r\n        tag(\"ns.getMenuState\")\r\n    ], _NavigationService.prototype, \"getMenuState\", null);\r\n    __decorate([\r\n        tag(\"ns.getMenuNodeKey\")\r\n    ], _NavigationService.prototype, \"getMenuNodeKey\", null);\r\n    return _NavigationService;\r\n}(_SharePointQueryable));\r\nexport { _NavigationService };\r\nexport var NavigationService = function (path) { return new _NavigationService(path); };\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { Navigation } from \"./types\";\r\naddProp(_Web, \"navigation\", Navigation);\r\n","import { SPRest } from \"../rest\";\r\nimport { NavigationService } from \"./types\";\r\nimport \"./web\";\r\nexport { Navigation, NavigationNode, NavigationNodes, NavigationService, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"navigation\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return NavigationService().configure(this._options);\r\n    },\r\n});\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, SharePointQueryableCollection, _SharePointQueryable, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nvar _Profiles = /** @class */ (function (_super) {\r\n    __extends(_Profiles, _super);\r\n    /**\r\n     * Creates a new instance of the UserProfileQuery class\r\n     *\r\n     * @param baseUrl The url or SharePointQueryable which forms the parent of this user profile query\r\n     */\r\n    function _Profiles(baseUrl, path) {\r\n        if (path === void 0) { path = \"_api/sp.userprofiles.peoplemanager\"; }\r\n        var _this = _super.call(this, baseUrl, path) || this;\r\n        _this.clientPeoplePickerQuery = (new ClientPeoplePickerQuery(baseUrl)).configureFrom(_this);\r\n        _this.profileLoader = (new ProfileLoader(baseUrl)).configureFrom(_this);\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_Profiles.prototype, \"editProfileLink\", {\r\n        /**\r\n         * The url of the edit profile page for the current user\r\n         */\r\n        get: function () {\r\n            return this.clone(Profiles, \"EditProfileLink\").get();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Profiles.prototype, \"isMyPeopleListPublic\", {\r\n        /**\r\n         * A boolean value that indicates whether the current user's \"People I'm Following\" list is public\r\n         */\r\n        get: function () {\r\n            return this.clone(Profiles, \"IsMyPeopleListPublic\").get();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * A boolean value that indicates whether the current user is being followed by the specified user\r\n     *\r\n     * @param loginName The account name of the user\r\n     */\r\n    _Profiles.prototype.amIFollowedBy = function (loginName) {\r\n        var q = this.clone(Profiles, \"amifollowedby(@v)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return q.get();\r\n    };\r\n    /**\r\n     * A boolean value that indicates whether the current user is following the specified user\r\n     *\r\n     * @param loginName The account name of the user\r\n     */\r\n    _Profiles.prototype.amIFollowing = function (loginName) {\r\n        var q = this.clone(Profiles, \"amifollowing(@v)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return q.get();\r\n    };\r\n    /**\r\n     * Gets tags that the current user is following\r\n     *\r\n     * @param maxCount The maximum number of tags to retrieve (default is 20)\r\n     */\r\n    _Profiles.prototype.getFollowedTags = function (maxCount) {\r\n        if (maxCount === void 0) { maxCount = 20; }\r\n        return this.clone(Profiles, \"getfollowedtags(\" + maxCount + \")\").get();\r\n    };\r\n    /**\r\n     * Gets the people who are following the specified user\r\n     *\r\n     * @param loginName The account name of the user\r\n     */\r\n    _Profiles.prototype.getFollowersFor = function (loginName) {\r\n        var q = this.clone(Profiles, \"getfollowersfor(@v)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return q.get();\r\n    };\r\n    Object.defineProperty(_Profiles.prototype, \"myFollowers\", {\r\n        /**\r\n         * Gets the people who are following the current user\r\n         *\r\n         */\r\n        get: function () {\r\n            return SharePointQueryableCollection(this, \"getmyfollowers\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Profiles.prototype, \"myProperties\", {\r\n        /**\r\n         * Gets user properties for the current user\r\n         *\r\n         */\r\n        get: function () {\r\n            return new _Profiles(this, \"getmyproperties\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets the people who the specified user is following\r\n     *\r\n     * @param loginName The account name of the user.\r\n     */\r\n    _Profiles.prototype.getPeopleFollowedBy = function (loginName) {\r\n        var q = this.clone(Profiles, \"getpeoplefollowedby(@v)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return q.get();\r\n    };\r\n    /**\r\n     * Gets user properties for the specified user.\r\n     *\r\n     * @param loginName The account name of the user.\r\n     */\r\n    _Profiles.prototype.getPropertiesFor = function (loginName) {\r\n        var q = this.clone(Profiles, \"getpropertiesfor(@v)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return q.get();\r\n    };\r\n    Object.defineProperty(_Profiles.prototype, \"trendingTags\", {\r\n        /**\r\n         * Gets the 20 most popular hash tags over the past week, sorted so that the most popular tag appears first\r\n         *\r\n         */\r\n        get: function () {\r\n            var q = this.clone(Profiles, null);\r\n            q.concat(\".gettrendingtags\");\r\n            return q.get();\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets the specified user profile property for the specified user\r\n     *\r\n     * @param loginName The account name of the user\r\n     * @param propertyName The case-sensitive name of the property to get\r\n     */\r\n    _Profiles.prototype.getUserProfilePropertyFor = function (loginName, propertyName) {\r\n        var q = this.clone(Profiles, \"getuserprofilepropertyfor(accountname=@v, propertyname='\" + propertyName + \"')\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return q.get();\r\n    };\r\n    /**\r\n     * Removes the specified user from the user's list of suggested people to follow\r\n     *\r\n     * @param loginName The account name of the user\r\n     */\r\n    _Profiles.prototype.hideSuggestion = function (loginName) {\r\n        var q = this.clone(Profiles, \"hidesuggestion(@v)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return spPost(q);\r\n    };\r\n    /**\r\n     * A boolean values that indicates whether the first user is following the second user\r\n     *\r\n     * @param follower The account name of the user who might be following the followee\r\n     * @param followee The account name of the user who might be followed by the follower\r\n     */\r\n    _Profiles.prototype.isFollowing = function (follower, followee) {\r\n        var q = this.clone(Profiles, null);\r\n        q.concat(\".isfollowing(possiblefolloweraccountname=@v, possiblefolloweeaccountname=@y)\");\r\n        q.query.set(\"@v\", \"'\" + encodeURIComponent(follower) + \"'\");\r\n        q.query.set(\"@y\", \"'\" + encodeURIComponent(followee) + \"'\");\r\n        return q.get();\r\n    };\r\n    /**\r\n     * Uploads and sets the user profile picture (Users can upload a picture to their own profile only). Not supported for batching.\r\n     *\r\n     * @param profilePicSource Blob data representing the user's picture in BMP, JPEG, or PNG format of up to 4.76MB\r\n     */\r\n    _Profiles.prototype.setMyProfilePic = function (profilePicSource) {\r\n        var buffer = null;\r\n        var reader = new FileReader();\r\n        reader.onload = function (e) { return buffer = e.target.result; };\r\n        reader.readAsArrayBuffer(profilePicSource);\r\n        var request = new _Profiles(this, \"setmyprofilepicture\");\r\n        return spPost(request, body(String.fromCharCode.apply(null, new Uint16Array(buffer))));\r\n    };\r\n    /**\r\n     * Sets single value User Profile property\r\n     *\r\n     * @param accountName The account name of the user\r\n     * @param propertyName Property name\r\n     * @param propertyValue Property value\r\n     */\r\n    _Profiles.prototype.setSingleValueProfileProperty = function (accountName, propertyName, propertyValue) {\r\n        return spPost(this.clone(Profiles, \"SetSingleValueProfileProperty\"), body({\r\n            accountName: accountName,\r\n            propertyName: propertyName,\r\n            propertyValue: propertyValue,\r\n        }));\r\n    };\r\n    /**\r\n     * Sets multi valued User Profile property\r\n     *\r\n     * @param accountName The account name of the user\r\n     * @param propertyName Property name\r\n     * @param propertyValues Property values\r\n     */\r\n    _Profiles.prototype.setMultiValuedProfileProperty = function (accountName, propertyName, propertyValues) {\r\n        return spPost(this.clone(Profiles, \"SetMultiValuedProfileProperty\"), body({\r\n            accountName: accountName,\r\n            propertyName: propertyName,\r\n            propertyValues: propertyValues,\r\n        }));\r\n    };\r\n    /**\r\n     * Provisions one or more users' personal sites. (My Site administrator on SharePoint Online only)\r\n     *\r\n     * @param emails The email addresses of the users to provision sites for\r\n     */\r\n    _Profiles.prototype.createPersonalSiteEnqueueBulk = function () {\r\n        var emails = [];\r\n        for (var _i = 0; _i < arguments.length; _i++) {\r\n            emails[_i] = arguments[_i];\r\n        }\r\n        return this.profileLoader.createPersonalSiteEnqueueBulk(emails);\r\n    };\r\n    Object.defineProperty(_Profiles.prototype, \"ownerUserProfile\", {\r\n        /**\r\n         * Gets the user profile of the site owner\r\n         *\r\n         */\r\n        get: function () {\r\n            return this.profileLoader.ownerUserProfile;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Profiles.prototype, \"userProfile\", {\r\n        /**\r\n         * Gets the user profile for the current user\r\n         */\r\n        get: function () {\r\n            return this.profileLoader.userProfile;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Enqueues creating a personal site for this user, which can be used to share documents, web pages, and other files\r\n     *\r\n     * @param interactiveRequest true if interactively (web) initiated request, or false (default) if non-interactively (client) initiated request\r\n     */\r\n    _Profiles.prototype.createPersonalSite = function (interactiveRequest) {\r\n        if (interactiveRequest === void 0) { interactiveRequest = false; }\r\n        return this.profileLoader.createPersonalSite(interactiveRequest);\r\n    };\r\n    /**\r\n     * Sets the privacy settings for this profile\r\n     *\r\n     * @param share true to make all social data public; false to make all social data private\r\n     */\r\n    _Profiles.prototype.shareAllSocialData = function (share) {\r\n        return this.profileLoader.shareAllSocialData(share);\r\n    };\r\n    /**\r\n     * Resolves user or group using specified query parameters\r\n     *\r\n     * @param queryParams The query parameters used to perform resolve\r\n     */\r\n    _Profiles.prototype.clientPeoplePickerResolveUser = function (queryParams) {\r\n        return this.clientPeoplePickerQuery.clientPeoplePickerResolveUser(queryParams);\r\n    };\r\n    /**\r\n     * Searches for users or groups using specified query parameters\r\n     *\r\n     * @param queryParams The query parameters used to perform search\r\n     */\r\n    _Profiles.prototype.clientPeoplePickerSearchUser = function (queryParams) {\r\n        return this.clientPeoplePickerQuery.clientPeoplePickerSearchUser(queryParams);\r\n    };\r\n    return _Profiles;\r\n}(_SharePointQueryableInstance));\r\nexport { _Profiles };\r\nexport var Profiles = spInvokableFactory(_Profiles);\r\nvar ProfileLoader = /** @class */ (function (_super) {\r\n    __extends(ProfileLoader, _super);\r\n    function ProfileLoader() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Provisions one or more users' personal sites. (My Site administrator on SharePoint Online only) Doesn't support batching\r\n     *\r\n     * @param emails The email addresses of the users to provision sites for\r\n     */\r\n    ProfileLoader.prototype.createPersonalSiteEnqueueBulk = function (emails) {\r\n        return spPost(this.clone(ProfileLoaderFactory, \"createpersonalsiteenqueuebulk\", false), body({ \"emailIDs\": emails }));\r\n    };\r\n    Object.defineProperty(ProfileLoader.prototype, \"ownerUserProfile\", {\r\n        /**\r\n         * Gets the user profile of the site owner.\r\n         *\r\n         */\r\n        get: function () {\r\n            var q = this.getParent(ProfileLoaderFactory, this.parentUrl, \"_api/sp.userprofiles.profileloader.getowneruserprofile\");\r\n            if (this.hasBatch) {\r\n                q = q.inBatch(this.batch);\r\n            }\r\n            return spPost(q);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(ProfileLoader.prototype, \"userProfile\", {\r\n        /**\r\n         * Gets the user profile of the current user.\r\n         *\r\n         */\r\n        get: function () {\r\n            return spPost(this.clone(ProfileLoaderFactory, \"getuserprofile\"));\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Enqueues creating a personal site for this user, which can be used to share documents, web pages, and other files.\r\n     *\r\n     * @param interactiveRequest true if interactively (web) initiated request, or false (default) if non-interactively (client) initiated request\r\n     */\r\n    ProfileLoader.prototype.createPersonalSite = function (interactiveRequest) {\r\n        if (interactiveRequest === void 0) { interactiveRequest = false; }\r\n        return spPost(this.clone(ProfileLoaderFactory, \"getuserprofile/createpersonalsiteenque(\" + interactiveRequest + \")\"));\r\n    };\r\n    /**\r\n     * Sets the privacy settings for this profile\r\n     *\r\n     * @param share true to make all social data public; false to make all social data private.\r\n     */\r\n    ProfileLoader.prototype.shareAllSocialData = function (share) {\r\n        return spPost(this.clone(ProfileLoaderFactory, \"getuserprofile/shareallsocialdata(\" + share + \")\"));\r\n    };\r\n    ProfileLoader = __decorate([\r\n        defaultPath(\"_api/sp.userprofiles.profileloader.getprofileloader\")\r\n    ], ProfileLoader);\r\n    return ProfileLoader;\r\n}(_SharePointQueryable));\r\nvar ProfileLoaderFactory = function (baseUrl, path) {\r\n    return new ProfileLoader(baseUrl, path);\r\n};\r\nvar ClientPeoplePickerQuery = /** @class */ (function (_super) {\r\n    __extends(ClientPeoplePickerQuery, _super);\r\n    function ClientPeoplePickerQuery() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Resolves user or group using specified query parameters\r\n     *\r\n     * @param queryParams The query parameters used to perform resolve\r\n     */\r\n    ClientPeoplePickerQuery.prototype.clientPeoplePickerResolveUser = function (queryParams) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = this.clone(ClientPeoplePickerFactory, null);\r\n                        q.concat(\".clientpeoplepickerresolveuser\");\r\n                        return [4 /*yield*/, spPost(q, this.getBodyFrom(queryParams))];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [2 /*return*/, JSON.parse(typeof res === \"object\" ? res.ClientPeoplePickerResolveUser : res)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Searches for users or groups using specified query parameters\r\n     *\r\n     * @param queryParams The query parameters used to perform search\r\n     */\r\n    ClientPeoplePickerQuery.prototype.clientPeoplePickerSearchUser = function (queryParams) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var q, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        q = this.clone(ClientPeoplePickerFactory, null);\r\n                        q.concat(\".clientpeoplepickersearchuser\");\r\n                        return [4 /*yield*/, spPost(q, this.getBodyFrom(queryParams))];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [2 /*return*/, JSON.parse(typeof res === \"object\" ? res.ClientPeoplePickerSearchUser : res)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Creates ClientPeoplePickerQueryParameters request body\r\n     *\r\n     * @param queryParams The query parameters to create request body\r\n     */\r\n    ClientPeoplePickerQuery.prototype.getBodyFrom = function (queryParams) {\r\n        return body({ \"queryParams\": assign(metadata(\"SP.UI.ApplicationPages.ClientPeoplePickerQueryParameters\"), queryParams) });\r\n    };\r\n    ClientPeoplePickerQuery = __decorate([\r\n        defaultPath(\"_api/sp.ui.applicationpages.clientpeoplepickerwebserviceinterface\")\r\n    ], ClientPeoplePickerQuery);\r\n    return ClientPeoplePickerQuery;\r\n}(_SharePointQueryable));\r\nvar ClientPeoplePickerFactory = function (baseUrl, path) {\r\n    return new ClientPeoplePickerQuery(baseUrl, path);\r\n};\r\n/**\r\n * Specifies the originating zone of a request received.\r\n */\r\nexport var UrlZone;\r\n(function (UrlZone) {\r\n    /**\r\n     * Specifies the default zone used for requests unless another zone is specified.\r\n     */\r\n    UrlZone[UrlZone[\"DefaultZone\"] = 0] = \"DefaultZone\";\r\n    /**\r\n     * Specifies an intranet zone.\r\n     */\r\n    UrlZone[UrlZone[\"Intranet\"] = 1] = \"Intranet\";\r\n    /**\r\n     * Specifies an Internet zone.\r\n     */\r\n    UrlZone[UrlZone[\"Internet\"] = 2] = \"Internet\";\r\n    /**\r\n     * Specifies a custom zone.\r\n     */\r\n    UrlZone[UrlZone[\"Custom\"] = 3] = \"Custom\";\r\n    /**\r\n     * Specifies an extranet zone.\r\n     */\r\n    UrlZone[UrlZone[\"Extranet\"] = 4] = \"Extranet\";\r\n})(UrlZone || (UrlZone = {}));\r\n","import { SPRest } from \"../rest\";\r\nimport { Profiles } from \"./types\";\r\nexport { Profiles, UrlZone, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"profiles\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Profiles(this._baseUrl);\r\n    },\r\n});\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { dateAdd, hOP } from \"@pnp/common\";\r\nimport { _SharePointQueryableInstance, SharePointQueryableCollection, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spODataEntity } from \"../odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _RegionalSettings = /** @class */ (function (_super) {\r\n    __extends(_RegionalSettings, _super);\r\n    function _RegionalSettings() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_RegionalSettings.prototype, \"installedLanguages\", {\r\n        /**\r\n         * Gets the collection of languages used in a server farm.\r\n         * ** Please use getInstalledLanguages instead of this method **\r\n         */\r\n        get: function () {\r\n            console.warn(\"Deprecated: RegionalSettings.installedLanguages is deprecated, please use RegionalSettings.getInstalledLanguages\");\r\n            return tag.configure(SharePointQueryableCollection(this, \"installedlanguages\"), \"rs.installedLanguages\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_RegionalSettings.prototype, \"timeZone\", {\r\n        /**\r\n         * Gets time zone\r\n         */\r\n        get: function () {\r\n            return tag.configure(TimeZone(this), \"rs.tz\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_RegionalSettings.prototype, \"timeZones\", {\r\n        /**\r\n         * Gets time zones\r\n         */\r\n        get: function () {\r\n            return tag.configure(TimeZones(this), \"rs.tzs\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets the collection of languages used in a server farm.\r\n     */\r\n    _RegionalSettings.prototype.getInstalledLanguages = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var results;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, tag.configure(SharePointQueryableCollection(this, \"installedlanguages\"), \"rs.getInstalledLanguages\")()];\r\n                    case 1:\r\n                        results = _a.sent();\r\n                        return [2 /*return*/, results.Items];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _RegionalSettings = __decorate([\r\n        defaultPath(\"regionalsettings\")\r\n    ], _RegionalSettings);\r\n    return _RegionalSettings;\r\n}(_SharePointQueryableInstance));\r\nexport { _RegionalSettings };\r\nexport var RegionalSettings = spInvokableFactory(_RegionalSettings);\r\nvar _TimeZone = /** @class */ (function (_super) {\r\n    __extends(_TimeZone, _super);\r\n    function _TimeZone() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets an Local Time by UTC Time\r\n     *\r\n     * @param utcTime UTC Time as Date or ISO String\r\n     */\r\n    _TimeZone.prototype.utcToLocalTime = function (utcTime) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var dateIsoString, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof utcTime === \"string\") {\r\n                            dateIsoString = utcTime;\r\n                        }\r\n                        else {\r\n                            dateIsoString = utcTime.toISOString();\r\n                        }\r\n                        return [4 /*yield*/, spPost(this.clone(TimeZone, \"utctolocaltime('\" + dateIsoString + \"')\"))];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [2 /*return*/, hOP(res, \"UTCToLocalTime\") ? res.UTCToLocalTime : res];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets an UTC Time by Local Time\r\n     *\r\n     * @param localTime Local Time as Date or ISO String\r\n     */\r\n    _TimeZone.prototype.localTimeToUTC = function (localTime) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var dateIsoString, res;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        if (typeof localTime === \"string\") {\r\n                            dateIsoString = localTime;\r\n                        }\r\n                        else {\r\n                            dateIsoString = dateAdd(localTime, \"minute\", localTime.getTimezoneOffset() * -1).toISOString();\r\n                        }\r\n                        return [4 /*yield*/, spPost(this.clone(TimeZone, \"localtimetoutc('\" + dateIsoString + \"')\"))];\r\n                    case 1:\r\n                        res = _a.sent();\r\n                        return [2 /*return*/, hOP(res, \"LocalTimeToUTC\") ? res.LocalTimeToUTC : res];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"tz.utcToLocalTime\")\r\n    ], _TimeZone.prototype, \"utcToLocalTime\", null);\r\n    __decorate([\r\n        tag(\"tz.localTimeToUTC\")\r\n    ], _TimeZone.prototype, \"localTimeToUTC\", null);\r\n    _TimeZone = __decorate([\r\n        defaultPath(\"timezone\")\r\n    ], _TimeZone);\r\n    return _TimeZone;\r\n}(_SharePointQueryableInstance));\r\nexport { _TimeZone };\r\nexport var TimeZone = spInvokableFactory(_TimeZone);\r\nvar _TimeZones = /** @class */ (function (_super) {\r\n    __extends(_TimeZones, _super);\r\n    function _TimeZones() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets an TimeZone by id (see: https://msdn.microsoft.com/en-us/library/office/jj247008.aspx)\r\n     *\r\n     * @param id The integer id of the timezone to retrieve\r\n     */\r\n    _TimeZones.prototype.getById = function (id) {\r\n        // do the post and merge the result into a TimeZone instance so the data and methods are available\r\n        return spPost(this.clone(TimeZones, \"GetById(\" + id + \")\").usingParser(spODataEntity(TimeZone)));\r\n    };\r\n    __decorate([\r\n        tag(\"tzs.getById\")\r\n    ], _TimeZones.prototype, \"getById\", null);\r\n    _TimeZones = __decorate([\r\n        defaultPath(\"timezones\")\r\n    ], _TimeZones);\r\n    return _TimeZones;\r\n}(_SharePointQueryableCollection));\r\nexport { _TimeZones };\r\nexport var TimeZones = spInvokableFactory(_TimeZones);\r\n","import { SharePointQueryable } from \"../sharepointqueryable\";\r\nimport { spPost } from \"../operations\";\r\nimport { body } from \"@pnp/odata\";\r\nexport function getValueForUICultureBinder(propName) {\r\n    return function (cultureName) {\r\n        return spPost(this.clone(SharePointQueryable, propName + \"/getValueForUICulture\"), body({ cultureName: cultureName }));\r\n    };\r\n}\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { RegionalSettings } from \"./types\";\r\nimport { getValueForUICultureBinder } from \"./funcs\";\r\naddProp(_Web, \"regionalSettings\", RegionalSettings);\r\n_Web.prototype.titleResource = getValueForUICultureBinder(\"titleResource\");\r\n_Web.prototype.descriptionResource = getValueForUICultureBinder(\"descriptionResource\");\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nimport { metadata } from \"../utils/metadata\";\r\nvar _UserCustomActions = /** @class */ (function (_super) {\r\n    __extends(_UserCustomActions, _super);\r\n    function _UserCustomActions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Returns the user custom action with the specified id\r\n     *\r\n     * @param id The GUID id of the user custom action to retrieve\r\n     */\r\n    _UserCustomActions.prototype.getById = function (id) {\r\n        return tag.configure(UserCustomAction(this).concat(\"('\" + id + \"')\"), \"ucas.getById\");\r\n    };\r\n    /**\r\n     * Creates a user custom action\r\n     *\r\n     * @param properties The information object of property names and values which define the new user custom action\r\n     */\r\n    _UserCustomActions.prototype.add = function (properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this, body(assign(metadata(\"SP.UserCustomAction\"), properties)))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                action: this.getById(data.Id),\r\n                                data: data,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Deletes all user custom actions in the collection\r\n     */\r\n    _UserCustomActions.prototype.clear = function () {\r\n        return spPost(this.clone(UserCustomActions, \"clear\"));\r\n    };\r\n    __decorate([\r\n        tag(\"ucas.add\")\r\n    ], _UserCustomActions.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"ucas.clear\")\r\n    ], _UserCustomActions.prototype, \"clear\", null);\r\n    _UserCustomActions = __decorate([\r\n        defaultPath(\"usercustomactions\")\r\n    ], _UserCustomActions);\r\n    return _UserCustomActions;\r\n}(_SharePointQueryableCollection));\r\nexport { _UserCustomActions };\r\nexport var UserCustomActions = spInvokableFactory(_UserCustomActions);\r\nvar _UserCustomAction = /** @class */ (function (_super) {\r\n    __extends(_UserCustomAction, _super);\r\n    function _UserCustomAction() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"uca\");\r\n        /**\r\n        * Updates this user custom action with the supplied properties\r\n        *\r\n        * @param properties An information object of property names and values to update for this user custom action\r\n        */\r\n        _this.update = _this._update(\"SP.UserCustomAction\", function (data) { return ({ data: data, action: _this }); });\r\n        return _this;\r\n    }\r\n    return _UserCustomAction;\r\n}(_SharePointQueryableInstance));\r\nexport { _UserCustomAction };\r\nexport var UserCustomAction = spInvokableFactory(_UserCustomAction);\r\nexport var UserCustomActionRegistrationType;\r\n(function (UserCustomActionRegistrationType) {\r\n    UserCustomActionRegistrationType[UserCustomActionRegistrationType[\"None\"] = 0] = \"None\";\r\n    UserCustomActionRegistrationType[UserCustomActionRegistrationType[\"List\"] = 1] = \"List\";\r\n    UserCustomActionRegistrationType[UserCustomActionRegistrationType[\"ContentType\"] = 2] = \"ContentType\";\r\n    UserCustomActionRegistrationType[UserCustomActionRegistrationType[\"ProgId\"] = 3] = \"ProgId\";\r\n    UserCustomActionRegistrationType[UserCustomActionRegistrationType[\"FileType\"] = 4] = \"FileType\";\r\n})(UserCustomActionRegistrationType || (UserCustomActionRegistrationType = {}));\r\nexport var UserCustomActionScope;\r\n(function (UserCustomActionScope) {\r\n    UserCustomActionScope[UserCustomActionScope[\"Unknown\"] = 0] = \"Unknown\";\r\n    UserCustomActionScope[UserCustomActionScope[\"Site\"] = 2] = \"Site\";\r\n    UserCustomActionScope[UserCustomActionScope[\"Web\"] = 3] = \"Web\";\r\n    UserCustomActionScope[UserCustomActionScope[\"List\"] = 4] = \"List\";\r\n})(UserCustomActionScope || (UserCustomActionScope = {}));\r\n","import { _UserCustomAction } from \"../user-custom-actions/types\";\r\nimport { getValueForUICultureBinder } from \"./funcs\";\r\n_UserCustomAction.prototype.titleResource = getValueForUICultureBinder(\"titleResource\");\r\n_UserCustomAction.prototype.descriptionResource = getValueForUICultureBinder(\"descriptionResource\");\r\n","import { _List } from \"../lists/types\";\r\nimport { getValueForUICultureBinder } from \"./funcs\";\r\n_List.prototype.titleResource = getValueForUICultureBinder(\"titleResource\");\r\n_List.prototype.descriptionResource = getValueForUICultureBinder(\"descriptionResource\");\r\n","import { _Field } from \"../fields/types\";\r\nimport { getValueForUICultureBinder } from \"./funcs\";\r\n_Field.prototype.titleResource = getValueForUICultureBinder(\"titleResource\");\r\n_Field.prototype.descriptionResource = getValueForUICultureBinder(\"descriptionResource\");\r\n","import { _ContentType } from \"../content-types/types\";\r\nimport { getValueForUICultureBinder } from \"./funcs\";\r\n_ContentType.prototype.titleResource = getValueForUICultureBinder(\"titleResource\");\r\n_ContentType.prototype.descriptionResource = getValueForUICultureBinder(\"descriptionResource\");\r\n","import \"./web\";\r\nimport \"./user-custom-actions\";\r\nimport \"./list\";\r\nimport \"./field\";\r\nimport \"./content-type\";\r\nexport { RegionalSettings, TimeZone, TimeZones, } from \"./types\";\r\n","import { __decorate, __extends } from \"tslib\";\r\nimport { _SharePointQueryable } from \"../sharepointqueryable\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { tag } from \"../telemetry\";\r\nvar _RelatedItemManager = /** @class */ (function (_super) {\r\n    __extends(_RelatedItemManager, _super);\r\n    function _RelatedItemManager() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    _RelatedItemManager.prototype.getRelatedItems = function (sourceListName, sourceItemId) {\r\n        var query = this.clone(RelatedItemManager, null);\r\n        query.concat(\".GetRelatedItems\");\r\n        return spPost(query, body({\r\n            SourceItemID: sourceItemId,\r\n            SourceListName: sourceListName,\r\n        }));\r\n    };\r\n    _RelatedItemManager.prototype.getPageOneRelatedItems = function (sourceListName, sourceItemId) {\r\n        var query = this.clone(RelatedItemManager, null);\r\n        query.concat(\".GetPageOneRelatedItems\");\r\n        return spPost(query, body({\r\n            SourceItemID: sourceItemId,\r\n            SourceListName: sourceListName,\r\n        }));\r\n    };\r\n    _RelatedItemManager.prototype.addSingleLink = function (sourceListName, sourceItemId, sourceWebUrl, targetListName, targetItemID, targetWebUrl, tryAddReverseLink) {\r\n        if (tryAddReverseLink === void 0) { tryAddReverseLink = false; }\r\n        var query = this.clone(RelatedItemManager, null);\r\n        query.concat(\".AddSingleLink\");\r\n        return spPost(query, body({\r\n            SourceItemID: sourceItemId,\r\n            SourceListName: sourceListName,\r\n            SourceWebUrl: sourceWebUrl,\r\n            TargetItemID: targetItemID,\r\n            TargetListName: targetListName,\r\n            TargetWebUrl: targetWebUrl,\r\n            TryAddReverseLink: tryAddReverseLink,\r\n        }));\r\n    };\r\n    _RelatedItemManager.prototype.addSingleLinkToUrl = function (sourceListName, sourceItemId, targetItemUrl, tryAddReverseLink) {\r\n        if (tryAddReverseLink === void 0) { tryAddReverseLink = false; }\r\n        var query = this.clone(RelatedItemManager, null);\r\n        query.concat(\".AddSingleLinkToUrl\");\r\n        return spPost(query, body({\r\n            SourceItemID: sourceItemId,\r\n            SourceListName: sourceListName,\r\n            TargetItemUrl: targetItemUrl,\r\n            TryAddReverseLink: tryAddReverseLink,\r\n        }));\r\n    };\r\n    _RelatedItemManager.prototype.addSingleLinkFromUrl = function (sourceItemUrl, targetListName, targetItemId, tryAddReverseLink) {\r\n        if (tryAddReverseLink === void 0) { tryAddReverseLink = false; }\r\n        var query = this.clone(RelatedItemManager, null);\r\n        query.concat(\".AddSingleLinkFromUrl\");\r\n        return spPost(query, body({\r\n            SourceItemUrl: sourceItemUrl,\r\n            TargetItemID: targetItemId,\r\n            TargetListName: targetListName,\r\n            TryAddReverseLink: tryAddReverseLink,\r\n        }));\r\n    };\r\n    _RelatedItemManager.prototype.deleteSingleLink = function (sourceListName, sourceItemId, sourceWebUrl, targetListName, targetItemId, targetWebUrl, tryDeleteReverseLink) {\r\n        if (tryDeleteReverseLink === void 0) { tryDeleteReverseLink = false; }\r\n        var query = this.clone(RelatedItemManager, null);\r\n        query.concat(\".DeleteSingleLink\");\r\n        return spPost(query, body({\r\n            SourceItemID: sourceItemId,\r\n            SourceListName: sourceListName,\r\n            SourceWebUrl: sourceWebUrl,\r\n            TargetItemID: targetItemId,\r\n            TargetListName: targetListName,\r\n            TargetWebUrl: targetWebUrl,\r\n            TryDeleteReverseLink: tryDeleteReverseLink,\r\n        }));\r\n    };\r\n    __decorate([\r\n        tag(\"rim.getRelatedItems\")\r\n    ], _RelatedItemManager.prototype, \"getRelatedItems\", null);\r\n    __decorate([\r\n        tag(\"rim.getPageOneRelatedItems\")\r\n    ], _RelatedItemManager.prototype, \"getPageOneRelatedItems\", null);\r\n    __decorate([\r\n        tag(\"rim.addSingleLink\")\r\n    ], _RelatedItemManager.prototype, \"addSingleLink\", null);\r\n    __decorate([\r\n        tag(\"rim.ToUrl\")\r\n    ], _RelatedItemManager.prototype, \"addSingleLinkToUrl\", null);\r\n    __decorate([\r\n        tag(\"rim.FromUrl\")\r\n    ], _RelatedItemManager.prototype, \"addSingleLinkFromUrl\", null);\r\n    __decorate([\r\n        tag(\"rim.deleteSingleLink\")\r\n    ], _RelatedItemManager.prototype, \"deleteSingleLink\", null);\r\n    _RelatedItemManager = __decorate([\r\n        defaultPath(\"_api/SP.RelatedItemManager\")\r\n    ], _RelatedItemManager);\r\n    return _RelatedItemManager;\r\n}(_SharePointQueryable));\r\nexport { _RelatedItemManager };\r\nexport var RelatedItemManager = function (url) { return new _RelatedItemManager(extractWebUrl(typeof url === \"string\" ? url : url.toUrl())); };\r\n","export { RelatedItemManager, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator, __values } from \"tslib\";\r\nimport { _SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { assign, hOP, getHashCode, objectDefinedNotNull, isArray } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { CachingOptions, body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { tag } from \"../telemetry\";\r\nvar funcs = new Map([\r\n    [\"text\", \"Querytext\"],\r\n    [\"template\", \"QueryTemplate\"],\r\n    [\"sourceId\", \"SourceId\"],\r\n    [\"trimDuplicatesIncludeId\", \"\"],\r\n    [\"startRow\", \"\"],\r\n    [\"rowLimit\", \"\"],\r\n    [\"rankingModelId\", \"\"],\r\n    [\"rowsPerPage\", \"\"],\r\n    [\"selectProperties\", \"\"],\r\n    [\"culture\", \"\"],\r\n    [\"timeZoneId\", \"\"],\r\n    [\"refinementFilters\", \"\"],\r\n    [\"refiners\", \"\"],\r\n    [\"hiddenConstraints\", \"\"],\r\n    [\"sortList\", \"\"],\r\n    [\"timeout\", \"\"],\r\n    [\"hithighlightedProperties\", \"\"],\r\n    [\"clientType\", \"\"],\r\n    [\"personalizationData\", \"\"],\r\n    [\"resultsURL\", \"\"],\r\n    [\"queryTag\", \"\"],\r\n    [\"properties\", \"\"],\r\n    [\"queryTemplatePropertiesUrl\", \"\"],\r\n    [\"reorderingRules\", \"\"],\r\n    [\"hitHighlightedMultivaluePropertyLimit\", \"\"],\r\n    [\"collapseSpecification\", \"\"],\r\n    [\"uiLanguage\", \"\"],\r\n    [\"desiredSnippetLength\", \"\"],\r\n    [\"maxSnippetLength\", \"\"],\r\n    [\"summaryLength\", \"\"],\r\n]);\r\nvar props = new Map([]);\r\nfunction toPropCase(str) {\r\n    return str.replace(/^(.)/, function ($1) { return $1.toUpperCase(); });\r\n}\r\n/**\r\n * Creates a new instance of the SearchQueryBuilder\r\n *\r\n * @param queryText Initial query text\r\n * @param _query Any initial query configuration\r\n */\r\nexport function SearchQueryBuilder(queryText, _query) {\r\n    if (queryText === void 0) { queryText = \"\"; }\r\n    if (_query === void 0) { _query = {}; }\r\n    return new Proxy({\r\n        query: Object.assign({\r\n            Querytext: queryText,\r\n        }, _query),\r\n    }, {\r\n        get: function (self, propertyKey, proxy) {\r\n            var pk = propertyKey.toString();\r\n            if (pk === \"toSearchQuery\") {\r\n                return function () { return self.query; };\r\n            }\r\n            if (funcs.has(pk)) {\r\n                return function () {\r\n                    var value = [];\r\n                    for (var _i = 0; _i < arguments.length; _i++) {\r\n                        value[_i] = arguments[_i];\r\n                    }\r\n                    var mappedPk = funcs.get(pk);\r\n                    self.query[mappedPk.length > 0 ? mappedPk : toPropCase(pk)] = value.length > 1 ? value : value[0];\r\n                    return proxy;\r\n                };\r\n            }\r\n            var propKey = props.has(pk) ? props.get(pk) : toPropCase(pk);\r\n            self.query[propKey] = true;\r\n            return proxy;\r\n        },\r\n    });\r\n}\r\nvar queryRegex = /_api\\/search\\/postquery$/i;\r\n/**\r\n * Describes the search API\r\n *\r\n */\r\nvar _Search = /** @class */ (function (_super) {\r\n    __extends(_Search, _super);\r\n    function _Search() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * @returns Promise\r\n     */\r\n    _Search.prototype.execute = function (queryInit) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var query, postBody, cacheKey, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        query = this.parseQuery(queryInit);\r\n                        postBody = body({\r\n                            request: assign(metadata(\"Microsoft.Office.Server.Search.REST.SearchRequest\"), Object.assign({}, query, {\r\n                                HitHighlightedProperties: this.fixArrProp(query.HitHighlightedProperties),\r\n                                Properties: this.fixArrProp(query.Properties),\r\n                                RefinementFilters: this.fixArrProp(query.RefinementFilters),\r\n                                ReorderingRules: this.fixArrProp(query.ReorderingRules),\r\n                                SelectProperties: this.fixArrProp(query.SelectProperties),\r\n                                SortList: this.fixArrProp(query.SortList),\r\n                            })),\r\n                        });\r\n                        // if we are using caching with this search request, then we need to handle some work upfront to enable that\r\n                        if (this.data.useCaching) {\r\n                            // force use of the cache for this request if .usingCaching was called\r\n                            this._forceCaching = true;\r\n                            cacheKey = \"PnPjs.SearchWithCaching(\" + getHashCode(postBody.body) + \")\";\r\n                            if (objectDefinedNotNull(this.data.cachingOptions)) {\r\n                                // if our key ends in the postquery url we overwrite it\r\n                                if (queryRegex.test(this.data.cachingOptions.key)) {\r\n                                    this.data.cachingOptions.key = cacheKey;\r\n                                }\r\n                            }\r\n                            else {\r\n                                this.data.cachingOptions = new CachingOptions(cacheKey);\r\n                            }\r\n                        }\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, new SearchResults(data, this.toUrl(), query)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Fix array property\r\n     *\r\n     * @param prop property to fix for container struct\r\n     */\r\n    _Search.prototype.fixArrProp = function (prop) {\r\n        if (typeof prop === \"undefined\") {\r\n            return ({ results: [] });\r\n        }\r\n        return { results: isArray(prop) ? prop : [prop] };\r\n    };\r\n    /**\r\n     * Translates one of the query initializers into a SearchQuery instance\r\n     *\r\n     * @param query\r\n     */\r\n    _Search.prototype.parseQuery = function (query) {\r\n        var finalQuery;\r\n        if (typeof query === \"string\") {\r\n            finalQuery = { Querytext: query };\r\n        }\r\n        else if (query.toSearchQuery) {\r\n            finalQuery = query.toSearchQuery();\r\n        }\r\n        else {\r\n            finalQuery = query;\r\n        }\r\n        return finalQuery;\r\n    };\r\n    __decorate([\r\n        tag(\"se.execute\")\r\n    ], _Search.prototype, \"execute\", null);\r\n    _Search = __decorate([\r\n        defaultPath(\"_api/search/postquery\")\r\n    ], _Search);\r\n    return _Search;\r\n}(_SharePointQueryableInstance));\r\nexport { _Search };\r\nexport var Search = function (baseUrl, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return function (queryInit) {\r\n        return (new _Search(baseUrl)).configure(options).execute(queryInit);\r\n    };\r\n};\r\nvar SearchResults = /** @class */ (function () {\r\n    function SearchResults(rawResponse, _url, _query, _raw, _primary) {\r\n        if (_raw === void 0) { _raw = null; }\r\n        if (_primary === void 0) { _primary = null; }\r\n        this._url = _url;\r\n        this._query = _query;\r\n        this._raw = _raw;\r\n        this._primary = _primary;\r\n        this._url = this._url.replace(queryRegex, \"\");\r\n        this._raw = rawResponse.postquery ? rawResponse.postquery : rawResponse;\r\n    }\r\n    Object.defineProperty(SearchResults.prototype, \"ElapsedTime\", {\r\n        get: function () {\r\n            var _a;\r\n            return ((_a = this === null || this === void 0 ? void 0 : this.RawSearchResults) === null || _a === void 0 ? void 0 : _a.ElapsedTime) || 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResults.prototype, \"RowCount\", {\r\n        get: function () {\r\n            var _a, _b, _c;\r\n            return ((_c = (_b = (_a = this === null || this === void 0 ? void 0 : this.RawSearchResults) === null || _a === void 0 ? void 0 : _a.PrimaryQueryResult) === null || _b === void 0 ? void 0 : _b.RelevantResults) === null || _c === void 0 ? void 0 : _c.RowCount) || 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResults.prototype, \"TotalRows\", {\r\n        get: function () {\r\n            var _a, _b, _c;\r\n            return ((_c = (_b = (_a = this === null || this === void 0 ? void 0 : this.RawSearchResults) === null || _a === void 0 ? void 0 : _a.PrimaryQueryResult) === null || _b === void 0 ? void 0 : _b.RelevantResults) === null || _c === void 0 ? void 0 : _c.TotalRows) || 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResults.prototype, \"TotalRowsIncludingDuplicates\", {\r\n        get: function () {\r\n            var _a, _b, _c;\r\n            return ((_c = (_b = (_a = this === null || this === void 0 ? void 0 : this.RawSearchResults) === null || _a === void 0 ? void 0 : _a.PrimaryQueryResult) === null || _b === void 0 ? void 0 : _b.RelevantResults) === null || _c === void 0 ? void 0 : _c.TotalRowsIncludingDuplicates) || 0;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResults.prototype, \"RawSearchResults\", {\r\n        get: function () {\r\n            return this._raw;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SearchResults.prototype, \"PrimarySearchResults\", {\r\n        get: function () {\r\n            var _a, _b, _c, _d;\r\n            if (this._primary === null) {\r\n                this._primary = this.formatSearchResults(((_d = (_c = (_b = (_a = this._raw) === null || _a === void 0 ? void 0 : _a.PrimaryQueryResult) === null || _b === void 0 ? void 0 : _b.RelevantResults) === null || _c === void 0 ? void 0 : _c.Table) === null || _d === void 0 ? void 0 : _d.Rows) || null);\r\n            }\r\n            return this._primary;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Gets a page of results\r\n     *\r\n     * @param pageNumber Index of the page to return. Used to determine StartRow\r\n     * @param pageSize Optional, items per page (default = 10)\r\n     */\r\n    SearchResults.prototype.getPage = function (pageNumber, pageSize) {\r\n        // if we got all the available rows we don't have another page\r\n        if (this.TotalRows < this.RowCount) {\r\n            return Promise.resolve(null);\r\n        }\r\n        // if pageSize is supplied, then we use that regardless of any previous values\r\n        // otherwise get the previous RowLimit or default to 10\r\n        var rows = pageSize !== undefined ? pageSize : hOP(this._query, \"RowLimit\") ? this._query.RowLimit : 10;\r\n        var query = assign(this._query, {\r\n            RowLimit: rows,\r\n            StartRow: rows * (pageNumber - 1),\r\n        });\r\n        // we have reached the end\r\n        if (query.StartRow > this.TotalRows) {\r\n            return Promise.resolve(null);\r\n        }\r\n        return Search(this._url)(query);\r\n    };\r\n    /**\r\n     * Formats a search results array\r\n     *\r\n     * @param rawResults The array to process\r\n     */\r\n    SearchResults.prototype.formatSearchResults = function (rawResults) {\r\n        var e_1, _a;\r\n        var results = new Array();\r\n        if (typeof (rawResults) === \"undefined\" || rawResults == null) {\r\n            return [];\r\n        }\r\n        var tempResults = rawResults.results ? rawResults.results : rawResults;\r\n        try {\r\n            for (var tempResults_1 = __values(tempResults), tempResults_1_1 = tempResults_1.next(); !tempResults_1_1.done; tempResults_1_1 = tempResults_1.next()) {\r\n                var tempResult = tempResults_1_1.value;\r\n                var cells = tempResult.Cells.results ? tempResult.Cells.results : tempResult.Cells;\r\n                results.push(cells.reduce(function (res, cell) {\r\n                    Reflect.defineProperty(res, cell.Key, {\r\n                        configurable: false,\r\n                        enumerable: true,\r\n                        value: cell.Value,\r\n                        writable: false,\r\n                    });\r\n                    return res;\r\n                }, {}));\r\n            }\r\n        }\r\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\r\n        finally {\r\n            try {\r\n                if (tempResults_1_1 && !tempResults_1_1.done && (_a = tempResults_1.return)) _a.call(tempResults_1);\r\n            }\r\n            finally { if (e_1) throw e_1.error; }\r\n        }\r\n        return results;\r\n    };\r\n    return SearchResults;\r\n}());\r\nexport { SearchResults };\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { hOP } from \"@pnp/common\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Suggest = /** @class */ (function (_super) {\r\n    __extends(_Suggest, _super);\r\n    function _Suggest() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    _Suggest.prototype.execute = function (query) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var response, mapper;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        this.mapQueryToQueryString(query);\r\n                        return [4 /*yield*/, this.get()];\r\n                    case 1:\r\n                        response = _a.sent();\r\n                        mapper = hOP(response, \"suggest\") ? function (s_1) { return response.suggest[s_1].results; } : function (s_2) { return response[s_2]; };\r\n                        return [2 /*return*/, {\r\n                                PeopleNames: mapper(\"PeopleNames\"),\r\n                                PersonalResults: mapper(\"PersonalResults\"),\r\n                                Queries: mapper(\"Queries\"),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Suggest.prototype.mapQueryToQueryString = function (query) {\r\n        var _this = this;\r\n        var setProp = function (q) { return function (checkProp) { return function (sp) {\r\n            if (hOP(q, checkProp)) {\r\n                _this.query.set(sp, q[checkProp].toString());\r\n            }\r\n        }; }; };\r\n        this.query.set(\"querytext\", \"'\" + query.querytext + \"'\");\r\n        var querySetter = setProp(query);\r\n        querySetter(\"count\")(\"inumberofquerysuggestions\");\r\n        querySetter(\"personalCount\")(\"inumberofresultsuggestions\");\r\n        querySetter(\"preQuery\")(\"fprequerysuggestions\");\r\n        querySetter(\"hitHighlighting\")(\"fhithighlighting\");\r\n        querySetter(\"capitalize\")(\"fcapitalizefirstletters\");\r\n        querySetter(\"culture\")(\"culture\");\r\n        querySetter(\"stemming\")(\"enablestemming\");\r\n        querySetter(\"includePeople\")(\"showpeoplenamesuggestions\");\r\n        querySetter(\"queryRules\")(\"enablequeryrules\");\r\n        querySetter(\"prefixMatch\")(\"fprefixmatchallterms\");\r\n    };\r\n    __decorate([\r\n        tag(\"su.execute\")\r\n    ], _Suggest.prototype, \"execute\", null);\r\n    _Suggest = __decorate([\r\n        defaultPath(\"_api/search/suggest\")\r\n    ], _Suggest);\r\n    return _Suggest;\r\n}(_SharePointQueryableInstance));\r\nexport { _Suggest };\r\nexport var Suggest = function (baseUrl, options) {\r\n    if (options === void 0) { options = {}; }\r\n    return function (query) {\r\n        return (new _Suggest(baseUrl)).configure(options).execute(query);\r\n    };\r\n};\r\n","/**\r\n * defines the SortDirection enum\r\n */\r\nexport var SortDirection;\r\n(function (SortDirection) {\r\n    SortDirection[SortDirection[\"Ascending\"] = 0] = \"Ascending\";\r\n    SortDirection[SortDirection[\"Descending\"] = 1] = \"Descending\";\r\n    SortDirection[SortDirection[\"FQLFormula\"] = 2] = \"FQLFormula\";\r\n})(SortDirection || (SortDirection = {}));\r\n/**\r\n * defines the ReorderingRuleMatchType  enum\r\n */\r\nexport var ReorderingRuleMatchType;\r\n(function (ReorderingRuleMatchType) {\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"ResultContainsKeyword\"] = 0] = \"ResultContainsKeyword\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"TitleContainsKeyword\"] = 1] = \"TitleContainsKeyword\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"TitleMatchesKeyword\"] = 2] = \"TitleMatchesKeyword\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"UrlStartsWith\"] = 3] = \"UrlStartsWith\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"UrlExactlyMatches\"] = 4] = \"UrlExactlyMatches\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"ContentTypeIs\"] = 5] = \"ContentTypeIs\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"FileExtensionMatches\"] = 6] = \"FileExtensionMatches\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"ResultHasTag\"] = 7] = \"ResultHasTag\";\r\n    ReorderingRuleMatchType[ReorderingRuleMatchType[\"ManualCondition\"] = 8] = \"ManualCondition\";\r\n})(ReorderingRuleMatchType || (ReorderingRuleMatchType = {}));\r\n/**\r\n * Specifies the type value for the property\r\n */\r\nexport var QueryPropertyValueType;\r\n(function (QueryPropertyValueType) {\r\n    QueryPropertyValueType[QueryPropertyValueType[\"None\"] = 0] = \"None\";\r\n    QueryPropertyValueType[QueryPropertyValueType[\"StringType\"] = 1] = \"StringType\";\r\n    QueryPropertyValueType[QueryPropertyValueType[\"Int32Type\"] = 2] = \"Int32Type\";\r\n    QueryPropertyValueType[QueryPropertyValueType[\"BooleanType\"] = 3] = \"BooleanType\";\r\n    QueryPropertyValueType[QueryPropertyValueType[\"StringArrayType\"] = 4] = \"StringArrayType\";\r\n    QueryPropertyValueType[QueryPropertyValueType[\"UnSupportedType\"] = 5] = \"UnSupportedType\";\r\n})(QueryPropertyValueType || (QueryPropertyValueType = {}));\r\nvar SearchBuiltInSourceId = /** @class */ (function () {\r\n    function SearchBuiltInSourceId() {\r\n    }\r\n    SearchBuiltInSourceId.Documents = \"e7ec8cee-ded8-43c9-beb5-436b54b31e84\";\r\n    SearchBuiltInSourceId.ItemsMatchingContentType = \"5dc9f503-801e-4ced-8a2c-5d1237132419\";\r\n    SearchBuiltInSourceId.ItemsMatchingTag = \"e1327b9c-2b8c-4b23-99c9-3730cb29c3f7\";\r\n    SearchBuiltInSourceId.ItemsRelatedToCurrentUser = \"48fec42e-4a92-48ce-8363-c2703a40e67d\";\r\n    SearchBuiltInSourceId.ItemsWithSameKeywordAsThisItem = \"5c069288-1d17-454a-8ac6-9c642a065f48\";\r\n    SearchBuiltInSourceId.LocalPeopleResults = \"b09a7990-05ea-4af9-81ef-edfab16c4e31\";\r\n    SearchBuiltInSourceId.LocalReportsAndDataResults = \"203fba36-2763-4060-9931-911ac8c0583b\";\r\n    SearchBuiltInSourceId.LocalSharePointResults = \"8413cd39-2156-4e00-b54d-11efd9abdb89\";\r\n    SearchBuiltInSourceId.LocalVideoResults = \"78b793ce-7956-4669-aa3b-451fc5defebf\";\r\n    SearchBuiltInSourceId.Pages = \"5e34578e-4d08-4edc-8bf3-002acf3cdbcc\";\r\n    SearchBuiltInSourceId.Pictures = \"38403c8c-3975-41a8-826e-717f2d41568a\";\r\n    SearchBuiltInSourceId.Popular = \"97c71db1-58ce-4891-8b64-585bc2326c12\";\r\n    SearchBuiltInSourceId.RecentlyChangedItems = \"ba63bbae-fa9c-42c0-b027-9a878f16557c\";\r\n    SearchBuiltInSourceId.RecommendedItems = \"ec675252-14fa-4fbe-84dd-8d098ed74181\";\r\n    SearchBuiltInSourceId.Wiki = \"9479bf85-e257-4318-b5a8-81a180f5faa1\";\r\n    return SearchBuiltInSourceId;\r\n}());\r\nexport { SearchBuiltInSourceId };\r\n","import { SPRest } from \"../rest\";\r\nimport { _Search } from \"./query\";\r\nimport { Search } from \"./query\";\r\nimport { Suggest } from \"./suggest\";\r\nexport * from \"./types\";\r\nexport { SearchQueryBuilder, SearchResults, Search, } from \"./query\";\r\nexport { Suggest, } from \"./suggest\";\r\nSPRest.prototype.search = function (query) {\r\n    return Search(this._baseUrl, this._options)(query);\r\n};\r\nSPRest.prototype.searchWithCaching = function (query, options) {\r\n    return (new _Search(this._baseUrl)).configure(this._options).usingCaching(options).execute(query);\r\n};\r\nSPRest.prototype.searchSuggest = function (query) {\r\n    return Suggest(this._baseUrl, this._options)(typeof query === \"string\" ? { querytext: query } : query);\r\n};\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { SiteGroups } from \"../site-groups/types\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _SiteUsers = /** @class */ (function (_super) {\r\n    __extends(_SiteUsers, _super);\r\n    function _SiteUsers() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a user from the collection by id\r\n     *\r\n     * @param id The id of the user to retrieve\r\n     */\r\n    _SiteUsers.prototype.getById = function (id) {\r\n        return tag.configure(SiteUser(this, \"getById(\" + id + \")\"), \"sus.getById\");\r\n    };\r\n    /**\r\n     * Gets a user from the collection by email\r\n     *\r\n     * @param email The email address of the user to retrieve\r\n     */\r\n    _SiteUsers.prototype.getByEmail = function (email) {\r\n        return tag.configure(SiteUser(this, \"getByEmail('\" + email + \"')\"), \"sus.getByEmail\");\r\n    };\r\n    /**\r\n     * Gets a user from the collection by login name\r\n     *\r\n     * @param loginName The login name of the user to retrieve\r\n     */\r\n    _SiteUsers.prototype.getByLoginName = function (loginName) {\r\n        return tag.configure(SiteUser(this).concat(\"('!@v::\" + encodeURIComponent(loginName) + \"')\"), \"sus.getByLoginName\");\r\n    };\r\n    /**\r\n     * Removes a user from the collection by id\r\n     *\r\n     * @param id The id of the user to remove\r\n     */\r\n    _SiteUsers.prototype.removeById = function (id) {\r\n        return spPost(this.clone(SiteUsers, \"removeById(\" + id + \")\"));\r\n    };\r\n    /**\r\n     * Removes a user from the collection by login name\r\n     *\r\n     * @param loginName The login name of the user to remove\r\n     */\r\n    _SiteUsers.prototype.removeByLoginName = function (loginName) {\r\n        var o = this.clone(SiteUsers, \"removeByLoginName(@v)\");\r\n        o.query.set(\"@v\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n        return spPost(o);\r\n    };\r\n    /**\r\n     * Adds a user to a site collection\r\n     *\r\n     * @param loginName The login name of the user to add  to a site collection\r\n     *\r\n     */\r\n    _SiteUsers.prototype.add = function (loginName) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this, body(assign(metadata(\"SP.User\"), { LoginName: loginName })))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/, this.getByLoginName(loginName)];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"sus.remId\")\r\n    ], _SiteUsers.prototype, \"removeById\", null);\r\n    __decorate([\r\n        tag(\"sus.remLoginName\")\r\n    ], _SiteUsers.prototype, \"removeByLoginName\", null);\r\n    __decorate([\r\n        tag(\"sus.add\")\r\n    ], _SiteUsers.prototype, \"add\", null);\r\n    _SiteUsers = __decorate([\r\n        defaultPath(\"siteusers\")\r\n    ], _SiteUsers);\r\n    return _SiteUsers;\r\n}(_SharePointQueryableCollection));\r\nexport { _SiteUsers };\r\nexport var SiteUsers = spInvokableFactory(_SiteUsers);\r\n/**\r\n * Describes a single user\r\n *\r\n */\r\nvar _SiteUser = /** @class */ (function (_super) {\r\n    __extends(_SiteUser, _super);\r\n    function _SiteUser() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"su\");\r\n        /**\r\n        * Updates this user instance with the supplied properties\r\n        *\r\n        * @param properties A plain object of property names and values to update for the user\r\n        */\r\n        _this.update = _this._update(\"SP.User\", function (data) { return ({ data: data, user: _this }); });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_SiteUser.prototype, \"groups\", {\r\n        /**\r\n         * Gets the groups for this user\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SiteGroups(this, \"groups\"), \"su.groups\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _SiteUser;\r\n}(_SharePointQueryableInstance));\r\nexport { _SiteUser };\r\nexport var SiteUser = spInvokableFactory(_SiteUser);\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { SiteUsers } from \"../site-users/types\";\r\nimport { assign, hOP } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _SiteGroups = /** @class */ (function (_super) {\r\n    __extends(_SiteGroups, _super);\r\n    function _SiteGroups() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a group from the collection by id\r\n     *\r\n     * @param id The id of the group to retrieve\r\n     */\r\n    _SiteGroups.prototype.getById = function (id) {\r\n        return tag.configure(SiteGroup(this).concat(\"(\" + id + \")\"), \"sgs.getById\");\r\n    };\r\n    /**\r\n     * Adds a new group to the site collection\r\n     *\r\n     * @param properties The group properties object of property names and values to be set for the group\r\n     */\r\n    _SiteGroups.prototype.add = function (properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(assign(metadata(\"SP.Group\"), properties));\r\n                        return [4 /*yield*/, spPost(tag.configure(this, \"sgs.add\"), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                group: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Gets a group from the collection by name\r\n     *\r\n     * @param groupName The name of the group to retrieve\r\n     */\r\n    _SiteGroups.prototype.getByName = function (groupName) {\r\n        return tag.configure(SiteGroup(this, \"getByName('\" + groupName + \"')\"), \"sgs.getByName\");\r\n    };\r\n    /**\r\n     * Removes the group with the specified member id from the collection\r\n     *\r\n     * @param id The id of the group to remove\r\n     */\r\n    _SiteGroups.prototype.removeById = function (id) {\r\n        return spPost(this.clone(SiteGroups, \"removeById('\" + id + \"')\"));\r\n    };\r\n    /**\r\n     * Removes the cross-site group with the specified name from the collection\r\n     *\r\n     * @param loginName The name of the group to remove\r\n     */\r\n    _SiteGroups.prototype.removeByLoginName = function (loginName) {\r\n        return spPost(this.clone(SiteGroups, \"removeByLoginName('\" + loginName + \"')\"));\r\n    };\r\n    __decorate([\r\n        tag(\"sgs.removeById\")\r\n    ], _SiteGroups.prototype, \"removeById\", null);\r\n    __decorate([\r\n        tag(\"sgs.removeByLoginName\")\r\n    ], _SiteGroups.prototype, \"removeByLoginName\", null);\r\n    _SiteGroups = __decorate([\r\n        defaultPath(\"sitegroups\")\r\n    ], _SiteGroups);\r\n    return _SiteGroups;\r\n}(_SharePointQueryableCollection));\r\nexport { _SiteGroups };\r\nexport var SiteGroups = spInvokableFactory(_SiteGroups);\r\nvar _SiteGroup = /** @class */ (function (_super) {\r\n    __extends(_SiteGroup, _super);\r\n    function _SiteGroup() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        /**\r\n         * Updates the group with the given property values\r\n         *\r\n         * @param props The group properties object of property names and values to be set for the group\r\n         */\r\n        _this.update = _this._update(\"SP.Group\", function (d, p) {\r\n            var retGroup = _this;\r\n            if (hOP(p, \"Title\")) {\r\n                /* tslint:disable-next-line no-string-literal */\r\n                retGroup = _this.getParent(SiteGroup, _this.parentUrl, \"getByName('\" + p[\"Title\"] + \"')\");\r\n            }\r\n            return {\r\n                data: d,\r\n                group: retGroup,\r\n            };\r\n        });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_SiteGroup.prototype, \"users\", {\r\n        /**\r\n         * Gets the users for this group\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SiteUsers(this, \"users\"), \"sg.users\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Set the owner of a group using a user id\r\n     * @param userId the id of the user that will be set as the owner of the current group\r\n     */\r\n    _SiteGroup.prototype.setUserAsOwner = function (userId) {\r\n        return spPost(this.clone(SiteGroup, \"SetUserAsOwner(\" + userId + \")\"));\r\n    };\r\n    __decorate([\r\n        tag(\"sg.setUserAsOwner\")\r\n    ], _SiteGroup.prototype, \"setUserAsOwner\", null);\r\n    return _SiteGroup;\r\n}(_SharePointQueryableInstance));\r\nexport { _SiteGroup };\r\nexport var SiteGroup = spInvokableFactory(_SiteGroup);\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { assign, hOP } from \"@pnp/common\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { _SharePointQueryableInstance, SharePointQueryableCollection, _SharePointQueryableCollection, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { SiteGroups } from \"../site-groups/types\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\n/**\r\n * Describes a set of role assignments for the current scope\r\n *\r\n */\r\nvar _RoleAssignments = /** @class */ (function (_super) {\r\n    __extends(_RoleAssignments, _super);\r\n    function _RoleAssignments() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets the role assignment associated with the specified principal id from the collection.\r\n     *\r\n     * @param id The id of the role assignment\r\n     */\r\n    _RoleAssignments.prototype.getById = function (id) {\r\n        return RoleAssignment(this).concat(\"(\" + id + \")\");\r\n    };\r\n    /**\r\n     * Adds a new role assignment with the specified principal and role definitions to the collection\r\n     *\r\n     * @param principalId The id of the user or group to assign permissions to\r\n     * @param roleDefId The id of the role definition that defines the permissions to assign\r\n     *\r\n     */\r\n    _RoleAssignments.prototype.add = function (principalId, roleDefId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(RoleAssignments, \"addroleassignment(principalid=\" + principalId + \", roledefid=\" + roleDefId + \")\"))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Removes the role assignment with the specified principal and role definition from the collection\r\n     *\r\n     * @param principalId The id of the user or group in the role assignment\r\n     * @param roleDefId The id of the role definition in the role assignment\r\n     *\r\n     */\r\n    _RoleAssignments.prototype.remove = function (principalId, roleDefId) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(RoleAssignments, \"removeroleassignment(principalid=\" + principalId + \", roledefid=\" + roleDefId + \")\"))];\r\n                    case 1:\r\n                        _a.sent();\r\n                        return [2 /*return*/];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _RoleAssignments = __decorate([\r\n        defaultPath(\"roleassignments\")\r\n    ], _RoleAssignments);\r\n    return _RoleAssignments;\r\n}(_SharePointQueryableCollection));\r\nexport { _RoleAssignments };\r\nexport var RoleAssignments = spInvokableFactory(_RoleAssignments);\r\n/**\r\n * Describes a role assignment\r\n *\r\n */\r\nvar _RoleAssignment = /** @class */ (function (_super) {\r\n    __extends(_RoleAssignment, _super);\r\n    function _RoleAssignment() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"ra\");\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_RoleAssignment.prototype, \"groups\", {\r\n        /**\r\n         * Gets the groups that directly belong to the access control list (ACL) for this securable object\r\n         *\r\n         */\r\n        get: function () {\r\n            return tag.configure(SiteGroups(this, \"groups\"), \"ra.groups\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_RoleAssignment.prototype, \"bindings\", {\r\n        /**\r\n         * Gets the role definition bindings for this role assignment\r\n         *\r\n         */\r\n        get: function () {\r\n            return SharePointQueryableCollection(this, \"roledefinitionbindings\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _RoleAssignment;\r\n}(_SharePointQueryableInstance));\r\nexport { _RoleAssignment };\r\nexport var RoleAssignment = spInvokableFactory(_RoleAssignment);\r\n/**\r\n * Describes a collection of role definitions\r\n *\r\n */\r\nvar _RoleDefinitions = /** @class */ (function (_super) {\r\n    __extends(_RoleDefinitions, _super);\r\n    function _RoleDefinitions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets the role definition with the specified id from the collection\r\n     *\r\n     * @param id The id of the role definition\r\n     *\r\n     */\r\n    _RoleDefinitions.prototype.getById = function (id) {\r\n        return RoleDefinition(this, \"getById(\" + id + \")\");\r\n    };\r\n    /**\r\n     * Gets the role definition with the specified name\r\n     *\r\n     * @param name The name of the role definition\r\n     *\r\n     */\r\n    _RoleDefinitions.prototype.getByName = function (name) {\r\n        return RoleDefinition(this, \"getbyname('\" + name + \"')\");\r\n    };\r\n    /**\r\n     * Gets the role definition with the specified role type\r\n     *\r\n     * @param roleTypeKind The roletypekind of the role definition (None=0, Guest=1, Reader=2, Contributor=3, WebDesigner=4, Administrator=5, Editor=6, System=7)\r\n     *\r\n     */\r\n    _RoleDefinitions.prototype.getByType = function (roleTypeKind) {\r\n        return RoleDefinition(this, \"getbytype(\" + roleTypeKind + \")\");\r\n    };\r\n    /**\r\n     * Creates a role definition\r\n     *\r\n     * @param name The new role definition's name\r\n     * @param description The new role definition's description\r\n     * @param order The order in which the role definition appears\r\n     * @param basePermissions The permissions mask for this role definition\r\n     *\r\n     */\r\n    _RoleDefinitions.prototype.add = function (name, description, order, basePermissions) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body({\r\n                            BasePermissions: assign(metadata(\"SP.BasePermissions\"), basePermissions),\r\n                            Description: description,\r\n                            Name: name,\r\n                            Order: order,\r\n                            __metadata: { \"type\": \"SP.RoleDefinition\" },\r\n                        });\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                definition: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _RoleDefinitions = __decorate([\r\n        defaultPath(\"roledefinitions\")\r\n    ], _RoleDefinitions);\r\n    return _RoleDefinitions;\r\n}(_SharePointQueryableCollection));\r\nexport { _RoleDefinitions };\r\nexport var RoleDefinitions = spInvokableFactory(_RoleDefinitions);\r\n/**\r\n * Describes a role definition\r\n *\r\n */\r\nvar _RoleDefinition = /** @class */ (function (_super) {\r\n    __extends(_RoleDefinition, _super);\r\n    function _RoleDefinition() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"rd\");\r\n        return _this;\r\n        /* tslint:enable */\r\n    }\r\n    /**\r\n     * Updates this role definition with the supplied properties\r\n     *\r\n     * @param properties A plain object hash of values to update for the role definition\r\n     */\r\n    /* tslint:disable no-string-literal */\r\n    _RoleDefinition.prototype.update = function (properties) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var s, postBody, data, definition, parent_1;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        s = [\"BasePermissions\"];\r\n                        if (hOP(properties, s[0]) !== undefined) {\r\n                            properties[s[0]] = assign(metadata(\"SP.\" + s[0]), properties[s[0]]);\r\n                        }\r\n                        postBody = body(assign(metadata(\"SP.RoleDefinition\"), properties), headers({ \"X-HTTP-Method\": \"MERGE\" }));\r\n                        return [4 /*yield*/, spPost(this, postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        definition = this;\r\n                        if (hOP(properties, \"Name\")) {\r\n                            parent_1 = this.getParent(RoleDefinitions, this.parentUrl, \"\");\r\n                            definition = parent_1.getByName(properties[\"Name\"]);\r\n                        }\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                definition: definition,\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return _RoleDefinition;\r\n}(_SharePointQueryableInstance));\r\nexport { _RoleDefinition };\r\nexport var RoleDefinition = spInvokableFactory(_RoleDefinition);\r\nexport var PermissionKind;\r\n(function (PermissionKind) {\r\n    /**\r\n     * Has no permissions on the Site. Not available through the user interface.\r\n     */\r\n    PermissionKind[PermissionKind[\"EmptyMask\"] = 0] = \"EmptyMask\";\r\n    /**\r\n     * View items in lists, documents in document libraries, and Web discussion comments.\r\n     */\r\n    PermissionKind[PermissionKind[\"ViewListItems\"] = 1] = \"ViewListItems\";\r\n    /**\r\n     * Add items to lists, documents to document libraries, and Web discussion comments.\r\n     */\r\n    PermissionKind[PermissionKind[\"AddListItems\"] = 2] = \"AddListItems\";\r\n    /**\r\n     * Edit items in lists, edit documents in document libraries, edit Web discussion comments\r\n     * in documents, and customize Web Part Pages in document libraries.\r\n     */\r\n    PermissionKind[PermissionKind[\"EditListItems\"] = 3] = \"EditListItems\";\r\n    /**\r\n     * Delete items from a list, documents from a document library, and Web discussion\r\n     * comments in documents.\r\n     */\r\n    PermissionKind[PermissionKind[\"DeleteListItems\"] = 4] = \"DeleteListItems\";\r\n    /**\r\n     * Approve a minor version of a list item or document.\r\n     */\r\n    PermissionKind[PermissionKind[\"ApproveItems\"] = 5] = \"ApproveItems\";\r\n    /**\r\n     * View the source of documents with server-side file handlers.\r\n     */\r\n    PermissionKind[PermissionKind[\"OpenItems\"] = 6] = \"OpenItems\";\r\n    /**\r\n     * View past versions of a list item or document.\r\n     */\r\n    PermissionKind[PermissionKind[\"ViewVersions\"] = 7] = \"ViewVersions\";\r\n    /**\r\n     * Delete past versions of a list item or document.\r\n     */\r\n    PermissionKind[PermissionKind[\"DeleteVersions\"] = 8] = \"DeleteVersions\";\r\n    /**\r\n     * Discard or check in a document which is checked out to another user.\r\n     */\r\n    PermissionKind[PermissionKind[\"CancelCheckout\"] = 9] = \"CancelCheckout\";\r\n    /**\r\n     * Create, change, and delete personal views of lists.\r\n     */\r\n    PermissionKind[PermissionKind[\"ManagePersonalViews\"] = 10] = \"ManagePersonalViews\";\r\n    /**\r\n     * Create and delete lists, add or remove columns in a list, and add or remove public views of a list.\r\n     */\r\n    PermissionKind[PermissionKind[\"ManageLists\"] = 12] = \"ManageLists\";\r\n    /**\r\n     * View forms, views, and application pages, and enumerate lists.\r\n     */\r\n    PermissionKind[PermissionKind[\"ViewFormPages\"] = 13] = \"ViewFormPages\";\r\n    /**\r\n     * Make content of a list or document library retrieveable for anonymous users through SharePoint search.\r\n     * The list permissions in the site do not change.\r\n     */\r\n    PermissionKind[PermissionKind[\"AnonymousSearchAccessList\"] = 14] = \"AnonymousSearchAccessList\";\r\n    /**\r\n     * Allow users to open a Site, list, or folder to access items inside that container.\r\n     */\r\n    PermissionKind[PermissionKind[\"Open\"] = 17] = \"Open\";\r\n    /**\r\n     * View pages in a Site.\r\n     */\r\n    PermissionKind[PermissionKind[\"ViewPages\"] = 18] = \"ViewPages\";\r\n    /**\r\n     * Add, change, or delete HTML pages or Web Part Pages, and edit the Site using\r\n     * a Windows SharePoint Services compatible editor.\r\n     */\r\n    PermissionKind[PermissionKind[\"AddAndCustomizePages\"] = 19] = \"AddAndCustomizePages\";\r\n    /**\r\n     * Apply a theme or borders to the entire Site.\r\n     */\r\n    PermissionKind[PermissionKind[\"ApplyThemeAndBorder\"] = 20] = \"ApplyThemeAndBorder\";\r\n    /**\r\n     * Apply a style sheet (.css file) to the Site.\r\n     */\r\n    PermissionKind[PermissionKind[\"ApplyStyleSheets\"] = 21] = \"ApplyStyleSheets\";\r\n    /**\r\n     * View reports on Site usage.\r\n     */\r\n    PermissionKind[PermissionKind[\"ViewUsageData\"] = 22] = \"ViewUsageData\";\r\n    /**\r\n     * Create a Site using Self-Service Site Creation.\r\n     */\r\n    PermissionKind[PermissionKind[\"CreateSSCSite\"] = 23] = \"CreateSSCSite\";\r\n    /**\r\n     * Create subsites such as team sites, Meeting Workspace sites, and Document Workspace sites.\r\n     */\r\n    PermissionKind[PermissionKind[\"ManageSubwebs\"] = 24] = \"ManageSubwebs\";\r\n    /**\r\n     * Create a group of users that can be used anywhere within the site collection.\r\n     */\r\n    PermissionKind[PermissionKind[\"CreateGroups\"] = 25] = \"CreateGroups\";\r\n    /**\r\n     * Create and change permission levels on the Site and assign permissions to users\r\n     * and groups.\r\n     */\r\n    PermissionKind[PermissionKind[\"ManagePermissions\"] = 26] = \"ManagePermissions\";\r\n    /**\r\n     * Enumerate files and folders in a Site using Microsoft Office SharePoint Designer\r\n     * and WebDAV interfaces.\r\n     */\r\n    PermissionKind[PermissionKind[\"BrowseDirectories\"] = 27] = \"BrowseDirectories\";\r\n    /**\r\n     * View information about users of the Site.\r\n     */\r\n    PermissionKind[PermissionKind[\"BrowseUserInfo\"] = 28] = \"BrowseUserInfo\";\r\n    /**\r\n     * Add or remove personal Web Parts on a Web Part Page.\r\n     */\r\n    PermissionKind[PermissionKind[\"AddDelPrivateWebParts\"] = 29] = \"AddDelPrivateWebParts\";\r\n    /**\r\n     * Update Web Parts to display personalized information.\r\n     */\r\n    PermissionKind[PermissionKind[\"UpdatePersonalWebParts\"] = 30] = \"UpdatePersonalWebParts\";\r\n    /**\r\n     * Grant the ability to perform all administration tasks for the Site as well as\r\n     * manage content, activate, deactivate, or edit properties of Site scoped Features\r\n     * through the object model or through the user interface (UI). When granted on the\r\n     * root Site of a Site Collection, activate, deactivate, or edit properties of\r\n     * site collection scoped Features through the object model. To browse to the Site\r\n     * Collection Features page and activate or deactivate Site Collection scoped Features\r\n     * through the UI, you must be a Site Collection administrator.\r\n     */\r\n    PermissionKind[PermissionKind[\"ManageWeb\"] = 31] = \"ManageWeb\";\r\n    /**\r\n     * Content of lists and document libraries in the Web site will be retrieveable for anonymous users through\r\n     * SharePoint search if the list or document library has AnonymousSearchAccessList set.\r\n     */\r\n    PermissionKind[PermissionKind[\"AnonymousSearchAccessWebLists\"] = 32] = \"AnonymousSearchAccessWebLists\";\r\n    /**\r\n     * Use features that launch client applications. Otherwise, users must work on documents\r\n     * locally and upload changes.\r\n     */\r\n    PermissionKind[PermissionKind[\"UseClientIntegration\"] = 37] = \"UseClientIntegration\";\r\n    /**\r\n     * Use SOAP, WebDAV, or Microsoft Office SharePoint Designer interfaces to access the Site.\r\n     */\r\n    PermissionKind[PermissionKind[\"UseRemoteAPIs\"] = 38] = \"UseRemoteAPIs\";\r\n    /**\r\n     * Manage alerts for all users of the Site.\r\n     */\r\n    PermissionKind[PermissionKind[\"ManageAlerts\"] = 39] = \"ManageAlerts\";\r\n    /**\r\n     * Create e-mail alerts.\r\n     */\r\n    PermissionKind[PermissionKind[\"CreateAlerts\"] = 40] = \"CreateAlerts\";\r\n    /**\r\n     * Allows a user to change his or her user information, such as adding a picture.\r\n     */\r\n    PermissionKind[PermissionKind[\"EditMyUserInfo\"] = 41] = \"EditMyUserInfo\";\r\n    /**\r\n     * Enumerate permissions on Site, list, folder, document, or list item.\r\n     */\r\n    PermissionKind[PermissionKind[\"EnumeratePermissions\"] = 63] = \"EnumeratePermissions\";\r\n    /**\r\n     * Has all permissions on the Site. Not available through the user interface.\r\n     */\r\n    PermissionKind[PermissionKind[\"FullMask\"] = 65] = \"FullMask\";\r\n})(PermissionKind || (PermissionKind = {}));\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { PermissionKind } from \"./types\";\r\nimport { SharePointQueryableInstance, SharePointQueryable } from \"../sharepointqueryable\";\r\nimport { hOP } from \"@pnp/common\";\r\nimport { spPost } from \"../operations\";\r\n/**\r\n* Gets the effective permissions for the user supplied\r\n*\r\n* @param loginName The claims username for the user (ex: i:0#.f|membership|user@domain.com)\r\n*/\r\nexport function getUserEffectivePermissions(loginName) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var q, r;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    q = this.clone(SharePointQueryableInstance, \"getUserEffectivePermissions(@user)\");\r\n                    q.query.set(\"@user\", \"'\" + encodeURIComponent(loginName) + \"'\");\r\n                    return [4 /*yield*/, q.get()];\r\n                case 1:\r\n                    r = _a.sent();\r\n                    // handle verbose mode\r\n                    return [2 /*return*/, hOP(r, \"GetUserEffectivePermissions\") ? r.GetUserEffectivePermissions : r];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Gets the effective permissions for the current user\r\n */\r\nexport function getCurrentUserEffectivePermissions() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var q;\r\n        return __generator(this, function (_a) {\r\n            q = this.clone(SharePointQueryable, \"EffectiveBasePermissions\");\r\n            return [2 /*return*/, q.get().then(function (r) {\r\n                    // handle verbose mode\r\n                    return hOP(r, \"EffectiveBasePermissions\") ? r.EffectiveBasePermissions : r;\r\n                })];\r\n        });\r\n    });\r\n}\r\n/**\r\n * Breaks the security inheritance at this level optinally copying permissions and clearing subscopes\r\n *\r\n * @param copyRoleAssignments If true the permissions are copied from the current parent scope\r\n * @param clearSubscopes Optional. true to make all child securable objects inherit role assignments from the current object\r\n */\r\nexport function breakRoleInheritance(copyRoleAssignments, clearSubscopes) {\r\n    if (copyRoleAssignments === void 0) { copyRoleAssignments = false; }\r\n    if (clearSubscopes === void 0) { clearSubscopes = false; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, spPost(this.clone(SharePointQueryable, \"breakroleinheritance(copyroleassignments=\" + copyRoleAssignments + \", clearsubscopes=\" + clearSubscopes + \")\"))];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Removes the local role assignments so that it re-inherit role assignments from the parent object.\r\n *\r\n */\r\nexport function resetRoleInheritance() {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, spPost(this.clone(SharePointQueryable, \"resetroleinheritance\"))];\r\n                case 1:\r\n                    _a.sent();\r\n                    return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Determines if a given user has the appropriate permissions\r\n *\r\n * @param loginName The user to check\r\n * @param permission The permission being checked\r\n */\r\nexport function userHasPermissions(loginName, permission) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var perms;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, getUserEffectivePermissions.call(this, loginName)];\r\n                case 1:\r\n                    perms = _a.sent();\r\n                    return [2 /*return*/, this.hasPermissions(perms, permission)];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Determines if the current user has the requested permissions\r\n *\r\n * @param permission The permission we wish to check\r\n */\r\nexport function currentUserHasPermissions(permission) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var perms;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, getCurrentUserEffectivePermissions.call(this)];\r\n                case 1:\r\n                    perms = _a.sent();\r\n                    return [2 /*return*/, this.hasPermissions(perms, permission)];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Taken from sp.js, checks the supplied permissions against the mask\r\n *\r\n * @param value The security principal's permissions on the given object\r\n * @param perm The permission checked against the value\r\n */\r\n/* tslint:disable:no-bitwise */\r\nexport function hasPermissions(value, perm) {\r\n    if (!perm) {\r\n        return true;\r\n    }\r\n    if (perm === PermissionKind.FullMask) {\r\n        return (value.High & 32767) === 32767 && value.Low === 65535;\r\n    }\r\n    perm = perm - 1;\r\n    var num = 1;\r\n    if (perm >= 0 && perm < 32) {\r\n        num = num << perm;\r\n        return 0 !== (value.Low & num);\r\n    }\r\n    else if (perm >= 32 && perm < 64) {\r\n        num = num << perm - 32;\r\n        return 0 !== (value.High & num);\r\n    }\r\n    return false;\r\n}\r\n/* tslint:enable */\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Item } from \"../items/types\";\r\nimport { RoleAssignments } from \"./types\";\r\nimport { SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { getUserEffectivePermissions, getCurrentUserEffectivePermissions, breakRoleInheritance, resetRoleInheritance, userHasPermissions, currentUserHasPermissions, hasPermissions, } from \"./funcs\";\r\naddProp(_Item, \"roleAssignments\", RoleAssignments);\r\naddProp(_Item, \"firstUniqueAncestorSecurableObject\", SharePointQueryableInstance);\r\n_Item.prototype.getUserEffectivePermissions = getUserEffectivePermissions;\r\n_Item.prototype.getCurrentUserEffectivePermissions = getCurrentUserEffectivePermissions;\r\n_Item.prototype.breakRoleInheritance = breakRoleInheritance;\r\n_Item.prototype.resetRoleInheritance = resetRoleInheritance;\r\n_Item.prototype.userHasPermissions = userHasPermissions;\r\n_Item.prototype.currentUserHasPermissions = currentUserHasPermissions;\r\n_Item.prototype.hasPermissions = hasPermissions;\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { RoleAssignments } from \"./types\";\r\nimport { SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { getUserEffectivePermissions, getCurrentUserEffectivePermissions, breakRoleInheritance, resetRoleInheritance, userHasPermissions, currentUserHasPermissions, hasPermissions, } from \"./funcs\";\r\naddProp(_List, \"roleAssignments\", RoleAssignments);\r\naddProp(_List, \"firstUniqueAncestorSecurableObject\", SharePointQueryableInstance);\r\n_List.prototype.getUserEffectivePermissions = getUserEffectivePermissions;\r\n_List.prototype.getCurrentUserEffectivePermissions = getCurrentUserEffectivePermissions;\r\n_List.prototype.breakRoleInheritance = breakRoleInheritance;\r\n_List.prototype.resetRoleInheritance = resetRoleInheritance;\r\n_List.prototype.userHasPermissions = userHasPermissions;\r\n_List.prototype.currentUserHasPermissions = currentUserHasPermissions;\r\n_List.prototype.hasPermissions = hasPermissions;\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { RoleDefinitions, RoleAssignments } from \"./types\";\r\nimport { SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { getUserEffectivePermissions, getCurrentUserEffectivePermissions, breakRoleInheritance, resetRoleInheritance, userHasPermissions, currentUserHasPermissions, hasPermissions, } from \"./funcs\";\r\naddProp(_Web, \"roleDefinitions\", RoleDefinitions);\r\naddProp(_Web, \"roleAssignments\", RoleAssignments);\r\naddProp(_Web, \"firstUniqueAncestorSecurableObject\", SharePointQueryableInstance);\r\n_Web.prototype.getUserEffectivePermissions = getUserEffectivePermissions;\r\n_Web.prototype.getCurrentUserEffectivePermissions = getCurrentUserEffectivePermissions;\r\n_Web.prototype.breakRoleInheritance = breakRoleInheritance;\r\n_Web.prototype.resetRoleInheritance = resetRoleInheritance;\r\n_Web.prototype.userHasPermissions = userHasPermissions;\r\n_Web.prototype.currentUserHasPermissions = currentUserHasPermissions;\r\n_Web.prototype.hasPermissions = hasPermissions;\r\n","import \"./item\";\r\nimport \"./list\";\r\nimport \"./web\";\r\nexport { RoleAssignment, RoleAssignments, RoleDefinition, RoleDefinitions, PermissionKind, } from \"./types\";\r\n","/**\r\n * Indicates the role of the sharing link\r\n */\r\nexport var SharingRole;\r\n(function (SharingRole) {\r\n    SharingRole[SharingRole[\"None\"] = 0] = \"None\";\r\n    SharingRole[SharingRole[\"View\"] = 1] = \"View\";\r\n    SharingRole[SharingRole[\"Edit\"] = 2] = \"Edit\";\r\n    SharingRole[SharingRole[\"Owner\"] = 3] = \"Owner\";\r\n})(SharingRole || (SharingRole = {}));\r\nexport var SPSharedObjectType;\r\n(function (SPSharedObjectType) {\r\n    SPSharedObjectType[SPSharedObjectType[\"Unknown\"] = 0] = \"Unknown\";\r\n    SPSharedObjectType[SPSharedObjectType[\"File\"] = 1] = \"File\";\r\n    SPSharedObjectType[SPSharedObjectType[\"Folder\"] = 2] = \"Folder\";\r\n    SPSharedObjectType[SPSharedObjectType[\"Item\"] = 3] = \"Item\";\r\n    SPSharedObjectType[SPSharedObjectType[\"List\"] = 4] = \"List\";\r\n    SPSharedObjectType[SPSharedObjectType[\"Web\"] = 5] = \"Web\";\r\n    SPSharedObjectType[SPSharedObjectType[\"Max\"] = 6] = \"Max\";\r\n})(SPSharedObjectType || (SPSharedObjectType = {}));\r\nexport var SharingDomainRestrictionMode;\r\n(function (SharingDomainRestrictionMode) {\r\n    SharingDomainRestrictionMode[SharingDomainRestrictionMode[\"None\"] = 0] = \"None\";\r\n    SharingDomainRestrictionMode[SharingDomainRestrictionMode[\"AllowList\"] = 1] = \"AllowList\";\r\n    SharingDomainRestrictionMode[SharingDomainRestrictionMode[\"BlockList\"] = 2] = \"BlockList\";\r\n})(SharingDomainRestrictionMode || (SharingDomainRestrictionMode = {}));\r\nexport var SharingOperationStatusCode;\r\n(function (SharingOperationStatusCode) {\r\n    /**\r\n     * The share operation completed without errors.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"CompletedSuccessfully\"] = 0] = \"CompletedSuccessfully\";\r\n    /**\r\n     * The share operation completed and generated requests for access.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"AccessRequestsQueued\"] = 1] = \"AccessRequestsQueued\";\r\n    /**\r\n     * The share operation failed as there were no resolved users.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"NoResolvedUsers\"] = -1] = \"NoResolvedUsers\";\r\n    /**\r\n     * The share operation failed due to insufficient permissions.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"AccessDenied\"] = -2] = \"AccessDenied\";\r\n    /**\r\n     * The share operation failed when attempting a cross site share, which is not supported.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"CrossSiteRequestNotSupported\"] = -3] = \"CrossSiteRequestNotSupported\";\r\n    /**\r\n     * The sharing operation failed due to an unknown error.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"UnknowError\"] = -4] = \"UnknowError\";\r\n    /**\r\n     * The text you typed is too long. Please shorten it.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"EmailBodyTooLong\"] = -5] = \"EmailBodyTooLong\";\r\n    /**\r\n     * The maximum number of unique scopes in the list has been exceeded.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"ListUniqueScopesExceeded\"] = -6] = \"ListUniqueScopesExceeded\";\r\n    /**\r\n     * The share operation failed because a sharing capability is disabled in the site.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"CapabilityDisabled\"] = -7] = \"CapabilityDisabled\";\r\n    /**\r\n     * The specified object for the share operation is not supported.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"ObjectNotSupported\"] = -8] = \"ObjectNotSupported\";\r\n    /**\r\n     * A SharePoint group cannot contain another SharePoint group.\r\n     */\r\n    SharingOperationStatusCode[SharingOperationStatusCode[\"NestedGroupsNotSupported\"] = -9] = \"NestedGroupsNotSupported\";\r\n})(SharingOperationStatusCode || (SharingOperationStatusCode = {}));\r\nexport var SharingLinkKind;\r\n(function (SharingLinkKind) {\r\n    /**\r\n     * Uninitialized link\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"Uninitialized\"] = 0] = \"Uninitialized\";\r\n    /**\r\n     * Direct link to the object being shared\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"Direct\"] = 1] = \"Direct\";\r\n    /**\r\n     * Organization-shareable link to the object being shared with view permissions\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"OrganizationView\"] = 2] = \"OrganizationView\";\r\n    /**\r\n     * Organization-shareable link to the object being shared with edit permissions\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"OrganizationEdit\"] = 3] = \"OrganizationEdit\";\r\n    /**\r\n     * View only anonymous link\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"AnonymousView\"] = 4] = \"AnonymousView\";\r\n    /**\r\n     * Read/Write anonymous link\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"AnonymousEdit\"] = 5] = \"AnonymousEdit\";\r\n    /**\r\n     * Flexible sharing Link where properties can change without affecting link URL\r\n     */\r\n    SharingLinkKind[SharingLinkKind[\"Flexible\"] = 6] = \"Flexible\";\r\n})(SharingLinkKind || (SharingLinkKind = {}));\r\nexport var RoleType;\r\n(function (RoleType) {\r\n    RoleType[RoleType[\"None\"] = 0] = \"None\";\r\n    RoleType[RoleType[\"Guest\"] = 1] = \"Guest\";\r\n    RoleType[RoleType[\"Reader\"] = 2] = \"Reader\";\r\n    RoleType[RoleType[\"Contributor\"] = 3] = \"Contributor\";\r\n    RoleType[RoleType[\"WebDesigner\"] = 4] = \"WebDesigner\";\r\n    RoleType[RoleType[\"Administrator\"] = 5] = \"Administrator\";\r\n})(RoleType || (RoleType = {}));\r\n","import { __awaiter, __generator, __read, __spread } from \"tslib\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { jsS, assign } from \"@pnp/common\";\r\nimport { SharePointQueryableCollection, SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { Web } from \"../webs/types\";\r\nimport { SharingRole, RoleType, } from \"./types\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nimport { RoleDefinitions } from \"../security/types\";\r\nimport { emptyGuid } from \"../splibconfig\";\r\n/**\r\n * Shares an object based on the supplied options\r\n *\r\n * @param options The set of options to send to the ShareObject method\r\n * @param bypass If true any processing is skipped and the options are sent directly to the ShareObject method\r\n */\r\nexport function shareObject(o, options, bypass) {\r\n    if (bypass === void 0) { bypass = false; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var roleValue, userStr, postBody;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    if (bypass) {\r\n                        // if the bypass flag is set send the supplied parameters directly to the service\r\n                        return [2 /*return*/, sendShareObjectRequest(o, options)];\r\n                    }\r\n                    // extend our options with some defaults\r\n                    options = assign(options, {\r\n                        group: null,\r\n                        includeAnonymousLinkInEmail: false,\r\n                        propagateAcl: false,\r\n                        useSimplifiedRoles: true,\r\n                    }, true);\r\n                    return [4 /*yield*/, getRoleValue(options.role, options.group)];\r\n                case 1:\r\n                    roleValue = _a.sent();\r\n                    // handle the multiple input types\r\n                    if (!Array.isArray(options.loginNames)) {\r\n                        options.loginNames = [options.loginNames];\r\n                    }\r\n                    userStr = jsS(options.loginNames.map(function (Key) { return ({ Key: Key }); }));\r\n                    postBody = {\r\n                        peoplePickerInput: userStr,\r\n                        roleValue: roleValue,\r\n                        url: options.url,\r\n                    };\r\n                    if (options.emailData !== undefined && options.emailData !== null) {\r\n                        postBody = assign(postBody, {\r\n                            emailBody: options.emailData.body,\r\n                            emailSubject: options.emailData.subject !== undefined ? options.emailData.subject : \"Shared with you.\",\r\n                            sendEmail: true,\r\n                        });\r\n                    }\r\n                    return [2 /*return*/, sendShareObjectRequest(o, postBody)];\r\n            }\r\n        });\r\n    });\r\n}\r\n/**\r\n * Gets a sharing link for the supplied\r\n *\r\n * @param kind The kind of link to share\r\n * @param expiration The optional expiration for this link\r\n */\r\nexport function getShareLink(kind, expiration) {\r\n    if (expiration === void 0) { expiration = null; }\r\n    // date needs to be an ISO string or null\r\n    var expString = expiration !== null ? expiration.toISOString() : null;\r\n    // clone using the factory and send the request\r\n    var o = tag.configure(this.clone(SharePointQueryableInstance, \"shareLink\"), \"sh.getShareLink\");\r\n    return spPost(o, body({\r\n        request: {\r\n            createLink: true,\r\n            emailData: null,\r\n            settings: {\r\n                expiration: expString,\r\n                linkKind: kind,\r\n            },\r\n        },\r\n    }));\r\n}\r\n/**\r\n * Checks Permissions on the list of Users and returns back role the users have on the Item.\r\n *\r\n * @param recipients The array of Entities for which Permissions need to be checked.\r\n */\r\nexport function checkPermissions(recipients) {\r\n    var o = tag.configure(this.clone(SharePointQueryableInstance, \"checkPermissions\"), \"sh.checkPermissions\");\r\n    return spPost(o, body({ recipients: recipients }));\r\n}\r\n/**\r\n * Get Sharing Information.\r\n *\r\n * @param request The SharingInformationRequest Object.\r\n * @param expands Expand more fields.\r\n *\r\n */\r\nexport function getSharingInformation(request, expands) {\r\n    if (request === void 0) { request = null; }\r\n    if (expands === void 0) { expands = []; }\r\n    var o = tag.configure(this.clone(SharePointQueryableInstance, \"getSharingInformation\"), \"sh.getSharingInformation\");\r\n    return spPost(o.expand.apply(o, __spread(expands)), body({ request: request }));\r\n}\r\n/**\r\n * Gets the sharing settings of an item.\r\n *\r\n * @param useSimplifiedRoles Determines whether to use simplified roles.\r\n */\r\nexport function getObjectSharingSettings(useSimplifiedRoles) {\r\n    if (useSimplifiedRoles === void 0) { useSimplifiedRoles = true; }\r\n    var o = tag.configure(this.clone(SharePointQueryableInstance, \"getObjectSharingSettings\"), \"sh.getObjectSharingSettings\");\r\n    return spPost(o, body({ useSimplifiedRoles: useSimplifiedRoles }));\r\n}\r\n/**\r\n * Unshares this object\r\n */\r\nexport function unshareObject() {\r\n    return spPost(tag.configure(this.clone(SharePointQueryableInstance, \"unshareObject\"), \"sh.unshareObject\"));\r\n}\r\n/**\r\n * Deletes a link by type\r\n *\r\n * @param kind Deletes a sharing link by the kind of link\r\n */\r\nexport function deleteLinkByKind(linkKind) {\r\n    return spPost(tag.configure(this.clone(SharePointQueryableInstance, \"deleteLinkByKind\"), \"sh.deleteLinkByKind\"), body({ linkKind: linkKind }));\r\n}\r\n/**\r\n * Removes the specified link to the item.\r\n *\r\n * @param kind The kind of link to be deleted.\r\n * @param shareId\r\n */\r\nexport function unshareLink(linkKind, shareId) {\r\n    if (shareId === void 0) { shareId = emptyGuid; }\r\n    return spPost(tag.configure(this.clone(SharePointQueryableInstance, \"unshareLink\"), \"sh.unshareLink\"), body({ linkKind: linkKind, shareId: shareId }));\r\n}\r\n/**\r\n * Shares this instance with the supplied users\r\n *\r\n * @param loginNames Resolved login names to share\r\n * @param role The role\r\n * @param requireSignin True to require the user is authenticated, otherwise false\r\n * @param propagateAcl True to apply this share to all children\r\n * @param emailData If supplied an email will be sent with the indicated properties\r\n */\r\nexport function shareWith(o, loginNames, role, requireSignin, propagateAcl, emailData) {\r\n    if (requireSignin === void 0) { requireSignin = false; }\r\n    if (propagateAcl === void 0) { propagateAcl = false; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var userStr, roleFilter, w, def, postBody;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    // handle the multiple input types\r\n                    if (!Array.isArray(loginNames)) {\r\n                        loginNames = [loginNames];\r\n                    }\r\n                    userStr = jsS(loginNames.map(function (login) { return { Key: login }; }));\r\n                    roleFilter = role === SharingRole.Edit ? RoleType.Contributor : RoleType.Reader;\r\n                    w = SharePointQueryableCollection(\"_api/web\", \"roledefinitions\");\r\n                    return [4 /*yield*/, w.select(\"Id\").filter(\"RoleTypeKind eq \" + roleFilter).get()];\r\n                case 1:\r\n                    def = _a.sent();\r\n                    if (!Array.isArray(def) || def.length < 1) {\r\n                        throw Error(\"Could not locate a role defintion with RoleTypeKind \" + roleFilter);\r\n                    }\r\n                    postBody = {\r\n                        includeAnonymousLinkInEmail: requireSignin,\r\n                        peoplePickerInput: userStr,\r\n                        propagateAcl: propagateAcl,\r\n                        roleValue: \"role:\" + def[0].Id,\r\n                        useSimplifiedRoles: true,\r\n                    };\r\n                    if (emailData !== undefined) {\r\n                        postBody = assign(postBody, {\r\n                            emailBody: emailData.body,\r\n                            emailSubject: emailData.subject !== undefined ? emailData.subject : \"\",\r\n                            sendEmail: true,\r\n                        });\r\n                    }\r\n                    return [2 /*return*/, spPost(tag.configure(o.clone(SharePointQueryableInstance, \"shareObject\"), \"sh.shareWith\"), body(postBody))];\r\n            }\r\n        });\r\n    });\r\n}\r\nfunction sendShareObjectRequest(o, options) {\r\n    var w = tag.configure(Web(extractWebUrl(o.toUrl()), \"/_api/SP.Web.ShareObject\"), \"sh.sendShareObjectRequest\");\r\n    return spPost(w.expand(\"UsersWithAccessRequests\", \"GroupsSharedWith\"), body(options));\r\n}\r\n/**\r\n * Calculates the roleValue string used in the sharing query\r\n *\r\n * @param role The Sharing Role\r\n * @param group The Group type\r\n */\r\nfunction getRoleValue(role, group) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var _a, g1, g2, roleFilter, def;\r\n        return __generator(this, function (_b) {\r\n            switch (_b.label) {\r\n                case 0:\r\n                    if (!(group !== undefined && group !== null)) return [3 /*break*/, 7];\r\n                    _a = group;\r\n                    switch (_a) {\r\n                        case RoleType.Contributor: return [3 /*break*/, 1];\r\n                        case RoleType.Reader: return [3 /*break*/, 3];\r\n                        case RoleType.Guest: return [3 /*break*/, 3];\r\n                    }\r\n                    return [3 /*break*/, 5];\r\n                case 1: return [4 /*yield*/, Web(\"_api/web\", \"associatedmembergroup\").select(\"Id\")()];\r\n                case 2:\r\n                    g1 = _b.sent();\r\n                    return [2 /*return*/, \"group: \" + g1.Id];\r\n                case 3: return [4 /*yield*/, Web(\"_api/web\", \"associatedvisitorgroup\").select(\"Id\")()];\r\n                case 4:\r\n                    g2 = _b.sent();\r\n                    return [2 /*return*/, \"group: \" + g2.Id];\r\n                case 5: throw Error(\"Could not determine role value for supplied value. Contributor, Reader, and Guest are supported\");\r\n                case 6: return [3 /*break*/, 9];\r\n                case 7:\r\n                    roleFilter = role === SharingRole.Edit ? RoleType.Contributor : RoleType.Reader;\r\n                    return [4 /*yield*/, RoleDefinitions(\"_api/web\").select(\"Id\").top(1).filter(\"RoleTypeKind eq \" + roleFilter)()];\r\n                case 8:\r\n                    def = _b.sent();\r\n                    if (def.length < 1) {\r\n                        throw Error(\"Could not locate associated role definition for supplied role. Edit and View are supported\");\r\n                    }\r\n                    return [2 /*return*/, \"role: \" + def[0].Id];\r\n                case 9: return [2 /*return*/];\r\n            }\r\n        });\r\n    });\r\n}\r\n","import { _File } from \"../files/types\";\r\nimport { SharingRole, } from \"./types\";\r\nimport { shareWith, getShareLink, checkPermissions, getSharingInformation, getObjectSharingSettings, unshareObject, deleteLinkByKind, unshareLink, } from \"./funcs\";\r\n_File.prototype.shareWith = function (loginNames, role, requireSignin, emailData) {\r\n    if (role === void 0) { role = SharingRole.View; }\r\n    if (requireSignin === void 0) { requireSignin = false; }\r\n    return shareWith(this, loginNames, role, requireSignin, false, emailData);\r\n};\r\n_File.prototype.getShareLink = getShareLink;\r\n_File.prototype.checkSharingPermissions = checkPermissions;\r\n_File.prototype.getSharingInformation = getSharingInformation;\r\n_File.prototype.getObjectSharingSettings = getObjectSharingSettings;\r\n_File.prototype.unshare = unshareObject;\r\n_File.prototype.deleteSharingLinkByKind = deleteLinkByKind;\r\n_File.prototype.unshareLink = unshareLink;\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { _Folder, } from \"../folders/types\";\r\nimport { SharingRole, } from \"./types\";\r\n_Folder.prototype.shareWith = function (loginNames, role, requireSignin, shareEverything, emailData) {\r\n    if (role === void 0) { role = SharingRole.View; }\r\n    if (requireSignin === void 0) { requireSignin = false; }\r\n    if (shareEverything === void 0) { shareEverything = false; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.shareWith(loginNames, role, requireSignin, shareEverything, emailData)];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.getShareLink = function (kind, expiration) {\r\n    if (expiration === void 0) { expiration = null; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.getShareLink(kind, expiration)];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.checkSharingPermissions = function (recipients) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.checkSharingPermissions(recipients)];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.getSharingInformation = function (request, expands) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.getSharingInformation(request, expands)];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.getObjectSharingSettings = function (useSimplifiedRoles) {\r\n    if (useSimplifiedRoles === void 0) { useSimplifiedRoles = true; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.getObjectSharingSettings(useSimplifiedRoles)];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.unshare = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.unshare()];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.deleteSharingLinkByKind = function (kind) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.deleteSharingLinkByKind(kind)];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Folder.prototype.unshareLink = function (kind, shareId) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, shareable;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    return [4 /*yield*/, this.getShareable()];\r\n                case 1:\r\n                    shareable = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, shareable.unshareLink(kind, shareId)];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import { _Item } from \"../items/types\";\r\nimport { SharingRole, } from \"./types\";\r\nimport { shareWith, getShareLink, checkPermissions, getSharingInformation, getObjectSharingSettings, unshareObject, deleteLinkByKind, unshareLink, } from \"./funcs\";\r\n_Item.prototype.shareWith = function (loginNames, role, requireSignin, emailData) {\r\n    if (role === void 0) { role = SharingRole.View; }\r\n    if (requireSignin === void 0) { requireSignin = false; }\r\n    return shareWith(this, loginNames, role, requireSignin, false, emailData);\r\n};\r\n_Item.prototype.getShareLink = getShareLink;\r\n_Item.prototype.checkSharingPermissions = checkPermissions;\r\n_Item.prototype.getSharingInformation = getSharingInformation;\r\n_Item.prototype.getObjectSharingSettings = getObjectSharingSettings;\r\n_Item.prototype.unshare = unshareObject;\r\n_Item.prototype.deleteSharingLinkByKind = deleteLinkByKind;\r\n_Item.prototype.unshareLink = unshareLink;\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { _Web, Web } from \"../webs/types\";\r\nimport { SharingRole } from \"./types\";\r\nimport { _SharePointQueryableInstance } from \"../sharepointqueryable\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { shareObject } from \"./funcs\";\r\nimport { combine } from \"@pnp/common\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\n/**\r\n * Shares this web with the supplied users\r\n * @param loginNames The resolved login names to share\r\n * @param role The role to share this web\r\n * @param emailData Optional email data\r\n */\r\n_Web.prototype.shareWith = function (loginNames, role, emailData) {\r\n    if (role === void 0) { role = SharingRole.View; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var dependency, web, url;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0:\r\n                    dependency = this.addBatchDependency();\r\n                    web = new _SharePointQueryableInstance(extractWebUrl(this.toUrl()), \"/_api/web/url\");\r\n                    return [4 /*yield*/, web.get()];\r\n                case 1:\r\n                    url = _a.sent();\r\n                    dependency();\r\n                    return [2 /*return*/, this.shareObject(combine(url, \"/_layouts/15/aclinv.aspx?forSharing=1&mbypass=1\"), loginNames, role, emailData)];\r\n            }\r\n        });\r\n    });\r\n};\r\n/**\r\n * Provides direct access to the static web.ShareObject method\r\n *\r\n * @param url The url to share\r\n * @param loginNames Resolved loginnames string[] of a single login name string\r\n * @param roleValue Role value\r\n * @param emailData Optional email data\r\n * @param groupId Optional group id\r\n * @param propagateAcl\r\n * @param includeAnonymousLinkInEmail\r\n * @param useSimplifiedRoles\r\n */\r\n_Web.prototype.shareObject = function (url, loginNames, role, emailData, group, propagateAcl, includeAnonymousLinkInEmail, useSimplifiedRoles) {\r\n    if (propagateAcl === void 0) { propagateAcl = false; }\r\n    if (includeAnonymousLinkInEmail === void 0) { includeAnonymousLinkInEmail = false; }\r\n    if (useSimplifiedRoles === void 0) { useSimplifiedRoles = true; }\r\n    return shareObject(this, {\r\n        emailData: emailData,\r\n        group: group,\r\n        includeAnonymousLinkInEmail: includeAnonymousLinkInEmail,\r\n        loginNames: loginNames,\r\n        propagateAcl: propagateAcl,\r\n        role: role,\r\n        url: url,\r\n        useSimplifiedRoles: useSimplifiedRoles,\r\n    });\r\n};\r\n/**\r\n * Supplies a method to pass any set of arguments to ShareObject\r\n *\r\n * @param options The set of options to send to ShareObject\r\n */\r\n_Web.prototype.shareObjectRaw = function (options) {\r\n    return shareObject(this, options, true);\r\n};\r\n/**\r\n * Supplies a method to pass any set of arguments to ShareObject\r\n *\r\n * @param options The set of options to send to ShareObject\r\n */\r\n_Web.prototype.unshareObject = function (url) {\r\n    return spPost(Web(this, \"unshareObject\"), body({ url: url }));\r\n};\r\n","import \"./file\";\r\nimport \"./folder\";\r\nimport \"./item\";\r\nimport \"./web\";\r\nexport { SPSharedObjectType, SharingDomainRestrictionMode, SharingLinkKind, SharingOperationStatusCode, SharingRole, RoleType, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryable } from \"../sharepointqueryable\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { headers, body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { hOP } from \"@pnp/common\";\r\nimport { tag } from \"../telemetry\";\r\nvar _SiteDesigns = /** @class */ (function (_super) {\r\n    __extends(_SiteDesigns, _super);\r\n    function _SiteDesigns(baseUrl, methodName) {\r\n        if (methodName === void 0) { methodName = \"\"; }\r\n        var _this = this;\r\n        var url = typeof baseUrl === \"string\" ? baseUrl : baseUrl.toUrl();\r\n        _this = _super.call(this, extractWebUrl(url), \"_api/Microsoft.Sharepoint.Utilities.WebTemplateExtensions.SiteScriptUtility.\" + methodName) || this;\r\n        return _this;\r\n    }\r\n    _SiteDesigns.prototype.execute = function (props) {\r\n        return spPost(this, body(props, headers({ \"Content-Type\": \"application/json;charset=utf-8\" })));\r\n    };\r\n    /**\r\n     * Creates a new site design available to users when they create a new site from the SharePoint home page.\r\n     *\r\n     * @param creationInfo A sitedesign creation information object\r\n     */\r\n    _SiteDesigns.prototype.createSiteDesign = function (creationInfo) {\r\n        return this.clone(SiteDesignsCloneFactory, \"CreateSiteDesign\").execute({ info: creationInfo });\r\n    };\r\n    /**\r\n     * Applies a site design to an existing site collection.\r\n     *\r\n     * @param siteDesignId The ID of the site design to apply.\r\n     * @param webUrl The URL of the site collection where you want to apply the site design.\r\n     */\r\n    _SiteDesigns.prototype.applySiteDesign = function (siteDesignId, webUrl) {\r\n        return this.clone(SiteDesignsCloneFactory, \"ApplySiteDesign\").execute({ siteDesignId: siteDesignId, \"webUrl\": webUrl });\r\n    };\r\n    /**\r\n     * Gets the list of available site designs\r\n     */\r\n    _SiteDesigns.prototype.getSiteDesigns = function () {\r\n        return this.clone(SiteDesignsCloneFactory, \"GetSiteDesigns\").execute({});\r\n    };\r\n    /**\r\n     * Gets information about a specific site design.\r\n     * @param id The ID of the site design to get information about.\r\n     */\r\n    _SiteDesigns.prototype.getSiteDesignMetadata = function (id) {\r\n        return this.clone(SiteDesignsCloneFactory, \"GetSiteDesignMetadata\").execute({ id: id });\r\n    };\r\n    /**\r\n     * Updates a site design with new values. In the REST call, all parameters are optional except the site script Id.\r\n     * If you had previously set the IsDefault parameter to TRUE and wish it to remain true, you must pass in this parameter again (otherwise it will be reset to FALSE).\r\n     * @param updateInfo A sitedesign update information object\r\n     */\r\n    _SiteDesigns.prototype.updateSiteDesign = function (updateInfo) {\r\n        return this.clone(SiteDesignsCloneFactory, \"UpdateSiteDesign\").execute({ updateInfo: updateInfo });\r\n    };\r\n    /**\r\n     * Deletes a site design.\r\n     * @param id The ID of the site design to delete.\r\n     */\r\n    _SiteDesigns.prototype.deleteSiteDesign = function (id) {\r\n        return this.clone(SiteDesignsCloneFactory, \"DeleteSiteDesign\").execute({ id: id });\r\n    };\r\n    /**\r\n     * Gets a list of principals that have access to a site design.\r\n     * @param id The ID of the site design to get rights information from.\r\n     */\r\n    _SiteDesigns.prototype.getSiteDesignRights = function (id) {\r\n        return this.clone(SiteDesignsCloneFactory, \"GetSiteDesignRights\").execute({ id: id });\r\n    };\r\n    /**\r\n     * Grants access to a site design for one or more principals.\r\n     * @param id The ID of the site design to grant rights on.\r\n     * @param principalNames An array of one or more principals to grant view rights.\r\n     *                       Principals can be users or mail-enabled security groups in the form of \"alias\" or \"alias@<domain name>.com\"\r\n     * @param grantedRights Always set to 1. This represents the View right.\r\n     */\r\n    _SiteDesigns.prototype.grantSiteDesignRights = function (id, principalNames, grantedRights) {\r\n        if (grantedRights === void 0) { grantedRights = 1; }\r\n        return this.clone(SiteDesignsCloneFactory, \"GrantSiteDesignRights\")\r\n            .execute({\r\n            \"grantedRights\": grantedRights.toString(),\r\n            \"id\": id,\r\n            \"principalNames\": principalNames,\r\n        });\r\n    };\r\n    /**\r\n     * Revokes access from a site design for one or more principals.\r\n     * @param id The ID of the site design to revoke rights from.\r\n     * @param principalNames An array of one or more principals to revoke view rights from.\r\n     *                       If all principals have rights revoked on the site design, the site design becomes viewable to everyone.\r\n     */\r\n    _SiteDesigns.prototype.revokeSiteDesignRights = function (id, principalNames) {\r\n        return this.clone(SiteDesignsCloneFactory, \"RevokeSiteDesignRights\")\r\n            .execute({\r\n            \"id\": id,\r\n            \"principalNames\": principalNames,\r\n        });\r\n    };\r\n    /**\r\n     * Adds a site design task on the specified web url to be invoked asynchronously.\r\n     * @param webUrl The absolute url of the web on where to create the task\r\n     * @param siteDesignId The ID of the site design to create a task for\r\n     */\r\n    _SiteDesigns.prototype.addSiteDesignTask = function (webUrl, siteDesignId) {\r\n        return this.clone(SiteDesignsCloneFactory, \"AddSiteDesignTask\")\r\n            .execute({ \"webUrl\": webUrl, \"siteDesignId\": siteDesignId });\r\n    };\r\n    /**\r\n     * Adds a site design task on the current web to be invoked asynchronously.\r\n     * @param siteDesignId The ID of the site design to create a task for\r\n     */\r\n    _SiteDesigns.prototype.addSiteDesignTaskToCurrentWeb = function (siteDesignId) {\r\n        return this.clone(SiteDesignsCloneFactory, \"AddSiteDesignTaskToCurrentWeb\")\r\n            .execute({ \"siteDesignId\": siteDesignId });\r\n    };\r\n    /**\r\n     * Retrieves the site design task, if the task has finished running null will be returned\r\n     * @param id The ID of the site design task\r\n     */\r\n    _SiteDesigns.prototype.getSiteDesignTask = function (id) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var task;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(SiteDesignsCloneFactory, \"GetSiteDesignTask\")\r\n                            .execute({ \"taskId\": id })];\r\n                    case 1:\r\n                        task = _a.sent();\r\n                        return [2 /*return*/, hOP(task, \"ID\") ? task : null];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Retrieves a list of site design that have run on a specific web\r\n     * @param webUrl The url of the web where the site design was applied\r\n     * @param siteDesignId (Optional) the site design ID, if not provided will return all site design runs\r\n     */\r\n    _SiteDesigns.prototype.getSiteDesignRun = function (webUrl, siteDesignId) {\r\n        return this.clone(SiteDesignsCloneFactory, \"GetSiteDesignRun\")\r\n            .execute({ \"webUrl\": webUrl, siteDesignId: siteDesignId });\r\n    };\r\n    /**\r\n     * Retrieves the status of a site design that has been run or is still running\r\n     * @param webUrl The url of the web where the site design was applied\r\n     * @param runId the run ID\r\n     */\r\n    _SiteDesigns.prototype.getSiteDesignRunStatus = function (webUrl, runId) {\r\n        return this.clone(SiteDesignsCloneFactory, \"GetSiteDesignRunStatus\")\r\n            .execute({ \"webUrl\": webUrl, runId: runId });\r\n    };\r\n    __decorate([\r\n        tag(\"sd.createSiteDesign\")\r\n    ], _SiteDesigns.prototype, \"createSiteDesign\", null);\r\n    __decorate([\r\n        tag(\"sd.applySiteDesign\")\r\n    ], _SiteDesigns.prototype, \"applySiteDesign\", null);\r\n    __decorate([\r\n        tag(\"sd.getSiteDesigns\")\r\n    ], _SiteDesigns.prototype, \"getSiteDesigns\", null);\r\n    __decorate([\r\n        tag(\"sd.getSiteDesignMetadata\")\r\n    ], _SiteDesigns.prototype, \"getSiteDesignMetadata\", null);\r\n    __decorate([\r\n        tag(\"sd.updateSiteDesign\")\r\n    ], _SiteDesigns.prototype, \"updateSiteDesign\", null);\r\n    __decorate([\r\n        tag(\"sd.deleteSiteDesign\")\r\n    ], _SiteDesigns.prototype, \"deleteSiteDesign\", null);\r\n    __decorate([\r\n        tag(\"sd.getSiteDesignRights\")\r\n    ], _SiteDesigns.prototype, \"getSiteDesignRights\", null);\r\n    __decorate([\r\n        tag(\"sd.grantSiteDesignRights\")\r\n    ], _SiteDesigns.prototype, \"grantSiteDesignRights\", null);\r\n    __decorate([\r\n        tag(\"sd.revokeSiteDesignRights\")\r\n    ], _SiteDesigns.prototype, \"revokeSiteDesignRights\", null);\r\n    __decorate([\r\n        tag(\"sd.addSiteDesignTask\")\r\n    ], _SiteDesigns.prototype, \"addSiteDesignTask\", null);\r\n    __decorate([\r\n        tag(\"sd.addSiteDesignTaskToCurrentWeb\")\r\n    ], _SiteDesigns.prototype, \"addSiteDesignTaskToCurrentWeb\", null);\r\n    __decorate([\r\n        tag(\"sd.getSiteDesignTask\")\r\n    ], _SiteDesigns.prototype, \"getSiteDesignTask\", null);\r\n    __decorate([\r\n        tag(\"sd.getSiteDesignRun\")\r\n    ], _SiteDesigns.prototype, \"getSiteDesignRun\", null);\r\n    __decorate([\r\n        tag(\"sd.getSiteDesignRunStatus\")\r\n    ], _SiteDesigns.prototype, \"getSiteDesignRunStatus\", null);\r\n    return _SiteDesigns;\r\n}(_SharePointQueryable));\r\nexport { _SiteDesigns };\r\nexport var SiteDesigns = function (baseUrl, methodName) { return new _SiteDesigns(baseUrl, methodName); };\r\nvar SiteDesignsCloneFactory = function (baseUrl, methodName) {\r\n    if (methodName === void 0) { methodName = \"\"; }\r\n    return SiteDesigns(baseUrl, methodName);\r\n};\r\n","import { _Web } from \"../webs/types\";\r\nimport { SiteDesigns } from \"./types\";\r\n_Web.prototype.getSiteDesignRuns = function (siteDesignId) {\r\n    return SiteDesigns(this, \"\").getSiteDesignRun(undefined, siteDesignId);\r\n};\r\n_Web.prototype.addSiteDesignTask = function (siteDesignId) {\r\n    return SiteDesigns(this, \"\").addSiteDesignTaskToCurrentWeb(siteDesignId);\r\n};\r\n_Web.prototype.getSiteDesignRunStatus = function (runId) {\r\n    return SiteDesigns(this, \"\").getSiteDesignRunStatus(undefined, runId);\r\n};\r\n","import \"./web\";\r\nimport { SPRest } from \"../rest\";\r\nimport { SiteDesigns } from \"./types\";\r\nexport { SiteDesigns, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"siteDesigns\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return SiteDesigns(this._baseUrl);\r\n    },\r\n});\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { addProp } from \"@pnp/odata\";\r\nimport { _Web, Web } from \"../webs/types\";\r\nimport { SiteGroups } from \"./types\";\r\nimport { spPost } from \"../operations\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nimport \"../security/web\";\r\naddProp(_Web, \"siteGroups\", SiteGroups);\r\naddProp(_Web, \"associatedOwnerGroup\", SiteGroups, \"associatedownergroup\");\r\naddProp(_Web, \"associatedMemberGroup\", SiteGroups, \"associatedmembergroup\");\r\naddProp(_Web, \"associatedVisitorGroup\", SiteGroups, \"associatedvisitorgroup\");\r\n_Web.prototype.createDefaultAssociatedGroups = function (groupNameSeed, siteOwner, copyRoleAssignments, clearSubscopes, siteOwner2) {\r\n    if (copyRoleAssignments === void 0) { copyRoleAssignments = false; }\r\n    if (clearSubscopes === void 0) { clearSubscopes = true; }\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var q;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.breakRoleInheritance(copyRoleAssignments, clearSubscopes)];\r\n                case 1:\r\n                    _a.sent();\r\n                    q = this.clone(Web, \"createDefaultAssociatedGroups(userLogin=@u,userLogin2=@v,groupNameSeed=@s)\");\r\n                    q.query.set(\"@u\", \"'\" + escapeQueryStrValue(siteOwner || \"\") + \"'\");\r\n                    q.query.set(\"@v\", \"'\" + escapeQueryStrValue(siteOwner2 || \"\") + \"'\");\r\n                    q.query.set(\"@s\", \"'\" + escapeQueryStrValue(groupNameSeed || \"\") + \"'\");\r\n                    return [2 /*return*/, spPost(q)];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import \"./web\";\r\nexport { SiteGroup, SiteGroups, } from \"./types\";\r\n","import { __decorate, __extends } from \"tslib\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { _SharePointQueryable } from \"../sharepointqueryable\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { tag } from \"../telemetry\";\r\nimport { escapeQueryStrValue } from \"../utils/escapeQueryStrValue\";\r\nvar _SiteScripts = /** @class */ (function (_super) {\r\n    __extends(_SiteScripts, _super);\r\n    function _SiteScripts(baseUrl, methodName) {\r\n        if (methodName === void 0) { methodName = \"\"; }\r\n        var _this = this;\r\n        var url = typeof baseUrl === \"string\" ? baseUrl : baseUrl.toUrl();\r\n        _this = _super.call(this, extractWebUrl(url), \"_api/Microsoft.Sharepoint.Utilities.WebTemplateExtensions.SiteScriptUtility.\" + methodName) || this;\r\n        return _this;\r\n    }\r\n    _SiteScripts.prototype.execute = function (props) {\r\n        return spPost(this, body(props));\r\n    };\r\n    /**\r\n     * Gets a list of information on all existing site scripts.\r\n     */\r\n    _SiteScripts.prototype.getSiteScripts = function () {\r\n        return this.clone(SiteScriptsCloneFactory, \"GetSiteScripts\", true).execute({});\r\n    };\r\n    /**\r\n     * Creates a new site script.\r\n     *\r\n     * @param title The display name of the site script.\r\n     * @param content JSON value that describes the script. For more information, see JSON reference.\r\n     */\r\n    _SiteScripts.prototype.createSiteScript = function (title, description, content) {\r\n        return this.clone(SiteScriptsCloneFactory, \"CreateSiteScript(Title=@title,Description=@desc)?@title='\" + escapeQueryStrValue(title) + \"'&@desc='\" + escapeQueryStrValue(description) + \"'\")\r\n            .execute(content);\r\n    };\r\n    /**\r\n     * Gets information about a specific site script. It also returns the JSON of the script.\r\n     *\r\n     * @param id The ID of the site script to get information about.\r\n     */\r\n    _SiteScripts.prototype.getSiteScriptMetadata = function (id) {\r\n        return this.clone(SiteScriptsCloneFactory, \"GetSiteScriptMetadata\").execute({ id: id });\r\n    };\r\n    /**\r\n     * Deletes a site script.\r\n     *\r\n     * @param id The ID of the site script to delete.\r\n     */\r\n    _SiteScripts.prototype.deleteSiteScript = function (id) {\r\n        return this.clone(SiteScriptsCloneFactory, \"DeleteSiteScript\").execute({ id: id });\r\n    };\r\n    /**\r\n     * Updates a site script with new values. In the REST call, all parameters are optional except the site script Id.\r\n     *\r\n     * @param siteScriptUpdateInfo Object that contains the information to update a site script.\r\n     *                             Make sure you stringify the content object or pass it in the second 'content' parameter\r\n     * @param content (Optional) A new JSON script defining the script actions. For more information, see Site design JSON schema.\r\n     */\r\n    _SiteScripts.prototype.updateSiteScript = function (updateInfo, content) {\r\n        if (content) {\r\n            updateInfo.Content = JSON.stringify(content);\r\n        }\r\n        return this.clone(SiteScriptsCloneFactory, \"UpdateSiteScript\").execute({ updateInfo: updateInfo });\r\n    };\r\n    /**\r\n     * Gets the site script syntax (JSON) for a specific list\r\n     * @param listUrl The absolute url of the list to retrieve site script\r\n     */\r\n    _SiteScripts.prototype.getSiteScriptFromList = function (listUrl) {\r\n        return this.clone(SiteScriptsCloneFactory, \"GetSiteScriptFromList\").execute({ listUrl: listUrl });\r\n    };\r\n    /**\r\n     * Gets the site script syntax (JSON) for a specific web\r\n     * @param webUrl The absolute url of the web to retrieve site script\r\n     * @param extractInfo configuration object to specify what to extract\r\n     */\r\n    _SiteScripts.prototype.getSiteScriptFromWeb = function (webUrl, info) {\r\n        return this.clone(SiteScriptsCloneFactory, \"getSiteScriptFromWeb\").execute({ webUrl: webUrl, info: info });\r\n    };\r\n    /**\r\n     * Executes the indicated site design action on the indicated web.\r\n     *\r\n     * @param webUrl The absolute url of the web to retrieve site script\r\n     * @param extractInfo configuration object to specify what to extract\r\n     */\r\n    _SiteScripts.prototype.executeSiteScriptAction = function (actionDefinition) {\r\n        return this.clone(SiteScriptsCloneFactory, \"executeSiteScriptAction\").execute({ actionDefinition: actionDefinition });\r\n    };\r\n    __decorate([\r\n        tag(\"ss.getSiteScripts\")\r\n    ], _SiteScripts.prototype, \"getSiteScripts\", null);\r\n    __decorate([\r\n        tag(\"ss.createSiteScript\")\r\n    ], _SiteScripts.prototype, \"createSiteScript\", null);\r\n    __decorate([\r\n        tag(\"ss.getSiteScriptMetadata\")\r\n    ], _SiteScripts.prototype, \"getSiteScriptMetadata\", null);\r\n    __decorate([\r\n        tag(\"ss.deleteSiteScript\")\r\n    ], _SiteScripts.prototype, \"deleteSiteScript\", null);\r\n    __decorate([\r\n        tag(\"ss.updateSiteScript\")\r\n    ], _SiteScripts.prototype, \"updateSiteScript\", null);\r\n    __decorate([\r\n        tag(\"ss.getSiteScriptFromList\")\r\n    ], _SiteScripts.prototype, \"getSiteScriptFromList\", null);\r\n    __decorate([\r\n        tag(\"ss.getSiteScriptFromWeb\")\r\n    ], _SiteScripts.prototype, \"getSiteScriptFromWeb\", null);\r\n    __decorate([\r\n        tag(\"ss.executeSiteScriptAction\")\r\n    ], _SiteScripts.prototype, \"executeSiteScriptAction\", null);\r\n    return _SiteScripts;\r\n}(_SharePointQueryable));\r\nexport { _SiteScripts };\r\nexport var SiteScripts = function (baseUrl, methodName) { return new _SiteScripts(baseUrl, methodName); };\r\nvar SiteScriptsCloneFactory = function (baseUrl, methodName) {\r\n    if (methodName === void 0) { methodName = \"\"; }\r\n    return SiteScripts(baseUrl, methodName);\r\n};\r\nexport var SiteScriptActionOutcome;\r\n(function (SiteScriptActionOutcome) {\r\n    /**\r\n     * The stage was deemed to have completed successfully.\r\n     */\r\n    SiteScriptActionOutcome[SiteScriptActionOutcome[\"Success\"] = 0] = \"Success\";\r\n    /**\r\n     * The stage was deemed to have failed to complete successfully (non-blocking, rest of recipe\r\n     * execution should still be able to proceed).\r\n     */\r\n    SiteScriptActionOutcome[SiteScriptActionOutcome[\"Failure\"] = 1] = \"Failure\";\r\n    /**\r\n     * No action was taken for this stage / this stage was skipped.\r\n     */\r\n    SiteScriptActionOutcome[SiteScriptActionOutcome[\"NoOp\"] = 2] = \"NoOp\";\r\n    /**\r\n     * There was an exception but the operation succeeded. This is analagous to the operation completing\r\n     * in a \"yellow\" state.\r\n     */\r\n    SiteScriptActionOutcome[SiteScriptActionOutcome[\"SucceededWithException\"] = 3] = \"SucceededWithException\";\r\n})(SiteScriptActionOutcome || (SiteScriptActionOutcome = {}));\r\n","import { _Web } from \"../webs/types\";\r\nimport { SiteScripts } from \"./types\";\r\n_Web.prototype.getSiteScript = function (extractInfo) {\r\n    return SiteScripts(this.toUrl(), \"\").getSiteScriptFromWeb(undefined, extractInfo);\r\n};\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { combine } from \"@pnp/common\";\r\nimport { _List, List } from \"../lists/types\";\r\nimport { SiteScripts } from \"./types\";\r\nimport \"../folders/list\";\r\nimport { Web } from \"../webs/types\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\n_List.prototype.getSiteScript = function () {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var rootFolder, web, absoluteListUrl;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, this.clone(List).rootFolder.get()];\r\n                case 1:\r\n                    rootFolder = _a.sent();\r\n                    return [4 /*yield*/, Web(extractWebUrl(this.toUrl())).select(\"Url\").get()];\r\n                case 2:\r\n                    web = _a.sent();\r\n                    absoluteListUrl = combine(web.Url, \"Lists\", rootFolder.Name);\r\n                    return [2 /*return*/, SiteScripts(this, \"\").getSiteScriptFromList(absoluteListUrl)];\r\n            }\r\n        });\r\n    });\r\n};\r\n","import \"./web\";\r\nimport \"./list\";\r\nimport { SPRest } from \"../rest\";\r\nimport { SiteScripts } from \"./types\";\r\nexport { SiteScripts, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"siteScripts\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return SiteScripts(this._baseUrl);\r\n    },\r\n});\r\n","import { __awaiter, __generator } from \"tslib\";\r\nimport { addProp, body } from \"@pnp/odata\";\r\nimport { _Web, Web } from \"../webs/types\";\r\nimport { SiteUsers, SiteUser } from \"./types\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { spPost } from \"../operations\";\r\naddProp(_Web, \"siteUsers\", SiteUsers);\r\naddProp(_Web, \"currentUser\", SiteUser, \"currentuser\");\r\n_Web.prototype.ensureUser = function (logonName) {\r\n    return __awaiter(this, void 0, void 0, function () {\r\n        var data;\r\n        return __generator(this, function (_a) {\r\n            switch (_a.label) {\r\n                case 0: return [4 /*yield*/, spPost(this.clone(Web, \"ensureuser\"), body({ logonName: logonName }))];\r\n                case 1:\r\n                    data = _a.sent();\r\n                    return [2 /*return*/, {\r\n                            data: data,\r\n                            user: SiteUser(odataUrlFrom(data)),\r\n                        }];\r\n            }\r\n        });\r\n    });\r\n};\r\n_Web.prototype.getUserById = function (id) {\r\n    return SiteUser(this, \"getUserById(\" + id + \")\");\r\n};\r\n","import \"./web\";\r\nexport { SiteUser, SiteUsers, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { hOP } from \"@pnp/common\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Social = /** @class */ (function (_super) {\r\n    __extends(_Social, _super);\r\n    function _Social() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Social.prototype, \"my\", {\r\n        get: function () {\r\n            return MySocial(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    _Social.prototype.getFollowedSitesUri = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(SocialCloneFactory, \"FollowedSitesUri\").get()];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, r.FollowedSitesUri || r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Social.prototype.getFollowedDocumentsUri = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(SocialCloneFactory, \"FollowedDocumentsUri\").get()];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, r.FollowedDocumentsUri || r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Social.prototype.follow = function (actorInfo) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(SocialCloneFactory, \"follow\"), this.createSocialActorInfoRequestBody(actorInfo))];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Social.prototype.isFollowed = function (actorInfo) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(SocialCloneFactory, \"isfollowed\"), this.createSocialActorInfoRequestBody(actorInfo))];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Social.prototype.stopFollowing = function (actorInfo) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, spPost(this.clone(SocialCloneFactory, \"stopfollowing\"), this.createSocialActorInfoRequestBody(actorInfo))];\r\n                    case 1: return [2 /*return*/, _a.sent()];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _Social.prototype.createSocialActorInfoRequestBody = function (actorInfo) {\r\n        return body({\r\n            \"actor\": Object.assign(metadata(\"SP.Social.SocialActorInfo\"), {\r\n                Id: null,\r\n            }, actorInfo),\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"soc.getFollowedSitesUri\")\r\n    ], _Social.prototype, \"getFollowedSitesUri\", null);\r\n    __decorate([\r\n        tag(\"soc.getFollowedDocumentsUri\")\r\n    ], _Social.prototype, \"getFollowedDocumentsUri\", null);\r\n    __decorate([\r\n        tag(\"soc.follow\")\r\n    ], _Social.prototype, \"follow\", null);\r\n    __decorate([\r\n        tag(\"soc.isFollowed\")\r\n    ], _Social.prototype, \"isFollowed\", null);\r\n    __decorate([\r\n        tag(\"soc.stopFollowing\")\r\n    ], _Social.prototype, \"stopFollowing\", null);\r\n    _Social = __decorate([\r\n        defaultPath(\"_api/social.following\")\r\n    ], _Social);\r\n    return _Social;\r\n}(_SharePointQueryableInstance));\r\nexport { _Social };\r\n/**\r\n * Get a new Social instance for the particular Url\r\n */\r\nexport var Social = function (baseUrl) { return new _Social(baseUrl); };\r\nvar SocialCloneFactory = function (baseUrl, paths) { return new _Social(baseUrl, paths); };\r\n/**\r\n * Current user's Social instance\r\n */\r\nvar _MySocial = /** @class */ (function (_super) {\r\n    __extends(_MySocial, _super);\r\n    function _MySocial() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    _MySocial.prototype.followed = function (types) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(MySocialCloneFactory, \"followed(types=\" + types + \")\")()];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, hOP(r, \"Followed\") ? r.Followed.results : r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _MySocial.prototype.followedCount = function (types) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(MySocialCloneFactory, \"followedcount(types=\" + types + \")\")()];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, r.FollowedCount || r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _MySocial.prototype.followers = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(MySocialCloneFactory, \"followers\")()];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, hOP(r, \"Followers\") ? r.Followers.results : r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    _MySocial.prototype.suggestions = function () {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var r;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0: return [4 /*yield*/, this.clone(MySocialCloneFactory, \"suggestions\")()];\r\n                    case 1:\r\n                        r = _a.sent();\r\n                        return [2 /*return*/, hOP(r, \"Suggestions\") ? r.Suggestions.results : r];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"msoc.followed\")\r\n    ], _MySocial.prototype, \"followed\", null);\r\n    __decorate([\r\n        tag(\"msoc.followedCount\")\r\n    ], _MySocial.prototype, \"followedCount\", null);\r\n    __decorate([\r\n        tag(\"msoc.followers\")\r\n    ], _MySocial.prototype, \"followers\", null);\r\n    __decorate([\r\n        tag(\"msoc.suggestions\")\r\n    ], _MySocial.prototype, \"suggestions\", null);\r\n    _MySocial = __decorate([\r\n        defaultPath(\"my\")\r\n    ], _MySocial);\r\n    return _MySocial;\r\n}(_SharePointQueryableInstance));\r\nexport { _MySocial };\r\n/**\r\n * Invokable factory for IMySocial instances\r\n */\r\nexport var MySocial = spInvokableFactory(_MySocial);\r\nvar MySocialCloneFactory = function (baseUrl, path) { return MySocial(baseUrl, path); };\r\n/**\r\n * Social actor type\r\n *\r\n */\r\nexport var SocialActorType;\r\n(function (SocialActorType) {\r\n    SocialActorType[SocialActorType[\"User\"] = 0] = \"User\";\r\n    SocialActorType[SocialActorType[\"Document\"] = 1] = \"Document\";\r\n    SocialActorType[SocialActorType[\"Site\"] = 2] = \"Site\";\r\n    SocialActorType[SocialActorType[\"Tag\"] = 3] = \"Tag\";\r\n})(SocialActorType || (SocialActorType = {}));\r\n/**\r\n * Social actor type\r\n *\r\n */\r\n/* tslint:disable:no-bitwise */\r\nexport var SocialActorTypes;\r\n(function (SocialActorTypes) {\r\n    SocialActorTypes[SocialActorTypes[\"None\"] = 0] = \"None\";\r\n    SocialActorTypes[SocialActorTypes[\"User\"] = 1] = \"User\";\r\n    SocialActorTypes[SocialActorTypes[\"Document\"] = 2] = \"Document\";\r\n    SocialActorTypes[SocialActorTypes[\"Site\"] = 4] = \"Site\";\r\n    SocialActorTypes[SocialActorTypes[\"Tag\"] = 8] = \"Tag\";\r\n    /**\r\n     * The set excludes documents and sites that do not have feeds.\r\n     */\r\n    SocialActorTypes[SocialActorTypes[\"ExcludeContentWithoutFeeds\"] = 268435456] = \"ExcludeContentWithoutFeeds\";\r\n    /**\r\n     * The set includes group sites\r\n     */\r\n    SocialActorTypes[SocialActorTypes[\"IncludeGroupsSites\"] = 536870912] = \"IncludeGroupsSites\";\r\n    /**\r\n     * The set includes only items created within the last 24 hours\r\n     */\r\n    SocialActorTypes[SocialActorTypes[\"WithinLast24Hours\"] = 1073741824] = \"WithinLast24Hours\";\r\n})(SocialActorTypes || (SocialActorTypes = {}));\r\n/* tslint:enable */\r\n/**\r\n * Result from following\r\n *\r\n */\r\nexport var SocialFollowResult;\r\n(function (SocialFollowResult) {\r\n    SocialFollowResult[SocialFollowResult[\"Ok\"] = 0] = \"Ok\";\r\n    SocialFollowResult[SocialFollowResult[\"AlreadyFollowing\"] = 1] = \"AlreadyFollowing\";\r\n    SocialFollowResult[SocialFollowResult[\"LimitReached\"] = 2] = \"LimitReached\";\r\n    SocialFollowResult[SocialFollowResult[\"InternalError\"] = 3] = \"InternalError\";\r\n})(SocialFollowResult || (SocialFollowResult = {}));\r\n/**\r\n * Specifies an exception or status code.\r\n */\r\nexport var SocialStatusCode;\r\n(function (SocialStatusCode) {\r\n    /**\r\n     * The operation completed successfully\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"OK\"] = 0] = \"OK\";\r\n    /**\r\n     * The request is invalid.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"InvalidRequest\"] = 1] = \"InvalidRequest\";\r\n    /**\r\n     *  The current user is not authorized to perform the operation.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"AccessDenied\"] = 2] = \"AccessDenied\";\r\n    /**\r\n     * The target of the operation was not found.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"ItemNotFound\"] = 3] = \"ItemNotFound\";\r\n    /**\r\n     * The operation is invalid for the target's current state.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"InvalidOperation\"] = 4] = \"InvalidOperation\";\r\n    /**\r\n     * The operation completed without modifying the target.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"ItemNotModified\"] = 5] = \"ItemNotModified\";\r\n    /**\r\n     * The operation failed because an internal error occurred.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"InternalError\"] = 6] = \"InternalError\";\r\n    /**\r\n     * The operation failed because the server could not access the distributed cache.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"CacheReadError\"] = 7] = \"CacheReadError\";\r\n    /**\r\n     * The operation succeeded but the server could not update the distributed cache.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"CacheUpdateError\"] = 8] = \"CacheUpdateError\";\r\n    /**\r\n     * No personal site exists for the current user, and no further information is available.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"PersonalSiteNotFound\"] = 9] = \"PersonalSiteNotFound\";\r\n    /**\r\n     * No personal site exists for the current user, and a previous attempt to create one failed.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"FailedToCreatePersonalSite\"] = 10] = \"FailedToCreatePersonalSite\";\r\n    /**\r\n     * No personal site exists for the current user, and a previous attempt to create one was not authorized.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"NotAuthorizedToCreatePersonalSite\"] = 11] = \"NotAuthorizedToCreatePersonalSite\";\r\n    /**\r\n     * No personal site exists for the current user, and no attempt should be made to create one.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"CannotCreatePersonalSite\"] = 12] = \"CannotCreatePersonalSite\";\r\n    /**\r\n     * The operation was rejected because an internal limit had been reached.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"LimitReached\"] = 13] = \"LimitReached\";\r\n    /**\r\n     * The operation failed because an error occurred during the processing of the specified attachment.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"AttachmentError\"] = 14] = \"AttachmentError\";\r\n    /**\r\n     * The operation succeeded with recoverable errors; the returned data is incomplete.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"PartialData\"] = 15] = \"PartialData\";\r\n    /**\r\n     * A required SharePoint feature is not enabled.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"FeatureDisabled\"] = 16] = \"FeatureDisabled\";\r\n    /**\r\n     * The site's storage quota has been exceeded.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"StorageQuotaExceeded\"] = 17] = \"StorageQuotaExceeded\";\r\n    /**\r\n     * The operation failed because the server could not access the database.\r\n     */\r\n    SocialStatusCode[SocialStatusCode[\"DatabaseError\"] = 18] = \"DatabaseError\";\r\n})(SocialStatusCode || (SocialStatusCode = {}));\r\n","import { Social } from \"./types\";\r\nimport { SPRest } from \"../rest\";\r\nexport { MySocial, Social, SocialActorType, SocialActorTypes, SocialFollowResult, SocialStatusCode, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"social\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Social(this._baseUrl);\r\n    },\r\n});\r\n","import { __awaiter, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryable, spInvokableFactory } from \"../sharepointqueryable\";\r\nimport { assign } from \"@pnp/common\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { odataUrlFrom } from \"../odata\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { File } from \"../files/types\";\r\nimport { extractWebUrl } from \"../utils/extractweburl\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nimport { objectToSPKeyValueCollection } from \"../utils/objectToSPKeyValueCollection\";\r\nvar _Utilities = /** @class */ (function (_super) {\r\n    __extends(_Utilities, _super);\r\n    function _Utilities(baseUrl, methodName) {\r\n        var _this = this;\r\n        var url = typeof baseUrl === \"string\" ? baseUrl : baseUrl.toUrl();\r\n        _this = _super.call(this, extractWebUrl(url), \"_api/SP.Utilities.Utility.\" + methodName) || this;\r\n        return _this;\r\n    }\r\n    _Utilities.prototype.excute = function (props) {\r\n        return spPost(this, body(props));\r\n    };\r\n    _Utilities.prototype.sendEmail = function (props) {\r\n        var params = {\r\n            properties: assign(metadata(\"SP.Utilities.EmailProperties\"), {\r\n                Body: props.Body,\r\n                From: props.From,\r\n                Subject: props.Subject,\r\n            }),\r\n        };\r\n        if (props.To && props.To.length > 0) {\r\n            params.properties = assign(params.properties, {\r\n                To: { results: props.To },\r\n            });\r\n        }\r\n        if (props.CC && props.CC.length > 0) {\r\n            params.properties = assign(params.properties, {\r\n                CC: { results: props.CC },\r\n            });\r\n        }\r\n        if (props.BCC && props.BCC.length > 0) {\r\n            params.properties = assign(params.properties, {\r\n                BCC: { results: props.BCC },\r\n            });\r\n        }\r\n        if (props.AdditionalHeaders) {\r\n            params.properties = assign(params.properties, {\r\n                AdditionalHeaders: objectToSPKeyValueCollection(props.AdditionalHeaders),\r\n            });\r\n        }\r\n        return tag.configure(this.clone(UtilitiesCloneFactory, \"SendEmail\", true), \"u.sendEmail\").excute(params);\r\n    };\r\n    _Utilities.prototype.getCurrentUserEmailAddresses = function () {\r\n        return tag.configure(this.clone(UtilitiesCloneFactory, \"GetCurrentUserEmailAddresses\", true), \"u.getCurrentUserEmailAddresses\").excute({});\r\n    };\r\n    _Utilities.prototype.resolvePrincipal = function (input, scopes, sources, inputIsEmailOnly, addToUserInfoList, matchUserInfoList) {\r\n        if (matchUserInfoList === void 0) { matchUserInfoList = false; }\r\n        var params = {\r\n            addToUserInfoList: addToUserInfoList,\r\n            input: input,\r\n            inputIsEmailOnly: inputIsEmailOnly,\r\n            matchUserInfoList: matchUserInfoList,\r\n            scopes: scopes,\r\n            sources: sources,\r\n        };\r\n        var clone = this.clone(UtilitiesCloneFactory, \"ResolvePrincipalInCurrentContext\", true);\r\n        return tag.configure(clone, \"u.ResolvePrincipalInCurrentContext\").excute(params);\r\n    };\r\n    _Utilities.prototype.searchPrincipals = function (input, scopes, sources, groupName, maxCount) {\r\n        var params = {\r\n            groupName: groupName,\r\n            input: input,\r\n            maxCount: maxCount,\r\n            scopes: scopes,\r\n            sources: sources,\r\n        };\r\n        var clone = this.clone(UtilitiesCloneFactory, \"SearchPrincipalsUsingContextWeb\", true);\r\n        return tag.configure(clone, \"u.SearchPrincipalsUsingContextWeb\").excute(params);\r\n    };\r\n    _Utilities.prototype.createEmailBodyForInvitation = function (pageAddress) {\r\n        var params = {\r\n            pageAddress: pageAddress,\r\n        };\r\n        var clone = this.clone(UtilitiesCloneFactory, \"CreateEmailBodyForInvitation\", true);\r\n        return tag.configure(clone, \"u.CreateEmailBodyForInvitation\").excute(params);\r\n    };\r\n    _Utilities.prototype.expandGroupsToPrincipals = function (inputs, maxCount) {\r\n        if (maxCount === void 0) { maxCount = 30; }\r\n        var params = {\r\n            inputs: inputs,\r\n            maxCount: maxCount,\r\n        };\r\n        var clone = this.clone(UtilitiesCloneFactory, \"ExpandGroupsToPrincipals\", true);\r\n        return tag.configure(clone, \"u.ExpandGroupsToPrincipals\").excute(params);\r\n    };\r\n    _Utilities.prototype.createWikiPage = function (info) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var clone, newPage;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        clone = this.clone(UtilitiesCloneFactory, \"CreateWikiPageInContextWeb\", true);\r\n                        return [4 /*yield*/, tag.configure(clone, \"u.CreateWikiPageInContextWeb\").excute({ parameters: info })];\r\n                    case 1:\r\n                        newPage = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: newPage,\r\n                                file: File(odataUrlFrom(newPage)),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    return _Utilities;\r\n}(_SharePointQueryable));\r\nexport { _Utilities };\r\nexport var Utilities = spInvokableFactory(_Utilities);\r\nvar UtilitiesCloneFactory = function (baseUrl, path) { return Utilities(baseUrl, path); };\r\n","import { SPRest } from \"../rest\";\r\nimport { Utilities } from \"./types\";\r\nexport { Utilities, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"utility\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return Utilities(this._baseUrl, \"\");\r\n    },\r\n});\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, } from \"../sharepointqueryable\";\r\nimport { body, headers } from \"@pnp/odata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost, spDelete, spPatch } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Subscriptions = /** @class */ (function (_super) {\r\n    __extends(_Subscriptions, _super);\r\n    function _Subscriptions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n    * Returns all the webhook subscriptions or the specified webhook subscription\r\n    *\r\n    * @param subscriptionId The id of a specific webhook subscription to retrieve, omit to retrieve all the webhook subscriptions\r\n    */\r\n    _Subscriptions.prototype.getById = function (subscriptionId) {\r\n        return tag.configure(Subscription(this).concat(\"('\" + subscriptionId + \"')\"), \"subs.getById\");\r\n    };\r\n    /**\r\n     * Creates a new webhook subscription\r\n     *\r\n     * @param notificationUrl The url to receive the notifications\r\n     * @param expirationDate The date and time to expire the subscription in the form YYYY-MM-ddTHH:mm:ss+00:00 (maximum of 6 months)\r\n     * @param clientState A client specific string (optional)\r\n     */\r\n    _Subscriptions.prototype.add = function (notificationUrl, expirationDate, clientState) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = {\r\n                            \"expirationDateTime\": expirationDate,\r\n                            \"notificationUrl\": notificationUrl,\r\n                            \"resource\": this.toUrl(),\r\n                        };\r\n                        if (clientState) {\r\n                            postBody.clientState = clientState;\r\n                        }\r\n                        return [4 /*yield*/, spPost(this, body(postBody, headers({ \"Content-Type\": \"application/json\" })))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { data: data, subscription: this.getById(data.id) }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"subs.add\")\r\n    ], _Subscriptions.prototype, \"add\", null);\r\n    _Subscriptions = __decorate([\r\n        defaultPath(\"subscriptions\")\r\n    ], _Subscriptions);\r\n    return _Subscriptions;\r\n}(_SharePointQueryableCollection));\r\nexport { _Subscriptions };\r\nexport var Subscriptions = spInvokableFactory(_Subscriptions);\r\nvar _Subscription = /** @class */ (function (_super) {\r\n    __extends(_Subscription, _super);\r\n    function _Subscription() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Renews this webhook subscription\r\n     *\r\n     * @param expirationDate The date and time to expire the subscription in the form YYYY-MM-ddTHH:mm:ss+00:00 (maximum of 6 months, optional)\r\n     * @param notificationUrl The url to receive the notifications (optional)\r\n     * @param clientState A client specific string (optional)\r\n     */\r\n    _Subscription.prototype.update = function (expirationDate, notificationUrl, clientState) {\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = {};\r\n                        if (expirationDate) {\r\n                            postBody.expirationDateTime = expirationDate;\r\n                        }\r\n                        if (notificationUrl) {\r\n                            postBody.notificationUrl = notificationUrl;\r\n                        }\r\n                        if (clientState) {\r\n                            postBody.clientState = clientState;\r\n                        }\r\n                        return [4 /*yield*/, spPatch(this, body(postBody, headers({ \"Content-Type\": \"application/json\" })))];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, { data: data, subscription: this }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    /**\r\n     * Removes this webhook subscription\r\n     *\r\n     */\r\n    _Subscription.prototype.delete = function () {\r\n        return spDelete(this);\r\n    };\r\n    __decorate([\r\n        tag(\"sub.update\")\r\n    ], _Subscription.prototype, \"update\", null);\r\n    __decorate([\r\n        tag(\"sub.delete\")\r\n    ], _Subscription.prototype, \"delete\", null);\r\n    return _Subscription;\r\n}(_SharePointQueryableInstance));\r\nexport { _Subscription };\r\nexport var Subscription = spInvokableFactory(_Subscription);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Subscriptions } from \"./types\";\r\naddProp(_List, \"subscriptions\", Subscriptions);\r\n","import \"./list\";\r\nexport { Subscription, Subscriptions, } from \"./types\";\r\n","import { __decorate, __extends } from \"tslib\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { _SharePointQueryableCollection, spInvokableFactory, _SharePointQueryableInstance } from \"../sharepointqueryable\";\r\n// TODO::\r\n// import { tag } from \"../telemetry\";\r\n/**\r\n * Describes a collection of Form objects\r\n *\r\n */\r\nvar _TermStore = /** @class */ (function (_super) {\r\n    __extends(_TermStore, _super);\r\n    function _TermStore() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_TermStore.prototype, \"termGroups\", {\r\n        /**\r\n         * Gets the term groups associated with this tenant\r\n         */\r\n        get: function () {\r\n            return TermGroups(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_TermStore.prototype, \"groups\", {\r\n        /**\r\n         * Gets the term groups associated with this tenant\r\n         */\r\n        get: function () {\r\n            return TermGroups(this, \"groups\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    _TermStore = __decorate([\r\n        defaultPath(\"_api/v2.1/termstore\")\r\n    ], _TermStore);\r\n    return _TermStore;\r\n}(_SharePointQueryableInstance));\r\nexport { _TermStore };\r\nexport var TermStore = spInvokableFactory(_TermStore);\r\nvar _TermGroups = /** @class */ (function (_super) {\r\n    __extends(_TermGroups, _super);\r\n    function _TermGroups() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a term group by id\r\n     *\r\n     * @param id Id of the term group to access\r\n     */\r\n    _TermGroups.prototype.getById = function (id) {\r\n        return TermGroup(this, id);\r\n    };\r\n    _TermGroups = __decorate([\r\n        defaultPath(\"termgroups\")\r\n    ], _TermGroups);\r\n    return _TermGroups;\r\n}(_SharePointQueryableCollection));\r\nexport { _TermGroups };\r\nexport var TermGroups = spInvokableFactory(_TermGroups);\r\nvar _TermGroup = /** @class */ (function (_super) {\r\n    __extends(_TermGroup, _super);\r\n    function _TermGroup() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_TermGroup.prototype, \"termSets\", {\r\n        /**\r\n         * Gets the term sets associated with this tenant\r\n         */\r\n        get: function () {\r\n            return TermSets(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_TermGroup.prototype, \"sets\", {\r\n        /**\r\n         * Gets the term groups associated with this tenant\r\n         */\r\n        get: function () {\r\n            return TermSets(this, \"sets\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _TermGroup;\r\n}(_SharePointQueryableInstance));\r\nexport { _TermGroup };\r\nexport var TermGroup = spInvokableFactory(_TermGroup);\r\nvar _TermSets = /** @class */ (function (_super) {\r\n    __extends(_TermSets, _super);\r\n    function _TermSets() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a term group by id\r\n     *\r\n     * @param id Id of the term group to access\r\n     */\r\n    _TermSets.prototype.getById = function (id) {\r\n        return TermSet(this, id);\r\n    };\r\n    _TermSets = __decorate([\r\n        defaultPath(\"termsets\")\r\n    ], _TermSets);\r\n    return _TermSets;\r\n}(_SharePointQueryableCollection));\r\nexport { _TermSets };\r\nexport var TermSets = spInvokableFactory(_TermSets);\r\nvar _TermSet = /** @class */ (function (_super) {\r\n    __extends(_TermSet, _super);\r\n    function _TermSet() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_TermSet.prototype, \"terms\", {\r\n        get: function () {\r\n            return Terms(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_TermSet.prototype, \"parentGroup\", {\r\n        get: function () {\r\n            return TermGroup(this, \"parentGroup\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_TermSet.prototype, \"children\", {\r\n        get: function () {\r\n            return Terms(this, \"children\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_TermSet.prototype, \"relations\", {\r\n        get: function () {\r\n            return Relations(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _TermSet;\r\n}(_SharePointQueryableInstance));\r\nexport { _TermSet };\r\nexport var TermSet = spInvokableFactory(_TermSet);\r\nvar _Terms = /** @class */ (function (_super) {\r\n    __extends(_Terms, _super);\r\n    function _Terms() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a term group by id\r\n     *\r\n     * @param id Id of the term group to access\r\n     */\r\n    _Terms.prototype.getById = function (id) {\r\n        return Term(this, id);\r\n    };\r\n    _Terms = __decorate([\r\n        defaultPath(\"terms\")\r\n    ], _Terms);\r\n    return _Terms;\r\n}(_SharePointQueryableCollection));\r\nexport { _Terms };\r\nexport var Terms = spInvokableFactory(_Terms);\r\nvar _Term = /** @class */ (function (_super) {\r\n    __extends(_Term, _super);\r\n    function _Term() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Term.prototype, \"parent\", {\r\n        get: function () {\r\n            return Term(this, \"parent\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Term.prototype, \"children\", {\r\n        get: function () {\r\n            return Terms(this, \"children\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Term.prototype, \"relations\", {\r\n        get: function () {\r\n            return Relations(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Term.prototype, \"set\", {\r\n        get: function () {\r\n            return TermSet(this, \"set\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _Term;\r\n}(_SharePointQueryableInstance));\r\nexport { _Term };\r\nexport var Term = spInvokableFactory(_Term);\r\nvar _Relations = /** @class */ (function (_super) {\r\n    __extends(_Relations, _super);\r\n    function _Relations() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a term group by id\r\n     *\r\n     * @param id Id of the term group to access\r\n     */\r\n    _Relations.prototype.getById = function (id) {\r\n        return Relation(this, id);\r\n    };\r\n    _Relations = __decorate([\r\n        defaultPath(\"relations\")\r\n    ], _Relations);\r\n    return _Relations;\r\n}(_SharePointQueryableCollection));\r\nexport { _Relations };\r\nexport var Relations = spInvokableFactory(_Relations);\r\nvar _Relation = /** @class */ (function (_super) {\r\n    __extends(_Relation, _super);\r\n    function _Relation() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_Relation.prototype, \"fromTerm\", {\r\n        get: function () {\r\n            return Term(this, \"fromTerm\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Relation.prototype, \"toTerm\", {\r\n        get: function () {\r\n            return Term(this, \"toTerm\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_Relation.prototype, \"set\", {\r\n        get: function () {\r\n            return TermSet(this, \"set\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return _Relation;\r\n}(_SharePointQueryableInstance));\r\nexport { _Relation };\r\nexport var Relation = spInvokableFactory(_Relation);\r\n","import { SPRest } from \"../rest\";\r\nimport { TermStore } from \"./types\";\r\nexport { TermStore, TermGroup, TermGroups, TermSets, TermSet, Terms, Relation, Relations, Term, } from \"./types\";\r\nReflect.defineProperty(SPRest.prototype, \"termStore\", {\r\n    configurable: true,\r\n    enumerable: true,\r\n    get: function () {\r\n        return TermStore(this._baseUrl).configure(this._options);\r\n    },\r\n});\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { UserCustomActions } from \"./types\";\r\naddProp(_List, \"userCustomActions\", UserCustomActions);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Web } from \"../webs/types\";\r\nimport { UserCustomActions } from \"./types\";\r\naddProp(_Web, \"userCustomActions\", UserCustomActions);\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _Site } from \"../sites/types\";\r\nimport { UserCustomActions } from \"./types\";\r\naddProp(_Site, \"userCustomActions\", UserCustomActions);\r\n","import \"./list\";\r\nimport \"./web\";\r\nimport \"./site\";\r\nexport { UserCustomAction, UserCustomActions, UserCustomActionRegistrationType, UserCustomActionScope, } from \"./types\";\r\n","import { __awaiter, __decorate, __extends, __generator } from \"tslib\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, spInvokableFactory, deleteable, } from \"../sharepointqueryable\";\r\nimport { metadata } from \"../utils/metadata\";\r\nimport { defaultPath } from \"../decorators\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _Views = /** @class */ (function (_super) {\r\n    __extends(_Views, _super);\r\n    function _Views() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a view by guid id\r\n     *\r\n     * @param id The GUID id of the view\r\n     */\r\n    _Views.prototype.getById = function (id) {\r\n        return View(this).concat(\"('\" + id + \"')\");\r\n    };\r\n    /**\r\n     * Gets a view by title (case-sensitive)\r\n     *\r\n     * @param title The case-sensitive title of the view\r\n     */\r\n    _Views.prototype.getByTitle = function (title) {\r\n        return View(this, \"getByTitle('\" + title + \"')\");\r\n    };\r\n    /**\r\n     * Adds a new view to the collection\r\n     *\r\n     * @param title The new views's title\r\n     * @param personalView True if this is a personal view, otherwise false, default = false\r\n     * @param additionalSettings Will be passed as part of the view creation body\r\n     */\r\n    _Views.prototype.add = function (title, personalView, additionalSettings) {\r\n        if (personalView === void 0) { personalView = false; }\r\n        if (additionalSettings === void 0) { additionalSettings = {}; }\r\n        return __awaiter(this, void 0, void 0, function () {\r\n            var postBody, data;\r\n            return __generator(this, function (_a) {\r\n                switch (_a.label) {\r\n                    case 0:\r\n                        postBody = body(Object.assign(metadata(\"SP.View\"), {\r\n                            \"PersonalView\": personalView,\r\n                            \"Title\": title,\r\n                        }, additionalSettings));\r\n                        return [4 /*yield*/, spPost(this.clone(Views, null), postBody)];\r\n                    case 1:\r\n                        data = _a.sent();\r\n                        return [2 /*return*/, {\r\n                                data: data,\r\n                                view: this.getById(data.Id),\r\n                            }];\r\n                }\r\n            });\r\n        });\r\n    };\r\n    __decorate([\r\n        tag(\"vs.add\")\r\n    ], _Views.prototype, \"add\", null);\r\n    _Views = __decorate([\r\n        defaultPath(\"views\")\r\n    ], _Views);\r\n    return _Views;\r\n}(_SharePointQueryableCollection));\r\nexport { _Views };\r\nexport var Views = spInvokableFactory(_Views);\r\nvar _View = /** @class */ (function (_super) {\r\n    __extends(_View, _super);\r\n    function _View() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.delete = deleteable(\"vw\");\r\n        /**\r\n         * Updates this view intance with the supplied properties\r\n         *\r\n         * @param properties A plain object hash of values to update for the view\r\n         */\r\n        _this.update = _this._update(\"SP.View\", function (data) { return ({ data: data, view: _this }); });\r\n        return _this;\r\n    }\r\n    Object.defineProperty(_View.prototype, \"fields\", {\r\n        get: function () {\r\n            return ViewFields(this);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Returns the list view as HTML.\r\n     *\r\n     */\r\n    _View.prototype.renderAsHtml = function () {\r\n        return this.clone(View, \"renderashtml\")();\r\n    };\r\n    /**\r\n     * Sets the view schema\r\n     *\r\n     * @param viewXml The view XML to set\r\n     */\r\n    _View.prototype.setViewXml = function (viewXml) {\r\n        return spPost(this.clone(View, \"SetViewXml\"), body({ viewXml: viewXml }));\r\n    };\r\n    __decorate([\r\n        tag(\"v.renderAsHtml\")\r\n    ], _View.prototype, \"renderAsHtml\", null);\r\n    __decorate([\r\n        tag(\"v.setViewXml\")\r\n    ], _View.prototype, \"setViewXml\", null);\r\n    return _View;\r\n}(_SharePointQueryableInstance));\r\nexport { _View };\r\nexport var View = spInvokableFactory(_View);\r\nvar _ViewFields = /** @class */ (function (_super) {\r\n    __extends(_ViewFields, _super);\r\n    function _ViewFields() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a value that specifies the XML schema that represents the collection.\r\n     */\r\n    _ViewFields.prototype.getSchemaXml = function () {\r\n        return this.clone(ViewFields, \"schemaxml\")();\r\n    };\r\n    /**\r\n     * Adds the field with the specified field internal name or display name to the collection.\r\n     *\r\n     * @param fieldTitleOrInternalName The case-sensitive internal name or display name of the field to add.\r\n     */\r\n    _ViewFields.prototype.add = function (fieldTitleOrInternalName) {\r\n        return spPost(this.clone(ViewFields, \"addviewfield('\" + fieldTitleOrInternalName + \"')\"));\r\n    };\r\n    /**\r\n     * Moves the field with the specified field internal name to the specified position in the collection.\r\n     *\r\n     * @param field The case-sensitive internal name of the field to move.\r\n     * @param index The zero-based index of the new position for the field.\r\n     */\r\n    _ViewFields.prototype.move = function (field, index) {\r\n        return spPost(this.clone(ViewFields, \"moveviewfieldto\"), body({ field: field, index: index }));\r\n    };\r\n    /**\r\n     * Removes all the fields from the collection.\r\n     */\r\n    _ViewFields.prototype.removeAll = function () {\r\n        return spPost(this.clone(ViewFields, \"removeallviewfields\"));\r\n    };\r\n    /**\r\n     * Removes the field with the specified field internal name from the collection.\r\n     *\r\n     * @param fieldInternalName The case-sensitive internal name of the field to remove from the view.\r\n     */\r\n    _ViewFields.prototype.remove = function (fieldInternalName) {\r\n        return spPost(this.clone(ViewFields, \"removeviewfield('\" + fieldInternalName + \"')\"));\r\n    };\r\n    __decorate([\r\n        tag(\"vfs.getSchemaXml\")\r\n    ], _ViewFields.prototype, \"getSchemaXml\", null);\r\n    __decorate([\r\n        tag(\"vfs.add\")\r\n    ], _ViewFields.prototype, \"add\", null);\r\n    __decorate([\r\n        tag(\"vfs.move\")\r\n    ], _ViewFields.prototype, \"move\", null);\r\n    __decorate([\r\n        tag(\"vfs.removeAll\")\r\n    ], _ViewFields.prototype, \"removeAll\", null);\r\n    __decorate([\r\n        tag(\"vfs.remove\")\r\n    ], _ViewFields.prototype, \"remove\", null);\r\n    _ViewFields = __decorate([\r\n        defaultPath(\"viewfields\")\r\n    ], _ViewFields);\r\n    return _ViewFields;\r\n}(_SharePointQueryableCollection));\r\nexport { _ViewFields };\r\nexport var ViewFields = spInvokableFactory(_ViewFields);\r\nexport var ViewScope;\r\n(function (ViewScope) {\r\n    ViewScope[ViewScope[\"DefaultValue\"] = 0] = \"DefaultValue\";\r\n    ViewScope[ViewScope[\"Recursive\"] = 1] = \"Recursive\";\r\n    ViewScope[ViewScope[\"RecursiveAll\"] = 2] = \"RecursiveAll\";\r\n    ViewScope[ViewScope[\"FilesOnly\"] = 3] = \"FilesOnly\";\r\n})(ViewScope || (ViewScope = {}));\r\n","import { addProp } from \"@pnp/odata\";\r\nimport { _List } from \"../lists/types\";\r\nimport { Views, View } from \"./types\";\r\naddProp(_List, \"views\", Views);\r\naddProp(_List, \"defaultView\", View, \"DefaultView\");\r\n_List.prototype.getView = function (viewId) {\r\n    return View(this, \"getView('\" + viewId + \"')\");\r\n};\r\n","import \"./list\";\r\nexport { View, ViewFields, Views, ViewScope, } from \"./types\";\r\n","import { __extends } from \"tslib\";\r\nimport { _SharePointQueryableInstance, _SharePointQueryableCollection, _SharePointQueryable, spInvokableFactory, SharePointQueryable, SharePointQueryableInstance, } from \"../sharepointqueryable\";\r\nimport { body } from \"@pnp/odata\";\r\nimport { spPost } from \"../operations\";\r\nimport { tag } from \"../telemetry\";\r\nvar _LimitedWebPartManager = /** @class */ (function (_super) {\r\n    __extends(_LimitedWebPartManager, _super);\r\n    function _LimitedWebPartManager() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_LimitedWebPartManager.prototype, \"scope\", {\r\n        get: function () {\r\n            return tag.configure(SharePointQueryable(this, \"Scope\"), \"f.scope\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(_LimitedWebPartManager.prototype, \"webparts\", {\r\n        get: function () {\r\n            return WebPartDefinitions(this, \"webparts\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    _LimitedWebPartManager.prototype.export = function (id) {\r\n        return spPost(this.clone(LimitedWebPartManagerCloneFactory, \"ExportWebPart\"), body({ webPartId: id }));\r\n    };\r\n    _LimitedWebPartManager.prototype.import = function (xml) {\r\n        return spPost(this.clone(LimitedWebPartManagerCloneFactory, \"ImportWebPart\"), body({ webPartXml: xml }));\r\n    };\r\n    return _LimitedWebPartManager;\r\n}(_SharePointQueryable));\r\nexport { _LimitedWebPartManager };\r\nexport var LimitedWebPartManager = function (baseUrl, path) { return new _LimitedWebPartManager(baseUrl, path); };\r\nvar LimitedWebPartManagerCloneFactory = function (baseUrl, path) { return LimitedWebPartManager(baseUrl, path); };\r\nvar _WebPartDefinitions = /** @class */ (function (_super) {\r\n    __extends(_WebPartDefinitions, _super);\r\n    function _WebPartDefinitions() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    /**\r\n     * Gets a web part definition from the collection by id\r\n     *\r\n     * @param id The storage ID of the SPWebPartDefinition to retrieve\r\n     */\r\n    _WebPartDefinitions.prototype.getById = function (id) {\r\n        return WebPartDefinition(this, \"getbyid('\" + id + \"')\");\r\n    };\r\n    /**\r\n     * Gets a web part definition from the collection by storage id\r\n     *\r\n     * @param id The WebPart.ID of the SPWebPartDefinition to retrieve\r\n     */\r\n    _WebPartDefinitions.prototype.getByControlId = function (id) {\r\n        return WebPartDefinition(this, \"getByControlId('\" + id + \"')\");\r\n    };\r\n    return _WebPartDefinitions;\r\n}(_SharePointQueryableCollection));\r\nexport { _WebPartDefinitions };\r\nexport var WebPartDefinitions = spInvokableFactory(_WebPartDefinitions);\r\nvar _WebPartDefinition = /** @class */ (function (_super) {\r\n    __extends(_WebPartDefinition, _super);\r\n    function _WebPartDefinition() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    Object.defineProperty(_WebPartDefinition.prototype, \"webpart\", {\r\n        /**\r\n        * Gets the webpart information associated with this definition\r\n        */\r\n        get: function () {\r\n            return SharePointQueryableInstance(this, \"webpart\");\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    /**\r\n     * Saves changes to the Web Part made using other properties and methods on the SPWebPartDefinition object\r\n     */\r\n    _WebPartDefinition.prototype.saveChanges = function () {\r\n        return spPost(this.clone(WebPartDefinition, \"SaveWebPartChanges\"));\r\n    };\r\n    /**\r\n     * Moves the Web Part to a different location on a Web Part Page\r\n     *\r\n     * @param zoneId The ID of the Web Part Zone to which to move the Web Part\r\n     * @param zoneIndex A Web Part zone index that specifies the position at which the Web Part is to be moved within the destination Web Part zone\r\n     */\r\n    _WebPartDefinition.prototype.moveTo = function (zoneId, zoneIndex) {\r\n        return spPost(this.clone(WebPartDefinition, \"MoveWebPartTo(zoneID='\" + zoneId + \"', zoneIndex=\" + zoneIndex + \")\"));\r\n    };\r\n    /**\r\n     * Closes the Web Part. If the Web Part is already closed, this method does nothing\r\n     */\r\n    _WebPartDefinition.prototype.close = function () {\r\n        return spPost(this.clone(WebPartDefinition, \"CloseWebPart\"));\r\n    };\r\n    /**\r\n     * Opens the Web Part. If the Web Part is already closed, this method does nothing\r\n     */\r\n    _WebPartDefinition.prototype.open = function () {\r\n        return spPost(this.clone(WebPartDefinition, \"OpenWebPart\"));\r\n    };\r\n    /**\r\n     * Removes a webpart from a page, all settings will be lost\r\n     */\r\n    _WebPartDefinition.prototype.delete = function () {\r\n        return spPost(this.clone(WebPartDefinition, \"DeleteWebPart\"));\r\n    };\r\n    return _WebPartDefinition;\r\n}(_SharePointQueryableInstance));\r\nexport { _WebPartDefinition };\r\nexport var WebPartDefinition = spInvokableFactory(_WebPartDefinition);\r\nexport var WebPartsPersonalizationScope;\r\n(function (WebPartsPersonalizationScope) {\r\n    WebPartsPersonalizationScope[WebPartsPersonalizationScope[\"User\"] = 0] = \"User\";\r\n    WebPartsPersonalizationScope[WebPartsPersonalizationScope[\"Shared\"] = 1] = \"Shared\";\r\n})(WebPartsPersonalizationScope || (WebPartsPersonalizationScope = {}));\r\n","import { _File } from \"../files/types\";\r\nimport { WebPartsPersonalizationScope, LimitedWebPartManager } from \"./types\";\r\n_File.prototype.getLimitedWebPartManager = function (scope) {\r\n    if (scope === void 0) { scope = WebPartsPersonalizationScope.Shared; }\r\n    return LimitedWebPartManager(this, \"getLimitedWebPartManager(scope=\" + scope + \")\");\r\n};\r\n","import \"./file\";\r\nexport { WebPartsPersonalizationScope, WebPartDefinitions, WebPartDefinition, LimitedWebPartManager, } from \"./types\";\r\n","import { SPRest } from \"../rest\";\r\nimport \"../appcatalog\";\r\nimport \"../attachments\";\r\nimport \"../clientside-pages\";\r\nimport \"../column-defaults\";\r\nimport \"../comments\";\r\nimport \"../content-types\";\r\nimport \"../features\";\r\nimport \"../fields\";\r\nimport \"../files\";\r\nimport \"../folders\";\r\nimport \"../forms\";\r\nimport \"../hubsites\";\r\nimport \"../items\";\r\nimport \"../lists\";\r\nimport \"../navigation\";\r\nimport \"../profiles\";\r\nimport \"../regional-settings\";\r\nimport \"../related-items\";\r\nimport \"../search\";\r\nimport \"../security\";\r\nimport \"../sharing\";\r\nimport \"../site-designs\";\r\nimport \"../site-groups\";\r\nimport \"../site-scripts\";\r\nimport \"../site-users\";\r\nimport \"../sites\";\r\nimport \"../social\";\r\nimport \"../sputilities\";\r\nimport \"../subscriptions\";\r\nimport \"../taxonomy\";\r\nimport \"../user-custom-actions\";\r\nimport \"../views\";\r\nimport \"../webparts\";\r\nimport \"../webs\";\r\nexport * from \"../appcatalog\";\r\nexport * from \"../attachments\";\r\nexport * from \"../clientside-pages\";\r\nexport * from \"../column-defaults\";\r\nexport * from \"../comments\";\r\nexport * from \"../content-types\";\r\nexport * from \"../features\";\r\nexport * from \"../fields\";\r\nexport * from \"../files\";\r\nexport * from \"../folders\";\r\nexport * from \"../forms\";\r\nexport * from \"../hubsites\";\r\nexport * from \"../items\";\r\nexport * from \"../lists\";\r\nexport * from \"../navigation\";\r\nexport { spODataEntity, spODataEntityArray } from \"../odata\";\r\nexport * from \"../profiles\";\r\nexport * from \"../regional-settings\";\r\nexport * from \"../related-items\";\r\nexport * from \"../search\";\r\nexport * from \"../security\";\r\nexport * from \"../sharing\";\r\nexport * from \"../site-designs\";\r\nexport * from \"../site-groups\";\r\nexport * from \"../site-scripts\";\r\nexport * from \"../site-users\";\r\nexport * from \"../sites\";\r\nexport * from \"../social\";\r\nexport * from \"../sputilities\";\r\nexport * from \"../subscriptions\";\r\nexport * from \"../taxonomy\";\r\nexport * from \"../user-custom-actions\";\r\nexport * from \"../views\";\r\nexport * from \"../webparts\";\r\nexport * from \"../webs\";\r\nexport * from \"../index\";\r\nexport var sp = new SPRest();\r\n","interface IPeoplePickerPayload {\r\n    id: string;\r\n    model: any;\r\n    schema: ISPClientPeoplePickerSchema;\r\n    validator?: kendo.ui.Validator;\r\n    value?: string;\r\n    required: boolean;\r\n  }\r\n  import { sp } from \"@pnp/sp/presets/all\";\r\n\r\nasync function validate(key: string): Promise<number> {\r\n    if (typeof key === \"undefined\" || !key) { return null; }\r\n    let siteUser: SiteUser;\r\n    try {\r\n      siteUser = await sp.web.siteUsers.getByLoginName(key).get();\r\n      if (siteUser.Id) { return siteUser.Id }\r\n    } catch (err) {\r\n      siteUser = await sp.web.siteGroups.getById(612).users.add(key);\r\n      if (siteUser) {\r\n        const userInfo = await siteUser.select(\"Id\").get();\r\n        return userInfo.Id;\r\n      }\r\n    }\r\n}\r\n\r\nconst { InitializeStandalonePeoplePicker, SPClientPeoplePickerDict } = SPClientPeoplePicker;\r\n\r\nexport class PeoplePicker {\r\n  public client: SPClientPeoplePicker;\r\n  private model: any;\r\n  private properties: any;\r\n  private required: boolean;\r\n  private validator: kendo.ui.Validator;\r\n  private value: string;\r\n\r\n  static getClient (id: string): SPClientPeoplePicker {\r\n    return SPClientPeoplePickerDict[`${id}_TopSpan`];\r\n  }\r\n\r\n  constructor(payload: IPeoplePickerPayload) {\r\n    const {id, schema, validator, model, value, required} = payload;\r\n    this.value = value;\r\n\r\n    this.properties = {};\r\n    this.properties[`${value}Id`] = null;\r\n    this.properties[`${value}StringId`] = null;\r\n\r\n    this.model = Object.assign(model, this.properties);\r\n\r\n    this.validator = validator;\r\n\r\n    InitializeStandalonePeoplePicker(id, null, schema);\r\n    this.client = SPClientPeoplePickerDict[`${id}_TopSpan`];\r\n    // Eventos\r\n    this.client.OnUserResolvedClientScript = this.resolved.bind(this);\r\n    this.client.OnValueChangedClientScript = this.changed.bind(this);\r\n    \r\n    if (required) {\r\n      document.getElementById(this.client.HiddenInputId).setAttribute(\"required\", \"\");\r\n    }\r\n    document.getElementById(`${id}_TopSpan`).classList.add(\"input\");\r\n  }\r\n\r\n  private resolved(elementId: string, users: ISPClientPeoplePickerEntity[]) {\r\n    const input = document.getElementById(this.client.HiddenInputId);\r\n    const { value } = this;\r\n    this.model[`${value}Id`]  = {results:[]};\r\n    this.model[`${value}StringId`] = {results:[]};\r\n    users.forEach(async (user) => {\r\n      if (user.IsResolved) {\r\n        try {\r\n          const id = await validate(user.Key);\r\n          this.model[`${value}Id`].results.push(id);\r\n          this.model[`${value}StringId`].results.push(id.toString());\r\n          input.value = {};\r\n          this.validator.validateInput(input);\r\n          this.model.dirty = true;\r\n        } catch (err) {\r\n          // No se pudo validar el usuario\r\n          console.log(\"error validando:\" + user.DisplayText);\r\n        }\r\n      }\r\n    });\r\n    if (users.length === 0) {\r\n      this.model[`${value}Id`]  = null;\r\n      this.model[`${value}StringId`] = null;\r\n    }\r\n  }\r\n\r\n  private changed(elementId: string, users: ISPClientPeoplePickerEntity[]) {\r\n    const input = document.getElementById(this.client.HiddenInputId);\r\n    const { value } = this;\r\n    // Si no hay usuarios resueltos en el componente, ponemos el requerido con kendo\r\n    if (users.length < 1) {\r\n      input.value = \"\";\r\n    // Si hay más de dos usarios en el control y solo se permite uno, el modelo no es valido\r\n    } else if (users.length > 1 && !this.client.AllowMultipleUsers) {\r\n      input.value = \"\";\r\n    }\r\n    if (users.length == 1 && this.model[`${value}Id`] == null) {\r\n      input.value = \"\";\r\n    }\r\n    if (this.validator) {\r\n      this.validator.validateInput(input);\r\n    }\r\n  }\r\n\r\n  public isRequied(required: boolean): void {\r\n    if (required) {\r\n      document.getElementById(this.client.HiddenInputId).setAttribute(\"required\", \"\");\r\n    } else {\r\n      document.getElementById(this.client.HiddenInputId).removeAttribute(\"required\");\r\n    }\r\n  }\r\n\r\n  public enable(enable: boolean):void {\r\n    if (enable) {\r\n      $(\".sp-peoplepicker-delImage\").show();\r\n      $(`#${this.client.EditorElementId}`).removeProp(\"disabled\");\r\n      $(`#${this.client.TopLevelElementId}`).toggleClass(\"sp-peoplepicker-topLevelDisabled\");\r\n      $(`#${this.client.TopLevelElementId}`).removeAttr(\"disabled\");\r\n    } else {\r\n      $(\".sp-peoplepicker-delImage\").hide();\r\n      $(`#${this.client.EditorElementId}`).prop(\"disabled\", true);\r\n      $(`#${this.client.TopLevelElementId}`).toggleClass(\"sp-peoplepicker-topLevelDisabled\");\r\n      $(`#${this.client.TopLevelElementId}`).attr(\"disabled\", \"\");\r\n    }\r\n  }\r\n\r\n  public clear(): void {\r\n    const resolvedUsers = $(document.getElementById(this.client.ResolvedListElementId))\r\n      .find(\"span[class='sp-peoplepicker-userSpan']\");\r\n    $(resolvedUsers).each((index, element) => {\r\n      this.client.DeleteProcessedUser(element);\r\n    });\r\n  }\r\n}","import { urls } from \"../Utilities/utils\"\r\n\r\nexport function getTemplateUser(item): string {\r\n    return `\r\n    <div class=\"divMB\">\r\n        <img alt=\"User\" id=\"imgMB\" src=\"${urls.site}/ReqIntegrados/_layouts/15/userphoto.aspx?size=M&username=${item.Aprobador.EMail}\" style=\"display: inline;\">\r\n    </div>\r\n    <div class=\"divMB\">\r\n        ${item.Aprobador.Title}   \r\n    </div>\r\n    `;\r\n}\r\n\r\n\r\n\r\nexport function getTemplateDialog(item): string {\r\n    return `\r\n    \r\n        <form id=\"formConf\">\r\n            <div class=\"se-content\">\r\n                <p>¿Desea provomer la iniciativa <b>${item.NombreOportunidad}</b>?</p>\r\n                <div style=\"text-align: center;\">\r\n                    <input id='tipoProyecto' style=\"width:250px\" required />\r\n                </div>\r\n            </div>  \r\n            <div class=\"se-footer\">\r\n                <button class=\"k-button k-button-icontext k-primary k-grid-update\" id=\"yesButton\">Promover</button>\r\n                <button class=\"k-button\" id=\"noButton\">Cancelar</button>\r\n            </div>            \r\n        </form>\r\n    `;\r\n\r\n}\r\n","import { lists } from \"../Utilities/utils\";\r\nimport { IniciativasEvents } from \"../BusinessLogic/IniciativasBL\";\r\n\r\nexport namespace ComiteValoracionController{\r\n    export async function obtenerEncargados(filtro){\r\n        let result = await lists.EncargadosComite.items\r\n        .filter(filtro)\r\n        .get()\r\n        \r\n        return result;\r\n    }\r\n\r\n    \r\n\r\n    export async function validarDiligenciamientoComiteValoracion(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'espera' and Fase eq 'CV' and IdIniciativa eq \" +id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function validarDiligenciamientoComiteGestionDemanda(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'espera' and Fase eq 'CGD' and IdIniciativa eq \" +id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function validarDiligenciamientoComitePatrocinadores(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'espera' and Fase eq 'CP' and IdIniciativa eq \" +id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function validarDiligenciamientoEquipoProductividad(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"EProductividadCompletado eq 'no' and Fase eq 'EProd' and IdIniciativa eq \" +id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function validarDiligenciamientoEquipoProyectos(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"EProyectosCompletado eq 'no' and Fase eq 'EProy' and IdIniciativa eq \" +id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function aprobacionesComiteValoracion(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'aprobado' and Fase eq 'CV' and IdIniciativa eq \" + id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function aprobacionesComiteGestionDemanda(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'aprobado' and Fase eq 'CGD' and IdIniciativa eq \" + id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function aprobacionesComitePatrocinadores(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'aprobado' and Fase eq 'CP' and IdIniciativa eq \" + id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function aprobacionesEquipoProductividad(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'aprobado' and Fase eq 'EProd' and IdIniciativa eq \" + id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function aprobacionesEquipoProyectos(id){\r\n        let result = await lists.ComiteValoracion.items\r\n        .filter(\"Estado eq 'aprobado' and Fase eq 'EProy' and IdIniciativa eq \" + id)\r\n        .get()\r\n\r\n        return result;\r\n    }\r\n\r\n    export async function insertarEncargadosComiteValoracion(result, id){\r\n        for(let i = 0; i < result.length; i++){\r\n            delete result[i].EncargadoStringId;\r\n            let data = {\r\n                EncargadoId: {results:[result[i].EncargadoId]},\r\n                Estado: \"espera\",\r\n                IdIniciativa: id,\r\n                Fase: \"CV\"\r\n            };\r\n            await lists.ComiteValoracion.items.add(data);\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n    export async function insertarEncargadosComiteGestionDemanda(result, id){\r\n        for(let i = 0; i < result.length; i++){\r\n            let data = {\r\n                EncargadoId: {results:[result[i].EncargadoId]},\r\n                Estado: \"espera\",\r\n                IdIniciativa: id,\r\n                Fase: \"CGD\"\r\n            };\r\n            await lists.ComiteValoracion.items.add(data);\r\n        }\r\n    }\r\n\r\n    export async function insertarEncargadosComitePatrocinadores(result, id){\r\n        for(let i = 0; i < result.length; i++){\r\n            let data = {\r\n                EncargadoId: {results:[result[i].EncargadoId]},\r\n                Estado: \"espera\",\r\n                IdIniciativa: id,\r\n                Fase: \"CP\"\r\n            };\r\n            await lists.ComiteValoracion.items.add(data);\r\n        }\r\n    }\r\n\r\n\r\n    export async function insertarEquipoProductividad(result, id){\r\n        for(let i = 0; i < result.length; i++){\r\n            let data = {\r\n                EncargadoId: {results:[result[i].EncargadoId]},\r\n                Estado: \"equipo\",\r\n                IdIniciativa: id,\r\n                Fase: \"EProd\"\r\n            };\r\n            await lists.ComiteValoracion.items.add(data);\r\n        }\r\n    }\r\n\r\n    export async function insertarEquipoProyectos(result, id){\r\n        for(let i = 0; i < result.length; i++){\r\n            let data = {\r\n                EncargadoId: {results:[result[i].EncargadoId]},\r\n                Estado: \"equipo\",\r\n                IdIniciativa: id,\r\n                Fase: \"EProy\"\r\n            };\r\n            await lists.ComiteValoracion.items.add(data);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    export async function insertarEncargadosCGD(result, id){\r\n        let EncargadoId = [];\r\n        for(let i = 0; i < result.length; i++){\r\n            EncargadoId.push(result[i].EncargadoId);\r\n        }\r\n        await lists.Iniciativas.items.getById(id).update({ResponsablesComiteId: {results: EncargadoId}});\r\n    }\r\n\r\n    export async function insertarEncargadosCP(result, id){\r\n        let EncargadoId = [];\r\n        for(let i = 0; i < result.length; i++){\r\n            EncargadoId.push(result[i].EncargadoId);\r\n        }\r\n        await lists.Iniciativas.items.getById(id).update({ResponsablesComiteId: {results: EncargadoId}});\r\n    }\r\n\r\n\r\n    export async function insertarEProd(result, id){\r\n        let EncargadoId = [];\r\n        for(let i = 0; i < result.length; i++){\r\n            EncargadoId.push(result[i].EncargadoId);\r\n        }\r\n        await lists.Iniciativas.items.getById(id).update({ResponsablesComiteId: {results: EncargadoId}});\r\n    }\r\n\r\n    export async function insertarEProy(result, id){\r\n        let EncargadoId = [];\r\n        for(let i = 0; i < result.length; i++){\r\n            EncargadoId.push(result[i].EncargadoId);\r\n        }\r\n        await lists.Iniciativas.items.getById(id).update({ResponsablesComiteId: {results: EncargadoId}});\r\n    }\r\n\r\n    export async function vaciarEncargados(id){\r\n        await lists.Iniciativas.items.getById(id).update({ResponsablesComiteId: {results: []}});\r\n    }\r\n\r\n\r\n\r\n    export async function update(data){\r\n        \r\n        let result = await lists.ComiteValoracion.items.getById(data.Id).update(data);\r\n\r\n        IniciativasEvents.NotificationSuccess(\"Datos ingresados con exito\");\r\n\r\n        return result;\r\n    }\r\n}","import { urls } from \"../Utilities/utils\";\r\n\r\n\r\n\r\nexport namespace PromoteController {\r\n\r\n\r\n    export async function getContextInfoPWA():Promise<Response> {\r\n\r\n        return await fetch(urls.PWA + \"/_api/contextinfo\", {\r\n            method: \"POST\",\r\n            headers: new Headers({\r\n                \"Accept\": \"application/json; odata=verbose\"\r\n            })\r\n        });\r\n\r\n    }\r\n\r\n    export async function createProject(objRegistro,FormDigestValue){\r\n\r\n\r\n        return await fetch(urls.PWA + \"/_api/ProjectServer/Projects/Add\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(objRegistro),\r\n            headers: new Headers({\r\n                \"Accept\": \"application/json; odata=verbose\",\r\n                \"X-RequestDigest\": FormDigestValue,\r\n                \"Content-Type\": \"application/json;odata=verbose\"\r\n            })\r\n        });\r\n    }\r\n\r\n    export async function checkOutProject(idPro,FormDigestValue){\r\n\r\n\r\n        return await fetch(`${urls.PWA}/_api/ProjectServer/Projects('${idPro}')/checkOut()`, {\r\n            method: \"POST\",\r\n            headers: new Headers({\r\n                \"Accept\": \"application/json; odata=verbose\",\r\n                \"X-RequestDigest\": FormDigestValue,\r\n                \"Content-Type\": \"application/json;odata=verbose\"\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n    export async function getProject(idPro,FormDigestValue){\r\n\r\n\r\n        return await fetch(`${urls.PWA}/_api/ProjectData/Proyectos(guid'${idPro}')`, {\r\n            method: \"GET\",\r\n            headers: new Headers({\r\n                \"Accept\": \"application/json; odata=verbose\",\r\n                \"X-RequestDigest\": FormDigestValue,\r\n                \"Content-Type\": \"application/json;odata=verbose\"\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n    export async function checkInProject(idPro,FormDigestValue){\r\n        \r\n        return await fetch(`${urls.PWA}/_api/ProjectServer/Projects('${idPro}')/Draft/publish(true)`, {\r\n            method: \"POST\",\r\n            headers: new Headers({\r\n                \"Accept\": \"application/json; odata=verbose\",\r\n                \"X-RequestDigest\": FormDigestValue,\r\n            })\r\n        });\r\n    }\r\n\r\n    export async function updateCustomFields(idPro,FormDigestValue,objCustomFields){\r\n        \r\n        return await fetch(`${urls.PWA}/_api/ProjectServer/Projects('${idPro}')/Draft/UpdateCustomFields`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\tbody: JSON.stringify(objCustomFields),\r\n\t\t\theaders: new Headers({\r\n\t\t\t\t\"Accept\": \"application/json; odata=verbose\",\r\n\t\t\t\t\"X-RequestDigest\": FormDigestValue,\r\n\t\t\t\t\"Content-Type\": \"application/json;odata=verbose\"\r\n\t\t\t})\r\n\t\t});\r\n    }\r\n\r\n    \r\n\r\n    export async function getEnterpriseProjectTypes(FormDigestValue){\r\n\r\n        return await fetch(urls.PWA + \"/_api/ProjectServer/EnterpriseProjectTypes\", {\r\n            method: \"GET\",\r\n            headers: new Headers({\r\n                \"Accept\": \"application/json; odata=verbose\",\r\n                \"X-RequestDigest\": FormDigestValue,\r\n                \"Content-Type\": \"application/json;odata=verbose\"\r\n            })\r\n        });\r\n    }\r\n\r\n\r\n}","\r\nimport { PromoteController } from \"../Controller/PromoteController\"\r\n\r\n\r\nexport namespace PromoteBl {\r\n\r\n\r\n    export async function getContextInfoPWA(){\r\n\r\n        return await PromoteController.getContextInfoPWA();\r\n\r\n    }\r\n\r\n    export async function createProject(objRegistro,FormDigestValue){\r\n        return await PromoteController.createProject(objRegistro,FormDigestValue);\r\n    }\r\n\r\n    export async function checkOutProject(idPro,FormDigestValue){\r\n        return await PromoteController.checkOutProject(idPro,FormDigestValue);\r\n    }\r\n\r\n    export async function checkInProject(idPro,FormDigestValue){\r\n        return await PromoteController.checkInProject(idPro,FormDigestValue);\r\n    }\r\n\r\n    export async function updateCustomFields(idPro,FormDigestValue,objCustomFields){\r\n        return await PromoteController.updateCustomFields(idPro,FormDigestValue,objCustomFields);\r\n    }\r\n\r\n    export async function getProject(idPro,FormDigestValue){\r\n        return await PromoteController.getProject(idPro,FormDigestValue);\r\n    }\r\n\r\n    \r\n\r\n    export async function getEnterpriseProjectTypes(){\r\n\r\n        return new Promise(async (resolve, reject) => {\r\n\r\n            let result = await getContextInfoPWA();\r\n            let context = await result.json();\r\n            let FormDigestValue = context.d.GetContextWebInformation.FormDigestValue;\r\n            let results = await PromoteController.getEnterpriseProjectTypes(FormDigestValue);\r\n            let data = await results.json();\r\n            resolve(data.d.results);\r\n\r\n        });\r\n\r\n    }\r\n    \r\n\r\n\r\n}","\r\n//Exporta Librerias para que retorne al Controlador \r\nimport { DataController } from \"../Controller/IniciativasController\";\r\nimport { DataPuntaje } from './PuntajeBL';\r\nimport { lists, customFielPWA } from \"../Utilities/utils\";\r\nimport { PeoplePicker } from \"../Utilities/PeoplePicker\";\r\nimport { getTemplateDialog } from \"../Template/registro\";\r\nimport * as BeneficioTemplate from \"../Template/BeneficioTemplate\";\r\nimport { PuntajeController } from \"../Controller/PuntajeController\";\r\nimport { ComiteValoracionController } from \"../Controller/ComiteValoracionController\";\r\nimport { PromoteBl } from \"./PromoteBL\";\r\n\r\nexport namespace DataIniciativas {\r\n\r\n  export var idIniciativa;\r\n\r\n  export async function ReadData(filtro) {\r\n\r\n    return await DataController.readData(filtro);\r\n  }\r\n\r\n  export async function CreateData(data) {\r\n\r\n    delete data.Id;\r\n    delete data.innovacion;\r\n    delete data.Title;\r\n    delete data.ColaboradorStringId;\r\n    delete data.AnalistaAsignadoStringId;\r\n\r\n\r\n    await PuntajeController.createPuntaje(data)\r\n\r\n    \r\n    data.ColaboradorId = data.ColaboradorId.results[0];\r\n    data.AnalistaAsignadoId = data.AnalistaAsignadoId.results[0];\r\n\r\n    data.Estado = \"espera\";\r\n    data.Fase = \"Requester\";\r\n\r\n    if (IniciativasEvents.attach.length) {\r\n      let item = await DataController.createData(data);\r\n      let files = IniciativasEvents.attach.filter(item => { return item[\"content\"] });\r\n      await addAttachment(item[\"data\"][\"Id\"], files);\r\n    }else return await DataController.createData(data);\r\n\r\n  }\r\n\r\n\r\n  async function addAttachment(id: number, data: Array<any>) {\r\n    return await DataController.addAttachment(id, data);\r\n  }\r\n\r\n  export async function UpDate(data: any) {\r\n\r\n    let id = data[\"Id\"];\r\n\r\n    \r\n    delete data.ColaboradorStringId;\r\n    delete data.AnalistaAsignadoStringId;\r\n    delete data.innovacion;\r\n    delete data.ResponsablesComiteStringId;\r\n    delete data.ResponsablesComiteId;\r\n    delete data.Iniciativa_x0020_Aplazada;\r\n    delete data.Author;\r\n    delete data.EstadoIdea;\r\n\r\n    if( data.ColaboradorId){\r\n        data.ColaboradorId = data.ColaboradorId.results[0];\r\n    }\r\n\r\n    if(data.AnalistaAsignadoId){\r\n        data.AnalistaAsignadoId = data.AnalistaAsignadoId.results[0];\r\n    }\r\n\r\n    //Adjuntos\r\n    if (IniciativasEvents.attach.length) {\r\n      let files = IniciativasEvents.attach.filter(item => { return item[\"content\"] });\r\n      await addAttachment(id, files);\r\n    }\r\n\r\n    delete data.Colaborador;\r\n    delete data.AnalistaAsignado;\r\n\r\n    if($(\"#cbst\").prop(\"checked\")){\r\n      data.Notificacion = true;\r\n      data.Fase = \"Comité de Valoración\";\r\n\r\n      let eliminar = await lists.ComiteValoracion.items\r\n      .filter(\"IdIniciativa eq \" + data.Id + \" and Fase eq 'CV'\")\r\n      .get();\r\n\r\n      if(eliminar.length >= 1){\r\n        for(let i = 0; i < eliminar.length; i++){\r\n          await lists.ComiteValoracion.items.getById(eliminar[i].Id).update({Fase: \"Aplazada\"});\r\n        }\r\n      }\r\n\r\n      let encargados = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CV'\");\r\n      ComiteValoracionController.insertarEncargadosComiteValoracion(encargados, data.Id);\r\n\r\n      let encargadosId = [];\r\n      for(let i = 0; i < encargados.length; i++){\r\n        encargadosId.push(encargados[i].EncargadoId);\r\n      }\r\n\r\n    \r\n      data.ResponsablesComiteId = {results: encargadosId}\r\n      \r\n    }\r\n\r\n    if($(\"#promovido\").prop(\"checked\")){\r\n      data.Promovida = true;\r\n      data.Fase = \"Promovida\";\r\n    }\r\n\r\n    return await DataController.updateData(data);\r\n  }\r\n\r\n  export async function destroyData(data) {\r\n\r\n    return await DataController.deleteData(data);\r\n  }\r\n}\r\n\r\n\r\nexport namespace IniciativasEvents {\r\n\r\n  export var Innovacion;\r\n\r\n    //Variables Global para Adjuntos\r\n  export let objUpload: kendo.ui.Upload;\r\n  export let attach: Array<any>;\r\n  export var IdModel;\r\n  \r\n  export async function edit(ev: kendo.ui.GridEditEvent) {\r\n\r\n    var tabstrip = $(\"#tabstrip\").kendoTabStrip().data(\"kendoTabStrip\");\r\n\r\n    IdModel = ev.model[\"Id\"];\r\n\r\n\r\n\r\n    $(\".k-grid-update\").html(\"<span class='k-icon k-i-check'></span>GUARDAR\");\r\n    $(\".k-grid-cancel\").html(\"<span class='k-icon k-i-cancel'></span>CANCELAR\");\r\n\r\n\r\n    $(\"#tabHistorico\").css(\"display\", \"none\");\r\n    \r\n  //Funcion Para Datos Adjuntos\r\n      attach = [];\r\n      objUpload = $(\"#adjuntos\").kendoUpload({\r\n      select: onSelect,\r\n      //remove:onRemove,\r\n      }).data(\"kendoUpload\");\r\n\r\n      \r\n    //funcion para los Campos tipo Directorio Activo del sistema\r\n    const validator = ev.container.data(\"kendoValidator\");\r\n\r\n\r\n    \r\n\r\n\r\n    var Colaborador = new PeoplePicker({\r\n      id: \"Colaborador\",\r\n      model: ev.model, schema: {\r\n        'PrincipalAccountType': 'User',\r\n        'SearchPrincipalSource': 15,\r\n        'ResolvePrincipalSource': 15,\r\n        'AllowMultipleValues': false,\r\n        'MaximumEntitySuggestions': 50\r\n\r\n      },\r\n      validator,\r\n      value: \"Colaborador\",\r\n      required: true\r\n    });\r\n\r\n    var AnalistaAsignado = new PeoplePicker({\r\n        id: \"AnalistaAsignado\",\r\n        model: ev.model, schema: {\r\n          'PrincipalAccountType': 'User',\r\n          'SearchPrincipalSource': 15,\r\n          'ResolvePrincipalSource': 15,\r\n          'AllowMultipleValues': false,\r\n          'MaximumEntitySuggestions': 50\r\n  \r\n        },\r\n        validator,\r\n        value: \"AnalistaAsignado\",\r\n        required: true\r\n      });\r\n\r\n      \r\n      $(\"#promoteContent\").css(\"display\", \"none\");\r\n\r\n\r\n\r\n      if (!(ev.model.isNew())) {\r\n\r\n        $(\"#promoteContent\").css(\"display\", \"block\");\r\n\r\n        let textB = \"COMITÉ DE VALORACIÓN\";\r\n        let CBSFT = `<div class='se-div-cbsf'><input type=\"checkbox\" id=\"cbst\" class=\"k-checkbox\"><label class=\"k-checkbox-label\" for=\"cbst\">${textB}</label></div>`;\r\n        ev.container.find(\".k-edit-buttons\").prepend(CBSFT);\r\n\r\n        let promovido = `<div style=\"display: none;\"><input type=\"checkbox\" id=\"promovido\" class=\"k-checkbox\"></div>`;\r\n        ev.container.find(\".k-edit-buttons\").prepend(promovido);\r\n\r\n          var costo = new Intl.NumberFormat().format(ev.model[\"CostoAproximado\"]);\r\n\r\n          $(\"#CostoAproximado\").val(costo);\r\n\r\n          if(ev.model[\"Attachments\"]){\r\n            let attachments = DataController.getAttachment(ev.model[\"Id\"]);\r\n            \r\n            listAttachments(ev);\r\n    \r\n            $(\"#listViewDiv\").remove();\r\n            \r\n          }\r\n\r\n          $(\"#tabHistorico\").css(\"display\", \"block\");\r\n    \r\n    \r\n          \r\n            \r\n          \r\n          \r\n\r\n          $(\".NumeroIdea\").css(\"display\", \"block\");\r\n          $(\"#NumeroIdea\").val(ev.model[\"Id\"]);\r\n          $(\"#NumeroIdea\").attr(\"disabled\", \"disabled\");\r\n\r\n          $(\".CreadoPor\").css(\"display\", \"block\");\r\n          $(\"#CreadoPor\").val(ev.model[\"Author\"].Title);\r\n          $(\"#CreadoPor\").attr(\"disabled\", \"disabled\");\r\n\r\n          let created = kendo.toString(kendo.parseDate(ev.model[\"Created\"]), \"dd-MM-yyyy\" )\r\n\r\n          $(\".FechaCreacion\").css(\"display\", \"block\");\r\n          $(\"#FechaCreacion\").val(created);\r\n          $(\"#FechaCreacion\").attr(\"disabled\", \"disabled\");\r\n\r\n\r\n          Colaborador.client.AddUserKeys(ev.model[\"Colaborador\"].Name, false);\r\n          AnalistaAsignado.client.AddUserKeys(ev.model[\"AnalistaAsignado\"].Name, false);\r\n\r\n          if(!(ev.model[\"Fase\"] == \"Requester\" || ev.model[\"Fase\"] == \"Aplazada\")){\r\n            $(\".se-div-cbsf\").css(\"display\", \"none\");\r\n          }\r\n\r\n\r\n          \r\n\r\n          if(ev.model[\"Promovida\"] == true){\r\n            $(\"#promoteContent\").css(\"display\", \"none\")\r\n            bloquearCampos();\r\n          }else{\r\n            $(\"#btnPromover\").click(function(){\r\n              PromoteProjectOnline.promoteClick(ev);\r\n            });\r\n          }\r\n    \r\n      }\r\n\r\n\r\n      //funcion del DropDownList  tipo lista\r\n    $(\"#EstadoIdea\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'EstadoIdea'\").get()\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#TipoCosto\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'TipoCosto'\").get()\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#UEN\").kendoDropDownList({\r\n        optionLabel: \"Seleccione un valor\",\r\n        dataTextField: \"Valor\",\r\n        dataValueField: \"Id\",\r\n        autoWidth: true,\r\n        dataSource: new kendo.data.DataSource({\r\n          transport: {\r\n            read: async (ev) => {\r\n              var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'UEN'\").get();\r\n              ev.success(result)\r\n            }\r\n          },\r\n        }),\r\n      });\r\n\r\n      $(\"#Regional\").kendoDropDownList({\r\n        optionLabel: \"Seleccione un valor\",\r\n        dataTextField: \"Valor\",\r\n        dataValueField: \"Id\",\r\n        autoWidth: true,\r\n        dataSource: new kendo.data.DataSource({\r\n          transport: {\r\n            read: async (ev) => {\r\n              var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'Regional'\").get();\r\n              ev.success(result)\r\n            }\r\n          },\r\n        }),\r\n      });\r\n\r\n      $(\"#QueProponer\").kendoDropDownList({\r\n        optionLabel: \"Seleccione un valor\",\r\n        dataTextField: \"Valor\",\r\n        dataValueField: \"Id\",\r\n        autoWidth: true,\r\n        dataSource: new kendo.data.DataSource({\r\n          transport: {\r\n            read: async (ev) => {\r\n              var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'QueProponer'\").get();\r\n              ev.success(result)\r\n            }\r\n          },\r\n        }),\r\n      });\r\n\r\n\r\n      $(\"#Coordinacion\").kendoDropDownList({\r\n        optionLabel: \"Seleccione un valor\",\r\n        dataTextField: \"Valor\",\r\n        dataValueField: \"Id\",\r\n        autoWidth: true,\r\n        dataSource: new kendo.data.DataSource({\r\n          transport: {\r\n            read: async (ev) => {\r\n              var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'Coordinacion'\").get();\r\n              ev.success(result)\r\n            }\r\n          },\r\n        }),\r\n      });\r\n\r\n      $(\"#CostoAproximado\").blur(function(){\r\n        if($(\"#CostoAproximado\").val() != \"\"){\r\n          var costo = new Intl.NumberFormat().format(ev.model[\"CostoAproximado\"]);\r\n          $(\"#CostoAproximado\").val(costo);\r\n        }\r\n      });\r\n\r\n\r\n    $(\"#AumentoVentas\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'AumentoVentas'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#EsfuerzoEnTiempo\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'EsfuerzoEnTiempo'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#BeneficioEstimadoServicio\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'BeneficioEstimadoServicio'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#EsfuerzoEnCostos\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'EsfuerzoEnCostos'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#BeneficioEstimadoCosto\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'BeneficioEstimadoCosto'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#IncrementoServicio\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'IncrementoServicio'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#CumplimientoNormativo\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'CumplimientoNormativo'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#ProyectoInnovacion\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'ProyectoInnovacion'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#ReduccionCostos\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Calificacion\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'ReduccionCostos'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#TipoBeneficio\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'TipoBeneficio'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#BeneficioVenta\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'BeneficioVenta'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n    $(\"#Area\").kendoDropDownList({\r\n      optionLabel: \"Seleccione un valor\",\r\n      dataTextField: \"Valor\",\r\n      dataValueField: \"Id\",\r\n      autoWidth: true,\r\n      dataSource: new kendo.data.DataSource({\r\n        transport: {\r\n          read: async (ev) => {\r\n            var result = await lists.MetaData.items.top(10000).filter(\"Title eq 'Area'\").get();\r\n            ev.success(result)\r\n          }\r\n        },\r\n      }),\r\n    });\r\n\r\n\r\n\r\n    var contentReduccionCostos = `\r\n      <div>\r\n        <p><b>1</b> - de 0,1 a 20 mm</p>\r\n        <p><b>2</b> - de 21 a 40 mm</p>\r\n        <p><b>3</b> - de 41 a 60 mm</p>\r\n        <p><b>4</b> - de 61 a 80 mm</p>\r\n        <p><b>5</b> - de 81 a 100 mm</p>\r\n        <p><b>6</b> - de 101 a 120 mm</p>\r\n        <p><b>7</b> - de 121 a 140 mm</p>\r\n        <p><b>8</b> - de 141 a 160 mm</p>\r\n        <p><b>9</b> - de 161 a 180 mm</p>\r\n        <p><b>10</b> - Mas de 180 Millones de ahorro</p>\r\n      </div>\r\n    `;\r\n\r\n    var contentNielDeServicios = `\r\n      <div>\r\n        <p><b>1</b> - 0,10% - 0,19%</p>\r\n        <p><b>2</b> - 0,20% - 0,29%</p>\r\n        <p><b>3</b> - 0,30% - 0,39%</p>\r\n        <p><b>4</b> - 0,40% - 0,49%</p>\r\n        <p><b>5</b> - 0,50% - 0,59%</p>\r\n        <p><b>6</b> - 0,60% - 0,69%</p>\r\n        <p><b>7</b> - 0,70% - 0,79%</p>\r\n        <p><b>8</b> - 0,80% - 0,89%</p>\r\n        <p><b>9</b> - 0,90% - 0,99%</p>\r\n        <p><b>10</b> - Mayor a 1,00%</p>\r\n      </div>\r\n    `;\r\n\r\n    var contentInnovacion = `\r\n      <div>\r\n        <p><b>0</b> - No es un proyecto de innovación</p>\r\n        <p><b>5</b> - Es un proyecto de innovación</p>\r\n      </div>\r\n    `;\r\n\r\n    $(\"#gridHistorico th:nth-child(3)\").kendoTooltip({\r\n      position: \"\",\r\n      content: contentReduccionCostos\r\n    }).data(\"kendoTooltip\");\r\n\r\n    $(\"#gridHistorico th:nth-child(4)\").kendoTooltip({\r\n      position: \"\",\r\n      content: contentReduccionCostos\r\n    }).data(\"kendoTooltip\");\r\n\r\n    $(\"#gridHistorico th:nth-child(5)\").kendoTooltip({\r\n      position: \"\",\r\n      content: contentNielDeServicios\r\n    }).data(\"kendoTooltip\");\r\n\r\n    $(\"#gridHistorico th:nth-child(6)\").kendoTooltip({\r\n      position: \"\",\r\n      content: contentInnovacion\r\n    }).data(\"kendoTooltip\");\r\n\r\n\r\n\r\n\r\n    var contentEsfuerzoTiempo = `\r\n    <div>\r\n      <p><b>1</b> - Menos de un mes</p>\r\n      <p><b>2</b> - 2 a 4 meses</p>\r\n      <p><b>3</b> - 4 a 5 meses</p>\r\n      <p><b>4</b> - 6 a 7 meses</p>\r\n      <p><b>5</b> - 7 a 8 meses</p>\r\n      <p><b>6</b> - 8 a 9 meses</p>\r\n      <p><b>7</b> - 10 a 11 meses</p>\r\n      <p><b>8</b> - 11 a 12 meses</p>\r\n      <p><b>9</b> - 1 a 2 años</p>\r\n      <p><b>10</b> - Mas de 2 años</p>\r\n    </div>\r\n  `;\r\n\r\n\r\n    $(\"#gridHistoricoBeneficio th:nth-child(3)\").kendoTooltip({\r\n      position: \"\",\r\n      content: contentEsfuerzoTiempo\r\n    }).data(\"kendoTooltip\");\r\n\r\n    $(\"#gridHistoricoBeneficio th:nth-child(4)\").kendoTooltip({\r\n      position: \"\",\r\n      content: contentReduccionCostos\r\n    }).data(\"kendoTooltip\");\r\n\r\n    validateFields();\r\n    DataGridIniciativas.DataGridHistorico();\r\n    DataGridIniciativas.DataGridHistoricoEsfuerzo();\r\n}\r\n\r\nfunction bloquearCampos(){\r\n\r\n  //Principal\r\n  $(\"#EstadoIdea\").attr(\"disabled\", \"disabled\");\r\n  $(\"#UEN\").attr(\"disabled\", \"disabled\");\r\n  $(\"#NombreOportunidad\").attr(\"disabled\", \"disabled\");\r\n  $(\"#Regional\").attr(\"disabled\", \"disabled\");\r\n  $(\"#CostoAproximado \").attr(\"disabled\", \"disabled\");\r\n  $(\"#Colaborador_TopSpan\").attr(\"disabled\", \"disabled\");\r\n  $(\"#Colaborador_TopSpan_ResolvedList\").attr(\"disabled\", \"disabled\");\r\n  $(\"#Telefono\").attr(\"disabled\", \"disabled\");\r\n  $(\"#Correo\").attr(\"disabled\", \"disabled\");\r\n  $(\"#QueProponer\").attr(\"disabled\", \"disabled\");\r\n  $(\"#AnalistaAsignado_TopSpan\").attr(\"disabled\", \"disabled\");\r\n  $(\"#AnalistaAsignado_TopSpan_ResolvedList\").attr(\"disabled\", \"disabled\");\r\n  $(\"#Continuidad\").attr(\"disabled\", \"disabled\");\r\n  $(\".k-upload\").attr(\"disabled\", \"disabled\");\r\n  $(\"#btnRemove\").css(\"pointer-events\", \"none\");\r\n\r\n\r\n  //Beneficios\r\n  $(\"#AumentoVentas\").attr(\"disabled\", \"disabled\");\r\n  $(\"#IncrementoServicio\").attr(\"disabled\", \"disabled\");\r\n  $(\"#CumplimientoNormativo\").attr(\"disabled\", \"disabled\");\r\n  $(\"#EsfuerzoEnTiempo\").attr(\"disabled\", \"disabled\");\r\n  $(\"#EsfuerzoEnCostos\").attr(\"disabled\", \"disabled\");\r\n  $(\"#ReduccionCostos\").attr(\"disabled\", \"disabled\");\r\n  $(\"#TipoBeneficio\").attr(\"disabled\", \"disabled\");\r\n\r\n  //General\r\n  $(\"#Coordinacion\").attr(\"disabled\", \"disabled\");\r\n  $(\"#ComentariosEvaluacion\").attr(\"disabled\", \"disabled\");\r\n  $(\"#DescripcionOportunidad\").attr(\"disabled\", \"disabled\");\r\n  $(\"#Area\").attr(\"disabled\", \"disabled\");\r\n  $(\"#IndicadorAsociado\").attr(\"disabled\", \"disabled\");\r\n\r\n  $(\".sp-peoplepicker-editorInput\").attr(\"disabled\", \"disabled\");\r\n\r\n  $(\"#Colaborador_TopSpan_ResolvedList a\").attr(\"onclick\", \"\");\r\n  $(\"#Colaborador_TopSpan_ResolvedList a\").css(\"cursor\", \"not-allowed\");\r\n  $(\"#AnalistaAsignado_TopSpan_ResolvedList a\").attr(\"onclick\", \"\");\r\n  $(\"#AnalistaAsignado_TopSpan_ResolvedList a\").css(\"cursor\", \"not-allowed\");\r\n  \r\n\r\n  $(\".k-grid-update\").attr(\"disabled\", \"disabled\");\r\n}\r\n\r\n //Function of validation fields\r\n export function validateFields(){\r\n\r\n  var validator = $(\"#tabstrip\").kendoValidator().data(\"kendoValidator\");\r\n\r\n  $(\".k-grid-update\").click(function(){\r\n\r\n    var innovacion1 = $(\"#innovacion1\").prop(\"checked\");\r\n    var innovacion2 = $(\"#innovacion2\").prop(\"checked\");\r\n    // if(){\r\n\r\n    // }\r\n\r\n    var camposVaciosPrincipal = [];\r\n    camposVaciosPrincipal.push(\"<b>PRINCIPAL</b>\");\r\n\r\n    var camposVaciosBeneficios = [];\r\n    camposVaciosBeneficios.push(\"<b>BENEFICIOS</b>\");\r\n\r\n    var camposVaciosGeneral = [];\r\n    camposVaciosGeneral.push(\"<b>GENERAL</b>\");\r\n\r\n    //Campos PRINCIPAL\r\n    if (!validator.validateInput($(\"input[name=EstadoIdea]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Estado de la Idéa</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=UEN]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>UEN</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=NombreOportunidad]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Nombre de la Oportunidad</b> es obligatorio\");\r\n\r\n    }\r\n    if (!validator.validateInput($(\"input[name=Regional]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Regional</b> es obligatorio\");\r\n\r\n    }\r\n    if (!validator.validateInput($(\"input[name=CostoAproximado]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Costo Apróximado</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=Colaborador_TopSpan_HiddenInput]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Colaborador</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=Telefono]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Teléfono</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=Correo]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Correo</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=SitioAplicacion]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Sitio de Aplicación</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=QueProponer]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>¿Qué quieres proponer?</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=AnalistaAsignado_TopSpan_HiddenInput]\"))) {\r\n      camposVaciosPrincipal.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Analista Asignado</b> es obligatorio\");\r\n      \r\n    }\r\n\r\n    //Campos BENEFICIO\r\n    if (!validator.validateInput($(\"input[name=Beneficio]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Beneficio</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=ReduccionCostos]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Beneficio - Reducción Costos</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=BeneficioEstimadoCosto]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Beneficio Estimado Costo</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=AumentoVentas]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Aumento Ventas</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=IncrementoServicio]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Nivel de Servicio</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=CumplimientoNormativo]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Cumplimiento Normativo</b> es obligatorio\");\r\n      \r\n    }\r\n    if (innovacion1 == false && innovacion2 == false) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Proyecto Innovación</b> es obligatorio\");\r\n    }\r\n    if (!validator.validateInput($(\"input[name=EsfuerzoEnTiempo]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Esfuerzo Tiempo</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=EsfuerzoEnCostos]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Esfuerzo Costos</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=TipoBeneficio]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Tipo de Beneficio</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=BeneficioEstimadoServicio]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Beneficio Estimado Servicio</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=BeneficioVenta]\"))) {\r\n      camposVaciosBeneficios.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Beneficio Venta</b> es obligatorio\");\r\n      \r\n    }\r\n\r\n\r\n\r\n    //Campos GENERAL\r\n    if (!validator.validateInput($(\"input[name=Coordinacion]\"))) {\r\n      camposVaciosGeneral.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Coordinación</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"textarea[name=ComentariosEvaluacion]\"))) {\r\n      camposVaciosGeneral.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Comentarios de evaluación</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"textarea[name=DescripcionOportunidad]\"))) {\r\n      camposVaciosGeneral.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Descripción Oportunidad</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=RutaAcceso]\"))) {\r\n      camposVaciosGeneral.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Ruta de Acceso</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=Area]\"))) {\r\n      camposVaciosGeneral.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>Área a la que pertenece</b> es obligatorio\");\r\n      \r\n    }\r\n    if (!validator.validateInput($(\"input[name=IndicadorAsociado]\"))) {\r\n      camposVaciosGeneral.push(\"<span class='k-icon k-i-warning k-i-exception'></span> El campo <b>¿Tiene un Indicador Asociado? ¿Cuál?</b> es obligatorio\");\r\n      \r\n    }\r\n\r\n    if(!(camposVaciosPrincipal.length == 1)){\r\n      var camposObligatoriosPrincipal = camposVaciosPrincipal.join(\"<br><br>\");\r\n    }\r\n\r\n    if(!(camposVaciosBeneficios.length == 1)){\r\n      var camposObligatoriosBeneficio = camposVaciosBeneficios.join(\"<br><br>\");\r\n    }\r\n\r\n    if(!(camposVaciosGeneral.length == 1)){\r\n      var camposObligatoriosGeneral = camposVaciosGeneral.join(\"<br><br>\");\r\n    }\r\n    \r\n    \r\n\r\n    if(camposVaciosPrincipal.length != 1 || camposVaciosBeneficios.length != 1 || camposVaciosGeneral.length != 1){\r\n      showNotificationWindow(camposObligatoriosPrincipal, camposObligatoriosBeneficio, camposObligatoriosGeneral);\r\n    }\r\n\r\n    if(innovacion1 == false && innovacion2 == false){\r\n      return false;\r\n    }\r\n    \r\n  }); \r\n}\r\n\r\n  //Funcion onselect Para Adjuntos \r\n function onSelect(ev: kendo.ui.UploadSelectEvent) {\r\n  let allow = true;\r\n  let arrCh = ['~', '#', '%', '&', '*', '{', '}', '\\\\', ':', '<', '>', '?', '/', '|', '“'];\r\n\r\n  //extraer el nombre\r\n  arrCh.forEach((i) => {\r\n    if (ev.files[0].name.includes(i)) {\r\n      ev.preventDefault();\r\n      allow = false;\r\n\r\n    }\r\n  });\r\n\r\n  //no Acepta Duplicados\r\n  attach.forEach(element => {\r\n    ev.files.forEach(select => {\r\n      if (element[\"name\"] === select[\"name\"]) {\r\n        allow = false;\r\n        ev.preventDefault();\r\n       \r\n      }\r\n    });\r\n  });\r\n\r\n  \r\n  if (allow) {\r\n    let count = 0;\r\n    objUpload.toggle(true);\r\n    ev.files.forEach(element => {\r\n      let reader = new window.FileReader();\r\n      reader.onload = function (e) {\r\n        attach.push({ 'content': e.target.result, 'name': element[\"name\"] });\r\n        count++;\r\n        if (ev.files.length == count) objUpload.toggle(true);\r\n      };\r\n      reader.readAsArrayBuffer(element.rawFile);\r\n    });\r\n  }\r\n }\r\n\r\n  function listAttachments(e){\r\n    \r\n    let currentFile;\r\n    const documentos =  lists.Iniciativas.items.getById(e.model[\"Id\"]).attachmentFiles.get().then(result=>{\r\n      \r\n      currentFile = result[0];\r\n      const listViewDiv = document.createElement(\"div\");\r\n      $(\"#listViewAttachment\").append(listViewDiv);\r\n      $(listViewDiv).kendoListView({    \r\n        dataSource: { data: result },\r\n        remove: async function (ev) {\r\n          ev.preventDefault();\r\n          kendo.ui.progress($(\"#listViewDiv\"), true);\r\n          await lists.Iniciativas.items.getById(e.model[\"Id\"]).attachmentFiles.getByName(ev.model[\"FileName\"]).recycle()\r\n          $(listViewDiv).data(\"kendoListView\").dataSource.remove(ev.model);\r\n          kendo.ui.progress($(\"#listViewDiv\"), false);\r\n        },\r\n        template: (documento) => {\r\n          return `\r\n            <li style=\"list-style-type: decimal;margin-left: 5px; margin-top: 8px; width: auto;\">\r\n              <a style=\"vertical-align: middle;\" target=\"_blank\" href=\"${documento.ServerRelativeUrl}\"> ${documento.FileName}</a>\r\n              <a id=\"btnRemove\" style=\"display:#:visi#\" class=\"k-button k-delete-button\" ><span class=\"k-icon k-i-close\"></span></a>\r\n            </li>\r\n          `;\r\n        }\r\n      })\r\n    });\r\n  }\r\n\r\n  export function NotificationSuccess(msg:string){\r\n    var popupNotification = $(\"#popupNotification\")\r\n    .kendoNotification({\r\n      position: {\r\n        top: 20\r\n      }\r\n    })\r\n    .data(\"kendoNotification\");\r\n  \r\n    popupNotification.show(kendo.toString(msg), \"success\");\r\n  }\r\n  \r\n  export function NotificationError(msg:string){\r\n    var popupNotification = $(\"#popupNotification\")\r\n    .kendoNotification({\r\n      position: {\r\n        top: 20\r\n      },\r\n      autoHideAfter: 10000\r\n    })\r\n    .data(\"kendoNotification\");\r\n  \r\n    popupNotification.show(kendo.toString(msg), \"error\");\r\n  }\r\n\r\n  function showNotificationWindow(data1, data2, data3){\r\n    \r\n    let div = document.createElement(\"div.notificaciones\");\r\n    let windowConfir = $(div).kendoWindow({\r\n      width: \"430px\",\r\n      height: \"200\",\r\n      title: \"Notificación\",\r\n      visible: false,\r\n      content: {\r\n        template:  `\r\n        <div>\r\n        <div>\r\n          ${data1}\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        <div>\r\n          ${data2}\r\n        </div>\r\n\r\n        <hr />\r\n\r\n        <div>\r\n          ${data3}\r\n        </div>\r\n\r\n      </div>\r\n        `\r\n    },\r\n      actions: [\r\n          \"Close\"\r\n      ],\r\n      close: () => {\r\n        windowConfir.destroy();\r\n    },\r\n  }).data(\"kendoWindow\").center().open();\r\n\r\n\r\n  }\r\n}\r\n\r\nexport namespace DataGridIniciativas{\r\n\r\n  export var Historico;\r\n  export var HistoricoEsfuerzo;\r\n\r\n  export function DataGridHistorico(){\r\n    var dataSourceHistorico = new kendo.data.DataSource({\r\n      pageSize: 3,\r\n        transport: {\r\n          read: async (e) => {\r\n            let result = await lists.Historico.items\r\n            .orderBy(\"Created\", false)\r\n            .select(\"*\", \"Author/Title\")\r\n            .expand(\"Author\")\r\n            .filter(\"IdIniciativa eq \" + IniciativasEvents.IdModel)\r\n            .get();\r\n\r\n            for (let index = 0; index < result.length; index++) {\r\n              result[index].Author = result[index].Author.Title;\r\n            }\r\n\r\n            var innovacion = result[0].Innovacion;\r\n            \r\n\r\n            if(innovacion == 0){\r\n                $(\"#innovacion1\").prop(\"checked\", true);\r\n            }else if(innovacion == 5){\r\n                $(\"#innovacion2\").prop(\"checked\", true);\r\n            }\r\n            \r\n            \r\n            e.success(result);\r\n          }\r\n        },\r\n        schema: {\r\n          model: {\r\n            id: \"Id\",\r\n            fields: {\r\n              Title: { type: \"string\" },\r\n              Created: {type: \"Date\", template: \"#= kendo.toString(kendo.parseDate(Created), 'dd-MM-yyyy'); #\"},\r\n            }\r\n          }\r\n        }\r\n    });\r\n  \r\n    const grid = $(\"#gridHistorico\")\r\n      .kendoGrid({\r\n        columns: [\r\n          { field: \"Created\", title: \"Fecha\", format: \"{0: dd-MM-yyyy}\" },\r\n          { field: \"Author\", title: \"Autor\" },\r\n          { field: \"ReduccionCostos\", title: \"Reducción Costos\" },\r\n          { field: \"AumentoVentas\", title: \"Aumento Ventas\" },\r\n          { field: \"NivelDeServicio\", title: \"Nivel de Servicio\" },\r\n          // { field: \"Innovacion\", title: \"Innovación\" },\r\n          { field: \"BeneficioCalculado\", title: \"Beneficio Calculado\", attributes: { \"class\": \"hola\", style: \"background: rgb(252, 220, 25); color: rgb(222, 0, 0)\" } }\r\n        ],\r\n        autoBind: true,\r\n        dataSource: dataSourceHistorico,\r\n        pageable: {\r\n          buttonCount: 3\r\n        },\r\n        editable: {\r\n          mode: \"popup\",\r\n          //template: PuntajeTemplate.getTemplate(),\r\n          window: { title: \"Puntaje\" }\r\n        },\r\n        sortable: true,\r\n        selectable: true\r\n      })\r\n      .data(\"kendoGrid\");\r\n  }\r\n\r\n  export function DataGridHistoricoEsfuerzo(){\r\n    var dataSourceHistoricoEsfuerzo = new kendo.data.DataSource({\r\n      pageSize: 3,\r\n        transport: {\r\n          read: async (e) => {\r\n            let result = await lists.HistoricoEsfuerzo.items\r\n            .orderBy(\"Created\", false)\r\n            .select(\"*\", \"Author/Title\")\r\n            .expand(\"Author\")\r\n            .filter(\"IdIniciativa eq \" + IniciativasEvents.IdModel)\r\n            .get();\r\n\r\n            for (let index = 0; index < result.length; index++) {\r\n              result[index].Author = result[index].Author.Title;\r\n            }\r\n            \r\n            e.success(result);\r\n          }\r\n        },\r\n        schema: {\r\n          model: {\r\n            id: \"Id\",\r\n            fields: {\r\n              Title: { type: \"string\" },\r\n              Created: {type: \"Date\", template: \"#= kendo.toString(kendo.parseDate(Created), 'dd-MM-yyyy'); #\"},\r\n            }\r\n          }\r\n        }\r\n    });\r\n\r\n      const grid2 = $(\"#gridHistoricoBeneficio\")\r\n      .kendoGrid({\r\n        columns: [\r\n          { field: \"Created\", title: \"Fecha\", format: \"{0: dd-MM-yyyy}\" },\r\n          { field: \"Author\", title: \"Autor\" },\r\n          { field: \"EsfuerzoTiempo\", title: \"Esfuerzo Tiempo\" },\r\n          { field: \"EsfuerzoCostos\", title: \"Esfuerzo Costos\" },\r\n          { field: \"EsfuerzoCalculado\", title: \"Esfuerzo Calculado\", attributes: { style: \"background: rgb(252, 220, 25); color: rgb(222, 0, 0)\" } },\r\n          { field: \"EB\", title: \"E * B\", attributes: { style: \"background: rgb(252, 220, 25); color: rgb(222, 0, 0)\" } }\r\n        ],\r\n        autoBind: true,\r\n        dataSource: dataSourceHistoricoEsfuerzo,\r\n        pageable: {\r\n          buttonCount: 3\r\n        },\r\n        editable: {\r\n          mode: \"popup\",\r\n          //template: PuntajeTemplate.getTemplate(),\r\n          window: { title: \"Puntaje\" }\r\n        },\r\n        sortable: true,\r\n        selectable: true\r\n      })\r\n      .data(\"kendoGrid\");\r\n  }\r\n}\r\n\r\nexport namespace PromoteProjectOnline{\r\n\r\n  export function promoteClick(e) {\r\n\r\n    let dataItem =  e.model;\r\n\r\n    console.log(dataItem);\r\n    window.promoteBl = PromoteBl;\r\n\r\n    let div = document.createElement(\"div\");\r\n\r\n    //window.waitDialog;\r\n\r\n    const windowConfir = $(div).kendoWindow({\r\n        visible: false,\r\n        width: \"430px\",\r\n        title: \"Notificación\",\r\n        modal: true,\r\n        draggable: false,\r\n        content: {\r\n            template: getTemplateDialog(dataItem)\r\n        },\r\n        close: () => {\r\n            windowConfir.destroy();\r\n        },\r\n    }).data(\"kendoWindow\").center().open();\r\n\r\n    let validationForm = $(\"#formConf\").kendoValidator().data(\"kendoValidator\");\r\n\r\n    $(\"#yesButton\").click(async (btnE) => {\r\n        btnE.preventDefault();\r\n        if (validationForm.validate()) {\r\n            //windowConfir.destroy();\r\n            let timer: number, idPro: string;\r\n            //kendo.ui.progress($(\"#GridIniciativas\"), true);\r\n\r\n            let divd = document.createElement(\"div\");\r\n            let windowDialog = $(divd)\r\n                .kendoDialog({\r\n                    modal: true,\r\n                    closable: false,\r\n                    content: `\r\n                <p class=\"se-msn-loading\">Creando proyecto...</p>\r\n                `,\r\n                }).data(\"kendoDialog\").open();\r\n\r\n\r\n            let checker = async () => {\r\n                clearInterval(timer);\r\n                let responseCheckOut = await PromoteBl.checkOutProject(idPro, FormDigestValue);\r\n\r\n                let checkOut = await responseCheckOut.json();\r\n\r\n\r\n                if (responseCheckOut.ok) {\r\n                    updateCustomFields(dataItem, idPro, FormDigestValue,windowDialog);\r\n                }\r\n                else {\r\n                    timer = setInterval(checker, 5000);\r\n                  //  console.log(checkOut);\r\n                }\r\n\r\n            };\r\n\r\n            let result = await PromoteBl.getContextInfoPWA();\r\n            let context = await result.json();\r\n            let FormDigestValue = context.d.GetContextWebInformation.FormDigestValue;\r\n\r\n            var objRegistro = {\r\n                parameters: {\r\n                    Name: dataItem.NombreOportunidad,\r\n                    // EnterpriseProjectTypeId: $(\"#tipoProyecto\").val()\r\n                }\r\n            }\r\n            windowConfir.destroy();\r\n            let responseProject = await PromoteBl.createProject(objRegistro, FormDigestValue);\r\n            let project = await responseProject.json();\r\n            if (!responseProject.ok) {\r\n                if (project.error.message.value.includes(\"ProjectNameAlreadyExists\")){\r\n                    IniciativasEvents.NotificationError(\"El proyecto ya existe en PWA.\");\r\n                    windowDialog.close();\r\n                }else if (project.error.message.value.includes(\"ProjectNameInvalid\")){\r\n                  IniciativasEvents.NotificationError(\"Nombre de proyecto no valido.\");\r\n                }else {\r\n                    IniciativasEvents.NotificationError(\"Error al crear el proyecto.\");\r\n                    alert(project.error.message.value);\r\n                }\r\n                return;\r\n            }\r\n            //window.waitDialog.close(SP.UI.DialogResult.OK);\r\n            IniciativasEvents.NotificationSuccess(\"Proyecto creado con éxito.\");\r\n            windowDialog.close();\r\n            windowDialog.content('<p class=\"se-msn-loading\">Actualizando campos personalizados...</p>');\r\n            windowDialog.open();\r\n\r\n            //IniciativaBL.setIniciativa(dataItem.Id);\r\n\r\n\r\n            idPro = project[\"d\"].Id;\r\n            \r\n            //updateCustomFields(dataItem, idPro, FormDigestValue);\r\n            timer = setInterval(checker, 5000);\r\n\r\n        }\r\n    });\r\n\r\n    $(\"#noButton\").click(async (btnE) => {\r\n        btnE.preventDefault();\r\n        windowConfir.destroy();\r\n    });\r\n\r\n    let ddltp = $(\"#tipoProyecto\").kendoDropDownList({\r\n        dataSource: {\r\n            transport: {\r\n                read: async e => {\r\n                    e.success(await PromoteBl.getEnterpriseProjectTypes());\r\n                }\r\n            },\r\n        },\r\n        dataTextField: \"Name\",\r\n        dataValueField: \"Id\",\r\n        optionLabel: \"Seleccione tipo de proyecto...\",\r\n        autoWidth: true,\r\n    }).data(\"kendoDropDownList\");\r\n\r\n  }\r\n\r\n  async function updateCustomFields(data: any, idPro, FormDigestValue,control) {\r\n\r\n\r\n  let objCustomFields = { customFieldDictionary: [] };\r\n\r\n  // customFielPWA.fields.forEach(function (field, i) {\r\n  //     let setValue: string;\r\n\r\n  //     // var uen = $(\"#UEN\").data(\"kendoDropDownList\").dataItem().GUID_ID;\r\n  //     // console.log(uen);\r\n      \r\n  //     // var alineacionItinerario = $(\"#AlineacionItinerario\").data(\"kendoMultiSelect\").dataItems().GUID_ID;\r\n  //     // var alineacionMetas = $(\"#AlineacionMetas\").data(\"kendoMultiSelect\").dataItems().GUID_ID;\r\n  //     // var beneficios = $(\"#Beneficios\").data(\"kendoMultiSelect\").dataItems().GUID_ID;\r\n  //     // var publicoImpactado = $(\"#PublicoImpactado\").data(\"kendoMultiSelect\").dataItems().GUID_ID;\r\n\r\n  //     // switch (field.campo) {\r\n  //     //     case \"Unidad Negocio\": //DropDown       \r\n  //     //         if(data[\"UEN\"]){\r\n\r\n  //     //           setValue = \"Entry_\" + field.lookup.find(f => f.value == data[\"UEN\"]).key.replace(/-/g, \"\");\r\n  //     //         }\r\n              \r\n  //     //         console.log(setValue);\r\n  //     //         break;\r\n          \r\n  //         // case \"Alineación Itinerario\"://MultiSelect\r\n  //         //     if(data[\"AlineacionItinerario\"]){\r\n  //         //       setValue = \"\";\r\n  //         //       data[\"AlineacionItinerario\"].forEach(function(item){  \r\n  //         //           let ele = field.lookup.find(f => f.value == item.Valor).key;              \r\n  //         //           setValue += ele.replace(/-/g,\"\") + \";#\";\r\n  //         //           console.log(setValue);\r\n  //         //       });\r\n  //         //     }\r\n              \r\n  //         //     break;\r\n          \r\n  //         // case \"Beneficios\"://MultiSelect\r\n  //         //     if(data[\"Beneficios\"]){\r\n  //         //       setValue = \"\";\r\n  //         //       data[\"Beneficios\"].forEach(function(item){  \r\n  //         //         let ele = field.lookup.find(f => f.value == item.Valor).key;              \r\n  //         //         setValue += ele.replace(/-/g,\"\") + \";#\";\r\n  //         //         console.log(setValue);\r\n  //         //       });\r\n  //         //     }\r\n  //         //     break;\r\n\r\n  //         // case \"Restricciones iniciales\":\r\n  //         //     setValue = data[\"Restricciones\"];\r\n  //         //     break;\r\n\r\n  //         // case \"Riesgos Iniciales\":\r\n  //         //     setValue = data[\"RiesgosIniciales\"];\r\n  //         //     break;\r\n\r\n  //         // case \"Público Impactado\"://MultiSelect\r\n  //         //     if(data[\"PublicoImpactado\"]){\r\n  //         //       setValue = \"\";\r\n  //         //       data[\"PublicoImpactado\"].forEach(function(item){  \r\n  //         //         let ele = field.lookup.find(f => f.value == item.Valor).key;              \r\n  //         //         setValue += ele.replace(/-/g,\"\") + \";#\";\r\n  //         //         console.log(setValue);\r\n  //         //       });\r\n  //         //     }\r\n  //         //     break;\r\n\r\n  //         // case \"Patrocinador\":\r\n  //         //   if(data[\"Patrocinador\"]){\r\n  //         //     setValue = \"\";\r\n  //         //     data[\"Patrocinador\"].forEach(element => {\r\n  //         //       setValue += element.Title + \",\";\r\n  //         //     });\r\n  //         //   }\r\n              \r\n  //         //     break;\r\n  //     //}\r\n\r\n  //     if (setValue) {\r\n  //         objCustomFields.customFieldDictionary.push({\r\n  //             Key: \"Custom_\" + field.id.replace(/-/g, \"\"),\r\n  //             ValueType: \"Edm.\" + field.type,\r\n  //             Value: setValue\r\n  //         });\r\n  //     }\r\n\r\n\r\n  // });\r\n  \r\n\r\n\r\n  let responseCustomFields = await PromoteBl.updateCustomFields(idPro, FormDigestValue, objCustomFields);\r\n\r\n  let customFields = await responseCustomFields.json();\r\n\r\n  if (responseCustomFields.ok) {\r\n      let responseCheckIn = await PromoteBl.checkInProject(idPro, FormDigestValue);\r\n\r\n      let checkIn = await responseCheckIn.json();\r\n\r\n      if (responseCheckIn.ok) {\r\n          control.close();\r\n          control.destroy();\r\n          IniciativasEvents.NotificationSuccess(\"Campos personalizados actualizados con éxito.\");\r\n          \r\n          //Setear el valor Promovido en el dropdown\r\n          \r\n\r\n          $(\"#promovido\").attr(\"checked\", \"checked\");\r\n          $(\".k-grid-update\").trigger(\"click\");\r\n\r\n          \r\n          $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n          \r\n      }\r\n\r\n  } else {\r\n      IniciativasEvents.NotificationError(\"Error actualizando los campos personalizados.\");\r\n      IniciativasEvents.NotificationError(customFields.error.message.value);\r\n      console.log(customFields.error.message.value);\r\n  }\r\n\r\n  }\r\n} ","import { ui } from \"../Utilities/utils\";\r\n\r\n\r\n\r\nconst { renderFieldDetail } = ui;\r\n\r\nconst Encargado = renderFieldDetail({ id: \"Encargado\", className: \"input\", title: \"Encargado\", type: \"input\", name: \"Encargado\", others: \"\", value: \"Encargado\" })\r\nconst Estado = renderFieldDetail({ id: \"Estado\", className: \"input\", title: \"Estado\", type: \"input\", name: \"Estado\", others: \"\", value: \"Estado\" })\r\nconst Comentario = renderFieldDetail({ id: \"Comentario\", className: \"input textarea\", title: \"Comentario\", type: \"textarea\", name: \"Comentario\", others: \"\", value: \"Comentario\" })\r\n\r\n\r\n\r\n/**\r\n * Funcion que pemite devolver un String \r\n */\r\nexport function getTemplate(): string {\r\n    return `\r\n    <div class=\"tabstrip-valoracion\" id=\"tabstrip\">\r\n        <ul>\r\n            <li class=\"k-state-active\"></li>\r\n        </ul>\r\n\r\n\r\n        <div class=\"edit-container\"><br>\r\n            <div class=\"columns\">\r\n                <div class=\"column is-6\">\r\n                    <div class=\"column is-10\">\r\n                        ${Encargado}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Patrocinador\"></span>\r\n                    </div>\r\n\r\n                    <div class=\"column is-10\">\r\n                        <fieldset class = \"box\"id = \"boxApprover\">\r\n                            <div id=\"radio-md\">\r\n                                <legend class=\"label\">Estado Valoración</legend>\r\n                                <div class=\"content-radio\">\r\n                                    <input type=\"radio\" class=\"k-radio\" id=\"aprobado\" name=\"gender1\" value=\"aprobado\">\r\n                                    <label for=\"aprobado\">Aprobado</label><br>\r\n                                </div>\r\n                                \r\n                                <div class=\"content-radio\">\r\n                                    <input type=\"radio\" class=\"k-radio\" id=\"rechazado\" name=\"gender1\" value=\"rechazado\">\r\n                                    <label for=\"rechazado\">Rechazado</label><br>\r\n                                </div>\r\n                            </div>\r\n                        </fieldset>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class=\"column is-6\">\r\n\r\n                    <div class=\"column is-10\">\r\n                        ${Comentario}\r\n                        <span class=\"k-invalid-msg\" data-for=\"Patrocinador\"></span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n  \r\n\r\n    <div id =\"load\"></div> \r\n    `;\r\n\r\n}","import { ComiteValoracionController } from \"../Controller/ComiteValoracionController\";\r\nimport { DataController } from \"../Controller/IniciativasController\";\r\nimport { lists } from \"../Utilities/utils\";\r\nimport { LimitedWebPartManager } from \"@pnp/sp/webparts\";\r\n\r\nexport namespace DataComite{\r\n    export var comite2: boolean;\r\n\r\n    export async function updateData(data: any){\r\n        delete data.gender1;\r\n        delete data.Title;\r\n\r\n        if($(\"#aprobado\").prop(\"checked\")){\r\n            data.Estado = \"aprobado\";\r\n        }\r\n\r\n        if($(\"#rechazado\").prop(\"checked\")){\r\n            data.Estado = \"rechazado\";\r\n        }\r\n\r\n        await ComiteValoracionController.update(data);\r\n\r\n        let cv = await ComiteValoracionController.validarDiligenciamientoComiteValoracion(data.IdIniciativa);\r\n        let cgd = await ComiteValoracionController.validarDiligenciamientoComiteGestionDemanda(data.IdIniciativa);\r\n        let cp = await ComiteValoracionController.validarDiligenciamientoComitePatrocinadores(data.IdIniciativa);\r\n        let eprod = await ComiteValoracionController.validarDiligenciamientoEquipoProductividad(data.IdIniciativa);\r\n        let eproy = await ComiteValoracionController.validarDiligenciamientoEquipoProyectos(data.IdIniciativa);\r\n\r\n        if(data.Fase == \"CV\"){\r\n            if(!(cv.length >= 1)){\r\n                movimientoFase1(data);\r\n            }\r\n        }\r\n\r\n        if(data.Fase == \"CGD\"){\r\n            if(!(cgd.length >= 1)){\r\n                movimientoFase3(data);\r\n            }\r\n        }\r\n\r\n        if(data.Fase == \"CP\"){\r\n            if(!(cp.length >= 1)){\r\n                movimientoFase4(data);\r\n            }\r\n        }\r\n\r\n        if(data.Fase == \"EProd\"){\r\n            if(!(eprod.length >= 1)){\r\n                movimientoFase2A(data);\r\n            }\r\n        }\r\n\r\n        if(data.Fase == \"EProy\"){\r\n            if(!(eproy.length >= 1)){\r\n                movimientoFase2B(data);\r\n            }\r\n        }\r\n    }\r\n\r\n    export async function movimientoFase1(data){\r\n        // Obtener cantidad de encargados\r\n        let encargados = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CV'\");\r\n        // Obtener cantidad de aprobaciones\r\n        let aprobados = await ComiteValoracionController.aprobacionesComiteValoracion(data.IdIniciativa);\r\n\r\n        let porcentaje = encargados[0].Peso * aprobados.length;\r\n        \r\n        \r\n        if(porcentaje >= encargados[0].Tope){\r\n\r\n            // Obtener el campo Continuidad\r\n            let continuidad = await lists.Iniciativas.items.filter(\"Id eq \" + data.IdIniciativa).get();\r\n            // Validar si es un proyecto de cntinuidad\r\n            if(continuidad[0].Continuidad == true){\r\n\r\n                \r\n\r\n                let datos = {\r\n                    NotificacionContinuidad: true,\r\n                    Fase: \"Evaluación Equipo de Productividad\",\r\n                    Notificacion: true,\r\n                    Requester: false\r\n                }\r\n                await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n\r\n                let encargadosEProd = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'EProd'\");\r\n                ComiteValoracionController.insertarEquipoProductividad(encargadosEProd, data.IdIniciativa);\r\n                ComiteValoracionController.insertarEProd(encargadosEProd, data.IdIniciativa);\r\n            }else{\r\n\r\n                \r\n\r\n                let datos = {\r\n                    NotificacionContinuidad: true,\r\n                    Fase: \"Evaluación Equipo de Proyectos\",\r\n                    Notificacion: true,\r\n                    Requester: false\r\n                }\r\n                await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n\r\n                let encargadosEProy = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'EProy'\");\r\n                ComiteValoracionController.insertarEquipoProyectos(encargadosEProy, data.IdIniciativa);\r\n                ComiteValoracionController.insertarEProy(encargadosEProy, data.IdIniciativa);\r\n            }\r\n\r\n            $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n        }else{\r\n\r\n            let result = await lists.Iniciativas.items\r\n            .filter(\"Id eq \"+data.IdIniciativa)\r\n            .get();\r\n\r\n            if(result[0].contador_aplazadas == true){\r\n                ComiteValoracionController.vaciarEncargados(data.IdIniciativa);\r\n                \r\n                let devolucion2 = {\r\n                    Fase: \"Cerrada\",\r\n                    Requester: false,\r\n                    Estado: \"descalificada\"\r\n                };\r\n    \r\n                await lists.Iniciativas.items.getById(data.IdIniciativa).update(devolucion2);\r\n    \r\n                $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n            }else{\r\n                let devolucion = {\r\n                    Fase: \"Aplazada\",\r\n                    Requester: true,\r\n                    Notificacion: true,\r\n                    contador_aplazadas: true,\r\n                    Estado: \"aplazada\"\r\n                };\r\n\r\n                await lists.Iniciativas.items.getById(data.IdIniciativa).update(devolucion);\r\n\r\n                $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n            }\r\n            \r\n            \r\n            \r\n        }\r\n    }\r\n\r\n    export async function movimientoFase2A(data){\r\n\r\n        comite2 = true;\r\n\r\n        let datos = {\r\n            NotificacionContinuidad: true,\r\n            Notificacion: true,\r\n            Requester: false,\r\n            Fase: \"Comité Gestión de la Demanda\"\r\n        }\r\n        await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n\r\n\r\n        let encargados2 = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CGD'\");\r\n        ComiteValoracionController.insertarEncargadosComiteGestionDemanda(encargados2, data.IdIniciativa);\r\n        ComiteValoracionController.insertarEncargadosCGD(encargados2, data.IdIniciativa);\r\n\r\n        $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n    }\r\n\r\n    export async function movimientoFase2B(data){\r\n\r\n        comite2 = true;\r\n\r\n        let datos = {\r\n            NotificacionContinuidad: true,\r\n            Notificacion: true,\r\n            Requester: false,\r\n            Fase: \"Comité Gestión de la Demanda\"\r\n        }\r\n        await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n\r\n\r\n        let encargados2 = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CGD'\");\r\n        ComiteValoracionController.insertarEncargadosComiteGestionDemanda(encargados2, data.IdIniciativa);\r\n        ComiteValoracionController.insertarEncargadosCGD(encargados2, data.IdIniciativa);\r\n\r\n        $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n    }\r\n\r\n    export async function movimientoFase3(data){\r\n        // Obtener cantidad de encargados\r\n        let encargados = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CGD'\");\r\n        // Obtener cantidad de aprobaciones\r\n        let aprobados = await ComiteValoracionController.aprobacionesComiteGestionDemanda(data.IdIniciativa);\r\n\r\n        let porcentaje = encargados[0].Peso * aprobados.length;\r\n        \r\n        \r\n        if(porcentaje >= encargados[0].Tope){\r\n\r\n            // Obtener el campo Continuidad\r\n            let continuidad = await lists.Iniciativas.items.filter(\"Id eq \" + data.IdIniciativa).get();\r\n            \r\n            let encargadosCP = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CP'\");\r\n            ComiteValoracionController.insertarEncargadosComitePatrocinadores(encargadosCP, data.IdIniciativa);\r\n            ComiteValoracionController.insertarEncargadosCP(encargadosCP, data.IdIniciativa);\r\n\r\n            let datos = {\r\n                NotificacionContinuidad: true,\r\n                Fase: \"Comité Patrocinador\",\r\n                Notificacion: true,\r\n                Requester: false\r\n            }\r\n            await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n\r\n            $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n        }else{\r\n\r\n            ComiteValoracionController.vaciarEncargados(data.IdIniciativa);\r\n\r\n            let result = await lists.Iniciativas.items\r\n            .filter(\"Id eq \"+data.IdIniciativa)\r\n            .get();\r\n\r\n            \r\n            let devolucion2 = {\r\n                Fase: \"Cerrada\",\r\n                Requester: false,\r\n                Estado: \"rechazada\"\r\n            };\r\n\r\n            await lists.Iniciativas.items.getById(data.IdIniciativa).update(devolucion2);\r\n\r\n            $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n        }\r\n    }\r\n\r\n    export async function movimientoFase4(data){\r\n        let encargados2 = await ComiteValoracionController.obtenerEncargados(\"Fase eq 'CP'\");\r\n        let aprobados2 = await ComiteValoracionController.aprobacionesComitePatrocinadores(data.IdIniciativa);\r\n\r\n        let porcentaje = encargados2[0].Peso * aprobados2.length;\r\n\r\n        if(porcentaje >= encargados2[0].Tope){\r\n            ComiteValoracionController.vaciarEncargados(data.IdIniciativa);\r\n\r\n            let datos = {\r\n                Estado: \"aprobada\",\r\n                Fase: \"Cerrada\"\r\n            }\r\n            await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n            $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n\r\n        }else{\r\n            ComiteValoracionController.vaciarEncargados(data.IdIniciativa);\r\n\r\n            let datos = {\r\n                Estado: \"descartada\",\r\n                Fase: \"Cerrada\"\r\n            }\r\n            await lists.Iniciativas.items.getById(data.IdIniciativa).update(datos);\r\n            $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n        }\r\n    }\r\n}\r\n\r\nexport namespace ComiteEvents{\r\n    export function edit(ev: kendo.ui.GridEditEvent){\r\n        var tabstrip = $(\"#tabstrip\").kendoTabStrip().data(\"kendoTabStrip\");\r\n\r\n        $(\".k-grid-update\").html(\"<span class='k-icon k-i-check'></span>GUARDAR\");\r\n        $(\".k-grid-cancel\").html(\"<span class='k-icon k-i-cancel'></span>CANCELAR\");\r\n\r\n        $(\"#Encargado\").attr(\"disabled\", \"disabled\");\r\n\r\n        $(\".tabstrip-valoracion\").closest(\".k-window\").css(\"transform\", \"translateY(-50px)\");\r\n\r\n        if(!(ev.model.isNew())){\r\n\r\n            if(ev.model[\"Fase\"] == \"EProd\" || ev.model[\"Fase\"] == \"EProy\"){\r\n                $(\"#boxApprover\").css(\"display\", \"none\");\r\n            }\r\n            \r\n            if(ev.model[\"Estado\"] == \"aprobado\"){\r\n                $(\"#aprobado\").prop(\"checked\", true);\r\n            }\r\n\r\n            if(ev.model[\"Estado\"] == \"rechazado\"){\r\n                $(\"#rechazado\").prop(\"checked\", true);\r\n            }\r\n\r\n            $(\".k-grid-cancel, .k-i-close\").click(function(){\r\n                $(\"#grid\").data(\"kendoGrid\").dataSource.read();\r\n            });\r\n\r\n            if(ev.model[\"Fase\"] == \"EProd\"){\r\n                ev.model[\"EProductividadCompletado\"] = true;\r\n                ev.model[\"Estado\"] = \"diligenciado\";\r\n            }\r\n\r\n            if(ev.model[\"Fase\"] == \"EProy\"){\r\n                ev.model[\"EProyectosCompletado\"] = true;\r\n                ev.model[\"Estado\"] = \"diligenciado\";\r\n            }\r\n        }\r\n    }\r\n}","import \"./Style/Styles.css\";\r\nimport * as IniciativaTemplate from \"./Template/IniciativasTemplate\";\r\nimport { IniciativasEvents ,DataIniciativas } from \"./BusinessLogic/IniciativasBL\";\r\nimport { lists } from \"./Utilities/utils\";\r\nimport * as ComiteTemplate from \"./Template/ComiteValoracionTemplate\";\r\nimport { ComiteEvents, DataComite } from \"./BusinessLogic/ComiteValoracionBL\";\r\n\r\n/* Si a la url se le pasa por parametro el Id de la inciativa, \r\n   se hace el filtro para que muestre solo ese registro.\r\n*/\r\nexport var filtro;\r\n\r\nlet Url = window.location.href.split(\"=\");\r\n\r\nif(Url.length > 1){\r\n    var id = parseInt(Url[1]);\r\n    filtro = \"Id eq \"+\"'\"+id+\"'\";\r\n}else{\r\n    filtro = \"\";\r\n}\r\n\r\nvar dataSource = \r\nnew kendo.data.DataSource({\r\n    pageSize: 8,\r\n    transport: {\r\n        read: async (ev) => {\r\n            let result = await DataIniciativas.ReadData(filtro);\r\n            \r\n            ev.success(result);\r\n        },\r\n        create: async (ev) => {\r\n            await DataIniciativas.CreateData(ev.data);\r\n            dataSource.read();\r\n        },\r\n        update: async (ev) => {\r\n            await DataIniciativas.UpDate(ev.data);\r\n            dataSource.read();\r\n        },\r\n        destroy: async (ev) => {\r\n            await DataIniciativas.destroyData(ev.data);\r\n            dataSource.read();\r\n        }\r\n    },\r\n    schema: {\r\n        model: {\r\n            id: \"Id\",\r\n            fields: {\r\n                Title: { type: \"string\" },\r\n                EstadoIdeaId: { type: \"number\" },\r\n                UENId: { type: \"number\" },\r\n                RegionalId: { type: \"number\" },\r\n                QueProponerId: { type: \"number\" },\r\n                ReduccionCostosId: { type: \"number\" },\r\n                AumentoVentasId: { type: \"number\" },\r\n                IncrementoServicioId: { type: \"number\" },\r\n                CumplimientoNormativoId: { type: \"number\" },\r\n                ProyectoInnovacionId: { type: \"number\" },\r\n                BeneficioEstimadoServicioId: { type: \"number\" },\r\n                BeneficioEstimadoCostoId: { type: \"number\" },\r\n                BeneficioVentaId: { type: \"number\" },\r\n                EsfuerzoEnTiempoId: { type: \"number\" },\r\n                EsfuerzoEnCostosId: { type: \"number\" },\r\n                CoordinacionId: { type: \"number\" },\r\n                CalificacionId: { type: \"number\" },\r\n                AreaId: { type: \"number\" },\r\n                Created: { type: \"Date\", template: '#= kendo.toString(kendo.parseDate(Created), \"dd-MM-yyyy\" ) #' }\r\n            }\r\n        }\r\n    }\r\n});\r\n\r\n\r\n\r\nlet comando = [];\r\n\r\nlists.GrupoIniciativas.items\r\n.filter(String.format(\"ResponsablesId eq '{0}' and Title eq 'Responsables Iniciativas'\", _spPageContextInfo.userId))\r\n.get().then(result => {\r\n\r\n  \r\n\r\n                if (result.length>0) {\r\n                    comando.push(\r\n                        { \r\n                            name: \"edit\", \r\n                            text: \"EDITAR\", \r\n                            iconClass: \"k-icon k-i-edit no-margin\"\r\n                        },\r\n                        { \r\n                            name: \"delete\",\r\n                            text: \"ELIMINAR\"\r\n                        }\r\n                    );\r\n                }else{\r\n                    comando.push(\r\n                        { \r\n                            name: \"edit\", \r\n                            text: \"EDITAR\", \r\n                            iconClass: \"k-icon k-i-edit no-margin\",\r\n                            visible: function(dataItem){\r\n                                if(dataItem.Fase == \"Requester\" && dataItem.AuthorId == _spPageContextInfo.userId){\r\n                                    return true;\r\n                                }\r\n\r\n                                if(dataItem.Fase == \"Aplazada\" && dataItem.AuthorId == _spPageContextInfo.userId){\r\n                                    return true;\r\n                                }\r\n\r\n                                if(dataItem.ResponsablesComiteId != null){\r\n                                    let count = 0;\r\n                                    for(let i = 0; i < dataItem.ResponsablesComiteId.length; i++){\r\n                                      \r\n                                      if(dataItem.ResponsablesComiteId[i] == _spPageContextInfo.userId){\r\n                                        count += 1\r\n                                      }\r\n                                    }\r\n          \r\n                                    if(count > 0){\r\n                                      return true;\r\n                                    }else{\r\n                                        return false;\r\n                                      }\r\n                                      \r\n                                    \r\n                                  }\r\n                            }\r\n                        },\r\n                    );\r\n                }\r\n\r\nconst grid = $(\"#grid\").kendoGrid({\r\n    columns: [\r\n        { field: \"Id\", title: \"ID\", filterable: { multi: true, search: true}, width: 150 },\r\n        { field: \"NombreOportunidad\", title: \"Nombre de la oportunidad\", filterable: { multi: true, search: true}, width: 600 },\r\n        { field: \"Estado\", title: \"Estado\", template: templateEstado, filterable: { multi: true, search: true}, width: 200 },\r\n        { field: \"Fase\", title: \"Fase\", filterable: { multi: true, search: true}, width: 400 },\r\n\r\n        { command: comando}\r\n    ],\r\n    editable: {\r\n       mode: \"popup\",\r\n       template: IniciativaTemplate.GetTemplate(),\r\n       window: { title: \"Iniciativas\" }\r\n   },\r\n    edit: IniciativasEvents.edit,\r\n    autoBind: true,\r\n    toolbar: [{\r\n        name: \"create\",\r\n        text: \"Nueva Iniciativa\",\r\n    }],\r\n    dataSource: dataSource,\r\n    filterable: true,\r\n    pageable: {\r\n        alwaysVisible: false,\r\n        pageSizes: [6, 12, 24, 50, 100],\r\n        buttonCount: 3\r\n    },\r\n    sortable: true,\r\n    selectable: true,\r\n    groupable: {\r\n        messages: {\r\n          empty: \"Arrastre el encabezado de una columna y suéltelo aquí para agrupar por esa columna\"\r\n        }\r\n    },\r\n    detailInit: detailInit\r\n}).data(\"kendoGrid\");\r\n\r\n});\r\n\r\n\r\nfunction templateEstado(item) {\r\n    var clase;\r\n    switch (item.Estado) {\r\n        case \"espera\":\r\n            clase = \"k-i-clock\";\r\n            break;\r\n        case \"aprobada\":\r\n            clase = \"k-i-check-circle\";\r\n            break;\r\n        case \"aplazada\":\r\n            clase = \"k-i-clock\";\r\n            break;\r\n        case \"rechazada\":\r\n            clase = \"k-i-close-circle\";\r\n            break;\r\n        case \"descartada\":\r\n            clase = \"k-i-close-circle\";\r\n            break;\r\n        case \"descalificada\":\r\n            clase = \"k-i-close-circle\";\r\n            break;\r\n    \r\n    }\r\n    return String.format(\"<span style='font-size: 20px;' class='k-icon {0}'></span>\", clase);\r\n}\r\n\r\nfunction templateEstadoComite(item) {\r\n    var clase;\r\n    switch (item.Estado) {\r\n        case \"espera\":\r\n            clase = \"k-i-clock\";\r\n            break;\r\n        case \"aprobado\":\r\n            clase = \"k-i-check-circle\";\r\n            break;\r\n        case \"rechazado\":\r\n            clase = \"k-i-close-circle\";\r\n            break;\r\n        case \"equipo\":\r\n            clase = \"k-i-plus-circle\";\r\n            break;\r\n        case \"diligenciado\":\r\n            clase = \"k-i-plus-circle\";\r\n            break;\r\n    \r\n    }\r\n    return String.format(\"<span style='font-size: 20px;' class='k-icon {0}'></span>\", clase);\r\n}\r\n\r\nfunction templateFase(item) {\r\n    var label;\r\n    switch (item.Fase) {\r\n        case \"CV\":\r\n            label = \"Comité de Valoración\";\r\n            break;\r\n        case \"CGD\":\r\n            label = \"Comité Gestion Demanda\";\r\n            break;\r\n        case \"EProd\":\r\n            label = \"Equipo de Productividad\";\r\n            break;\r\n        case \"EProy\":\r\n            label = \"Equipo de Proyectos\";\r\n            break;\r\n        case \"Aplazada\":\r\n            label = \"Comité de Valoración (Aplazada)\";\r\n            break;\r\n        case \"CP\":\r\n            label = \"Comité Patrocinador\";\r\n            break;\r\n    \r\n    }\r\n    return String.format(\"<span style='font-size: 16px;'>{0}</span>\", label);\r\n}\r\n\r\n\r\nasync function detailInit(e) {\r\n\r\n    $(\"<div/>\").appendTo(e.detailCell).kendoGrid({\r\n        dataSource: {\r\n            transport: {\r\n                read: async (ev) => {\r\n                    await lists.ComiteValoracion.items\r\n                    .select(\"*\", \"Encargado/Title\")\r\n                    .expand(\"Encargado\")\r\n                    .filter(\"IdIniciativa eq \" +e.data.Id)\r\n                    .get()\r\n                    .then(result => {\r\n                        for(let i = 0; i < result.length; i++){\r\n                            if(result[i].Encargado){\r\n                                result[i].Encargado = result[i].Encargado[0].Title;\r\n                            }\r\n                        }\r\n                        \r\n                        ev.success(result);\r\n                        \r\n                    });\r\n                },\r\n                update: async (ev) => {\r\n                    delete ev.data.EncargadoId;\r\n                    delete ev.data.Encargado;\r\n                    delete ev.data.EncargadoEmail;\r\n                    delete ev.data.EncargadoStringId;\r\n\r\n                    await DataComite.updateData(ev.data);\r\n                    dataSource.read();\r\n                    ev.success();\r\n                }\r\n            },\r\n            serverSorting: true,\r\n            pageSize: 10,\r\n            filter: { field: \"IdIniciativa\", operator: \"eq\", value: e.data.Id },\r\n            schema: {\r\n                model: {\r\n                    id: \"IdIniciativa\"\r\n                }\r\n            }\r\n        },\r\n        scrollable: false,\r\n        sortable: true,\r\n        pageable: true,\r\n        columns: [\r\n            { field: \"Encargado\", title: \"Encargado\", width: 350 },\r\n            { field: \"Estado\", title: \"Estado\", template: templateEstadoComite, width: 200 },\r\n            { field: \"Fase\", title: \"Fase\", template: templateFase, width: 250 },\r\n            { field: \"Comentario\", title: \"Comentario\", width: 500 },\r\n\r\n            {\r\n                command: [\r\n                    \r\n                    {name: \"edit\", text: \"EDITAR\", iconClass: \"k-icon k-i-edit\"\r\n                    , visible: function(dataItem){\r\n                        if(dataItem.EncargadoId[0] == _spPageContextInfo.userId && dataItem.Estado == \"espera\"){\r\n                            return true;\r\n                        }\r\n\r\n                        if(dataItem.EncargadoId[0] == _spPageContextInfo.userId && dataItem.Estado == \"equipo\"){\r\n                            return true;\r\n                        }\r\n\t\t\t\t\t}\r\n                    \r\n                }\r\n                ]\r\n            }\r\n        ],\r\n        editable: {\r\n            mode: \"popup\",\r\n            template: ComiteTemplate.getTemplate(),\r\n            window: { title: \"Valoración de la Iniciativa\" }\r\n        },\r\n        edit: ComiteEvents.edit\r\n    });\r\n}"]}